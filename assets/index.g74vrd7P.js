const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Login.BQOv8i04.js","assets/Login.ob8KIkJB.css","assets/Home.CUYMrcls.js","assets/Home.C-1eQ7m8.css","assets/Products.D8F3WS5C.js","assets/search.CbM0cuqP.js","assets/Products.Ccjpu8US.css","assets/ProductQuery.CXn4Gy7V.js","assets/ProductQuery.C49k5pPa.css","assets/ProductForm.D6G2w3AC.js","assets/ProductForm.B_Y3z7qs.css","assets/ProductBatchAdd.CFHnkSXR.js","assets/ProductBatchAdd.cz0_ucfQ.css","assets/Purchase.45ykPM8T.js","assets/Purchase.D_4hdQn8.css","assets/Sales.Cc1uCDcH.js","assets/Sales.Da_-M-l4.css","assets/CartSales.916aEmdC.js","assets/CartSales.DpkBLLwW.css","assets/Statistics.ClGqlnrz.js","assets/Statistics.BbfAmlAB.css","assets/DataManagement.6kFEhIqb.js","assets/DataManagement.yLYP1PEm.css","assets/StaffStats.Bgv9a01X.js","assets/StaffStats.DT7Nep1f.css","assets/DailyReport.TbLtFz1v.js","assets/DailyReport.CjPJ9iu5.css","assets/Inventory.DUnrb1xx.js","assets/Inventory.CwhNPVxl.css","assets/Returns.DL7JTFne.js","assets/Returns.C23ZEUk-.css","assets/Members.D6pb-a_f.js","assets/Members.DjBNIeTl.css","assets/MemberRecharge.DFudfAnN.js","assets/MemberRecharge.C2Yf0-hF.css","assets/MemberHistory.BawcSlru.js","assets/MemberHistory.D-3JngYQ.css","assets/UserManagement.uOIVxCM8.js","assets/UserManagement.Db7bxaQy.css","assets/OperationLogs.n5whXv8F.js","assets/OperationLogs.D_8rlIoL.css"])))=>i.map(i=>d[i]);
var mw=Object.defineProperty,vw=Object.defineProperties;var yw=Object.getOwnPropertyDescriptors;var qu=Object.getOwnPropertySymbols,pw=Object.getPrototypeOf,bw=Object.prototype.hasOwnProperty,ww=Object.prototype.propertyIsEnumerable,_w=Reflect.get;var el=Math.pow,Ku=(e,t,n)=>t in e?mw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ne=(e,t)=>{for(var n in t||(t={}))bw.call(t,n)&&Ku(e,n,t[n]);if(qu)for(var n of qu(t))ww.call(t,n)&&Ku(e,n,t[n]);return e},Mt=(e,t)=>vw(e,yw(t));var jt=(e,t,n)=>_w(pw(e),n,t);var A=(e,t,n)=>new Promise((r,s)=>{var o=l=>{try{i(n.next(l))}catch(c){s(c)}},a=l=>{try{i(n.throw(l))}catch(c){s(c)}},i=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,a);i((n=n.apply(e,t)).next())});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();/**
* @vue/shared v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Mc(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Ve={},Is=[],In=()=>{},Oh=()=>!1,di=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),jc=e=>e.startsWith("onUpdate:"),vt=Object.assign,Uc=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Sw=Object.prototype.hasOwnProperty,je=(e,t)=>Sw.call(e,t),Ee=Array.isArray,$s=e=>fi(e)==="[object Map]",Rh=e=>fi(e)==="[object Set]",ke=e=>typeof e=="function",Ye=e=>typeof e=="string",Ar=e=>typeof e=="symbol",Ge=e=>e!==null&&typeof e=="object",Ph=e=>(Ge(e)||ke(e))&&ke(e.then)&&ke(e.catch),Ih=Object.prototype.toString,fi=e=>Ih.call(e),Ew=e=>fi(e).slice(8,-1),$h=e=>fi(e)==="[object Object]",hi=e=>Ye(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,mo=Mc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),gi=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Tw=/-\w/g,tn=gi(e=>e.replace(Tw,t=>t.slice(1).toUpperCase())),Cw=/\B([A-Z])/g,or=gi(e=>e.replace(Cw,"-$1").toLowerCase()),mi=gi(e=>e.charAt(0).toUpperCase()+e.slice(1)),tl=gi(e=>e?`on${mi(e)}`:""),xr=(e,t)=>!Object.is(e,t),nl=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Dh=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},xw=e=>{const t=parseFloat(e);return isNaN(t)?e:t},kw=e=>{const t=Ye(e)?Number(e):NaN;return isNaN(t)?e:t};let Gu;const vi=()=>Gu||(Gu=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function yi(e){if(Ee(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=Ye(r)?Pw(r):yi(r);if(s)for(const o in s)t[o]=s[o]}return t}else if(Ye(e)||Ge(e))return e}const Aw=/;(?![^(]*\))/g,Ow=/:([^]+)/,Rw=/\/\*[^]*?\*\//g;function Pw(e){const t={};return e.replace(Rw,"").split(Aw).forEach(n=>{if(n){const r=n.split(Ow);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Iw(e){if(!e)return"";if(Ye(e))return e;let t="";for(const n in e){const r=e[n];if(Ye(r)||typeof r=="number"){const s=n.startsWith("--")?n:or(n);t+=`${s}:${r};`}}return t}function pi(e){let t="";if(Ye(e))t=e;else if(Ee(e))for(let n=0;n<e.length;n++){const r=pi(e[n]);r&&(t+=r+" ")}else if(Ge(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const $w="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Dw=Mc($w);function Bh(e){return!!e||e===""}const Nh=e=>!!(e&&e.__v_isRef===!0),Bw=e=>Ye(e)?e:e==null?"":Ee(e)||Ge(e)&&(e.toString===Ih||!ke(e.toString))?Nh(e)?Bw(e.value):JSON.stringify(e,Lh,2):String(e),Lh=(e,t)=>Nh(t)?Lh(e,t.value):$s(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s],o)=>(n[rl(r,o)+" =>"]=s,n),{})}:Rh(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>rl(n))}:Ar(t)?rl(t):Ge(t)&&!Ee(t)&&!$h(t)?String(t):t,rl=(e,t="")=>{var n;return Ar(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Tt;class Mh{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Tt,!t&&Tt&&(this.index=(Tt.scopes||(Tt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Tt;try{return Tt=this,t()}finally{Tt=n}}}on(){++this._on===1&&(this.prevScope=Tt,Tt=this)}off(){this._on>0&&--this._on===0&&(Tt=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function jh(e){return new Mh(e)}function Uh(){return Tt}function Nw(e,t=!1){Tt&&Tt.cleanups.push(e)}let ze;const sl=new WeakSet;class Vh{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Tt&&Tt.active&&Tt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,sl.has(this)&&(sl.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Hh(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Yu(this),zh(this);const t=ze,n=yn;ze=this,yn=!0;try{return this.fn()}finally{Wh(this),ze=t,yn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Hc(t);this.deps=this.depsTail=void 0,Yu(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?sl.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Gl(this)&&this.run()}get dirty(){return Gl(this)}}let Fh=0,vo,yo;function Hh(e,t=!1){if(e.flags|=8,t){e.next=yo,yo=e;return}e.next=vo,vo=e}function Vc(){Fh++}function Fc(){if(--Fh>0)return;if(yo){let t=yo;for(yo=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;vo;){let t=vo;for(vo=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function zh(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Wh(e){let t,n=e.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),Hc(r),Lw(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}e.deps=t,e.depsTail=n}function Gl(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(qh(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function qh(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Po)||(e.globalVersion=Po,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Gl(e))))return;e.flags|=2;const t=e.dep,n=ze,r=yn;ze=e,yn=!0;try{zh(e);const s=e.fn(e._value);(t.version===0||xr(s,e._value))&&(e.flags|=128,e._value=s,t.version++)}catch(s){throw t.version++,s}finally{ze=n,yn=r,Wh(e),e.flags&=-3}}function Hc(e,t=!1){const{dep:n,prevSub:r,nextSub:s}=e;if(r&&(r.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let o=n.computed.deps;o;o=o.nextDep)Hc(o,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Lw(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let yn=!0;const Kh=[];function Qn(){Kh.push(yn),yn=!1}function er(){const e=Kh.pop();yn=e===void 0?!0:e}function Yu(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=ze;ze=void 0;try{t()}finally{ze=n}}}let Po=0;class Mw{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class zc{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!ze||!yn||ze===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==ze)n=this.activeLink=new Mw(ze,this),ze.deps?(n.prevDep=ze.depsTail,ze.depsTail.nextDep=n,ze.depsTail=n):ze.deps=ze.depsTail=n,Gh(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=ze.depsTail,n.nextDep=void 0,ze.depsTail.nextDep=n,ze.depsTail=n,ze.deps===n&&(ze.deps=r)}return n}trigger(t){this.version++,Po++,this.notify(t)}notify(t){Vc();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Fc()}}}function Gh(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)Gh(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const za=new WeakMap,Jr=Symbol(""),Yl=Symbol(""),Io=Symbol("");function Ct(e,t,n){if(yn&&ze){let r=za.get(e);r||za.set(e,r=new Map);let s=r.get(n);s||(r.set(n,s=new zc),s.map=r,s.key=n),s.track()}}function Gn(e,t,n,r,s,o){const a=za.get(e);if(!a){Po++;return}const i=l=>{l&&l.trigger()};if(Vc(),t==="clear")a.forEach(i);else{const l=Ee(e),c=l&&hi(n);if(l&&n==="length"){const u=Number(r);a.forEach((d,f)=>{(f==="length"||f===Io||!Ar(f)&&f>=u)&&i(d)})}else switch((n!==void 0||a.has(void 0))&&i(a.get(n)),c&&i(a.get(Io)),t){case"add":l?c&&i(a.get("length")):(i(a.get(Jr)),$s(e)&&i(a.get(Yl)));break;case"delete":l||(i(a.get(Jr)),$s(e)&&i(a.get(Yl)));break;case"set":$s(e)&&i(a.get(Jr));break}}Fc()}function jw(e,t){const n=za.get(e);return n&&n.get(t)}function ss(e){const t=$e(e);return t===e?t:(Ct(t,"iterate",Io),Gt(e)?t:t.map(wn))}function bi(e){return Ct(e=$e(e),"iterate",Io),e}function br(e,t){return tr(e)?Xn(e)?Us(wn(t)):Us(t):wn(t)}const Uw={__proto__:null,[Symbol.iterator](){return ol(this,Symbol.iterator,e=>br(this,e))},concat(...e){return ss(this).concat(...e.map(t=>Ee(t)?ss(t):t))},entries(){return ol(this,"entries",e=>(e[1]=br(this,e[1]),e))},every(e,t){return jn(this,"every",e,t,void 0,arguments)},filter(e,t){return jn(this,"filter",e,t,n=>n.map(r=>br(this,r)),arguments)},find(e,t){return jn(this,"find",e,t,n=>br(this,n),arguments)},findIndex(e,t){return jn(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return jn(this,"findLast",e,t,n=>br(this,n),arguments)},findLastIndex(e,t){return jn(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return jn(this,"forEach",e,t,void 0,arguments)},includes(...e){return al(this,"includes",e)},indexOf(...e){return al(this,"indexOf",e)},join(e){return ss(this).join(e)},lastIndexOf(...e){return al(this,"lastIndexOf",e)},map(e,t){return jn(this,"map",e,t,void 0,arguments)},pop(){return eo(this,"pop")},push(...e){return eo(this,"push",e)},reduce(e,...t){return Ju(this,"reduce",e,t)},reduceRight(e,...t){return Ju(this,"reduceRight",e,t)},shift(){return eo(this,"shift")},some(e,t){return jn(this,"some",e,t,void 0,arguments)},splice(...e){return eo(this,"splice",e)},toReversed(){return ss(this).toReversed()},toSorted(e){return ss(this).toSorted(e)},toSpliced(...e){return ss(this).toSpliced(...e)},unshift(...e){return eo(this,"unshift",e)},values(){return ol(this,"values",e=>br(this,e))}};function ol(e,t,n){const r=bi(e),s=r[t]();return r!==e&&!Gt(e)&&(s._next=s.next,s.next=()=>{const o=s._next();return o.done||(o.value=n(o.value)),o}),s}const Vw=Array.prototype;function jn(e,t,n,r,s,o){const a=bi(e),i=a!==e&&!Gt(e),l=a[t];if(l!==Vw[t]){const d=l.apply(e,o);return i?wn(d):d}let c=n;a!==e&&(i?c=function(d,f){return n.call(this,br(e,d),f,e)}:n.length>2&&(c=function(d,f){return n.call(this,d,f,e)}));const u=l.call(a,c,r);return i&&s?s(u):u}function Ju(e,t,n,r){const s=bi(e);let o=n;return s!==e&&(Gt(e)?n.length>3&&(o=function(a,i,l){return n.call(this,a,i,l,e)}):o=function(a,i,l){return n.call(this,a,br(e,i),l,e)}),s[t](o,...r)}function al(e,t,n){const r=$e(e);Ct(r,"iterate",Io);const s=r[t](...n);return(s===-1||s===!1)&&wi(n[0])?(n[0]=$e(n[0]),r[t](...n)):s}function eo(e,t,n=[]){Qn(),Vc();const r=$e(e)[t].apply(e,n);return Fc(),er(),r}const Fw=Mc("__proto__,__v_isRef,__isVue"),Yh=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ar));function Hw(e){Ar(e)||(e=String(e));const t=$e(this);return Ct(t,"has",e),t.hasOwnProperty(e)}class Jh{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const s=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return o;if(n==="__v_raw")return r===(s?o?Qw:eg:o?Qh:Zh).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const a=Ee(t);if(!s){let l;if(a&&(l=Uw[n]))return l;if(n==="hasOwnProperty")return Hw}const i=Reflect.get(t,n,tt(t)?t:r);if((Ar(n)?Yh.has(n):Fw(n))||(s||Ct(t,"get",n),o))return i;if(tt(i)){const l=a&&hi(n)?i:i.value;return s&&Ge(l)?Xl(l):l}return Ge(i)?s?Xl(i):Je(i):i}}class Xh extends Jh{constructor(t=!1){super(!1,t)}set(t,n,r,s){let o=t[n];const a=Ee(t)&&hi(n);if(!this._isShallow){const c=tr(o);if(!Gt(r)&&!tr(r)&&(o=$e(o),r=$e(r)),!a&&tt(o)&&!tt(r))return c||(o.value=r),!0}const i=a?Number(n)<t.length:je(t,n),l=Reflect.set(t,n,r,tt(t)?t:s);return t===$e(s)&&(i?xr(r,o)&&Gn(t,"set",n,r):Gn(t,"add",n,r)),l}deleteProperty(t,n){const r=je(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&r&&Gn(t,"delete",n,void 0),s}has(t,n){const r=Reflect.has(t,n);return(!Ar(n)||!Yh.has(n))&&Ct(t,"has",n),r}ownKeys(t){return Ct(t,"iterate",Ee(t)?"length":Jr),Reflect.ownKeys(t)}}class zw extends Jh{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Ww=new Xh,qw=new zw,Kw=new Xh(!0);const Jl=e=>e,ia=e=>Reflect.getPrototypeOf(e);function Gw(e,t,n){return function(...r){const s=this.__v_raw,o=$e(s),a=$s(o),i=e==="entries"||e===Symbol.iterator&&a,l=e==="keys"&&a,c=s[e](...r),u=n?Jl:t?Us:wn;return!t&&Ct(o,"iterate",l?Yl:Jr),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:i?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function la(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Yw(e,t){const n={get(s){const o=this.__v_raw,a=$e(o),i=$e(s);e||(xr(s,i)&&Ct(a,"get",s),Ct(a,"get",i));const{has:l}=ia(a),c=t?Jl:e?Us:wn;if(l.call(a,s))return c(o.get(s));if(l.call(a,i))return c(o.get(i));o!==a&&o.get(s)},get size(){const s=this.__v_raw;return!e&&Ct($e(s),"iterate",Jr),s.size},has(s){const o=this.__v_raw,a=$e(o),i=$e(s);return e||(xr(s,i)&&Ct(a,"has",s),Ct(a,"has",i)),s===i?o.has(s):o.has(s)||o.has(i)},forEach(s,o){const a=this,i=a.__v_raw,l=$e(i),c=t?Jl:e?Us:wn;return!e&&Ct(l,"iterate",Jr),i.forEach((u,d)=>s.call(o,c(u),c(d),a))}};return vt(n,e?{add:la("add"),set:la("set"),delete:la("delete"),clear:la("clear")}:{add(s){!t&&!Gt(s)&&!tr(s)&&(s=$e(s));const o=$e(this);return ia(o).has.call(o,s)||(o.add(s),Gn(o,"add",s,s)),this},set(s,o){!t&&!Gt(o)&&!tr(o)&&(o=$e(o));const a=$e(this),{has:i,get:l}=ia(a);let c=i.call(a,s);c||(s=$e(s),c=i.call(a,s));const u=l.call(a,s);return a.set(s,o),c?xr(o,u)&&Gn(a,"set",s,o):Gn(a,"add",s,o),this},delete(s){const o=$e(this),{has:a,get:i}=ia(o);let l=a.call(o,s);l||(s=$e(s),l=a.call(o,s)),i&&i.call(o,s);const c=o.delete(s);return l&&Gn(o,"delete",s,void 0),c},clear(){const s=$e(this),o=s.size!==0,a=s.clear();return o&&Gn(s,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=Gw(s,e,t)}),n}function Wc(e,t){const n=Yw(e,t);return(r,s,o)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(je(n,s)&&s in r?n:r,s,o)}const Jw={get:Wc(!1,!1)},Xw={get:Wc(!1,!0)},Zw={get:Wc(!0,!1)};const Zh=new WeakMap,Qh=new WeakMap,eg=new WeakMap,Qw=new WeakMap;function e0(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function t0(e){return e.__v_skip||!Object.isExtensible(e)?0:e0(Ew(e))}function Je(e){return tr(e)?e:qc(e,!1,Ww,Jw,Zh)}function tg(e){return qc(e,!1,Kw,Xw,Qh)}function Xl(e){return qc(e,!0,qw,Zw,eg)}function qc(e,t,n,r,s){if(!Ge(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=t0(e);if(o===0)return e;const a=s.get(e);if(a)return a;const i=new Proxy(e,o===2?r:n);return s.set(e,i),i}function Xn(e){return tr(e)?Xn(e.__v_raw):!!(e&&e.__v_isReactive)}function tr(e){return!!(e&&e.__v_isReadonly)}function Gt(e){return!!(e&&e.__v_isShallow)}function wi(e){return e?!!e.__v_raw:!1}function $e(e){const t=e&&e.__v_raw;return t?$e(t):e}function Kc(e){return!je(e,"__v_skip")&&Object.isExtensible(e)&&Dh(e,"__v_skip",!0),e}const wn=e=>Ge(e)?Je(e):e,Us=e=>Ge(e)?Xl(e):e;function tt(e){return e?e.__v_isRef===!0:!1}function U(e){return ng(e,!1)}function n0(e){return ng(e,!0)}function ng(e,t){return tt(e)?e:new r0(e,t)}class r0{constructor(t,n){this.dep=new zc,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:$e(t),this._value=n?t:wn(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||Gt(t)||tr(t);t=r?t:$e(t),xr(t,n)&&(this._rawValue=t,this._value=r?t:wn(t),this.dep.trigger())}}function Qt(e){return tt(e)?e.value:e}const s0={get:(e,t,n)=>t==="__v_raw"?e:Qt(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return tt(s)&&!tt(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function rg(e){return Xn(e)?e:new Proxy(e,s0)}function o0(e){const t=Ee(e)?new Array(e.length):{};for(const n in e)t[n]=i0(e,n);return t}class a0{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0,this._raw=$e(t);let s=!0,o=t;if(!Ee(t)||!hi(String(n)))do s=!wi(o)||Gt(o);while(s&&(o=o.__v_raw));this._shallow=s}get value(){let t=this._object[this._key];return this._shallow&&(t=Qt(t)),this._value=t===void 0?this._defaultValue:t}set value(t){if(this._shallow&&tt(this._raw[this._key])){const n=this._object[this._key];if(tt(n)){n.value=t;return}}this._object[this._key]=t}get dep(){return jw(this._raw,this._key)}}function i0(e,t,n){return new a0(e,t,n)}class l0{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new zc(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Po-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&ze!==this)return Hh(this,!0),!0}get value(){const t=this.dep.track();return qh(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function c0(e,t,n=!1){let r,s;return ke(e)?r=e:(r=e.get,s=e.set),new l0(r,s,n)}const ca={},Wa=new WeakMap;let Fr;function u0(e,t=!1,n=Fr){if(n){let r=Wa.get(n);r||Wa.set(n,r=[]),r.push(e)}}function d0(e,t,n=Ve){const{immediate:r,deep:s,once:o,scheduler:a,augmentJob:i,call:l}=n,c=S=>s?S:Gt(S)||s===!1||s===0?Yn(S,1):Yn(S);let u,d,f,g,p=!1,_=!1;if(tt(e)?(d=()=>e.value,p=Gt(e)):Xn(e)?(d=()=>c(e),p=!0):Ee(e)?(_=!0,p=e.some(S=>Xn(S)||Gt(S)),d=()=>e.map(S=>{if(tt(S))return S.value;if(Xn(S))return c(S);if(ke(S))return l?l(S,2):S()})):ke(e)?t?d=l?()=>l(e,2):e:d=()=>{if(f){Qn();try{f()}finally{er()}}const S=Fr;Fr=u;try{return l?l(e,3,[g]):e(g)}finally{Fr=S}}:d=In,t&&s){const S=d,b=s===!0?1/0:s;d=()=>Yn(S(),b)}const m=Uh(),w=()=>{u.stop(),m&&m.active&&Uc(m.effects,u)};if(o&&t){const S=t;t=(...b)=>{S(...b),w()}}let y=_?new Array(e.length).fill(ca):ca;const v=S=>{if(!(!(u.flags&1)||!u.dirty&&!S))if(t){const b=u.run();if(s||p||(_?b.some((x,O)=>xr(x,y[O])):xr(b,y))){f&&f();const x=Fr;Fr=u;try{const O=[b,y===ca?void 0:_&&y[0]===ca?[]:y,g];y=b,l?l(t,3,O):t(...O)}finally{Fr=x}}}else u.run()};return i&&i(v),u=new Vh(d),u.scheduler=a?()=>a(v,!1):v,g=S=>u0(S,!1,u),f=u.onStop=()=>{const S=Wa.get(u);if(S){if(l)l(S,4);else for(const b of S)b();Wa.delete(u)}},t?r?v(!0):y=u.run():a?a(v.bind(null,!0),!0):u.run(),w.pause=u.pause.bind(u),w.resume=u.resume.bind(u),w.stop=w,w}function Yn(e,t=1/0,n){if(t<=0||!Ge(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,tt(e))Yn(e.value,t,n);else if(Ee(e))for(let r=0;r<e.length;r++)Yn(e[r],t,n);else if(Rh(e)||$s(e))e.forEach(r=>{Yn(r,t,n)});else if($h(e)){for(const r in e)Yn(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Yn(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Zo(e,t,n,r){try{return r?e(...r):e()}catch(s){_i(s,t,n)}}function _n(e,t,n,r){if(ke(e)){const s=Zo(e,t,n,r);return s&&Ph(s)&&s.catch(o=>{_i(o,t,n)}),s}if(Ee(e)){const s=[];for(let o=0;o<e.length;o++)s.push(_n(e[o],t,n,r));return s}}function _i(e,t,n,r=!0){const s=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:a}=t&&t.appContext.config||Ve;if(t){let i=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;i;){const u=i.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](e,l,c)===!1)return}i=i.parent}if(o){Qn(),Zo(o,null,10,[e,l,c]),er();return}}f0(e,n,s,r,a)}function f0(e,t,n,r=!0,s=!1){if(s)throw e;console.error(e)}const Bt=[];let Rn=-1;const Ds=[];let wr=null,Cs=0;const sg=Promise.resolve();let qa=null;function Ae(e){const t=qa||sg;return e?t.then(this?e.bind(this):e):t}function h0(e){let t=Rn+1,n=Bt.length;for(;t<n;){const r=t+n>>>1,s=Bt[r],o=$o(s);o<e||o===e&&s.flags&2?t=r+1:n=r}return t}function Gc(e){if(!(e.flags&1)){const t=$o(e),n=Bt[Bt.length-1];!n||!(e.flags&2)&&t>=$o(n)?Bt.push(e):Bt.splice(h0(t),0,e),e.flags|=1,og()}}function og(){qa||(qa=sg.then(ig))}function g0(e){Ee(e)?Ds.push(...e):wr&&e.id===-1?wr.splice(Cs+1,0,e):e.flags&1||(Ds.push(e),e.flags|=1),og()}function Xu(e,t,n=Rn+1){for(;n<Bt.length;n++){const r=Bt[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;Bt.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function ag(e){if(Ds.length){const t=[...new Set(Ds)].sort((n,r)=>$o(n)-$o(r));if(Ds.length=0,wr){wr.push(...t);return}for(wr=t,Cs=0;Cs<wr.length;Cs++){const n=wr[Cs];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}wr=null,Cs=0}}const $o=e=>e.id==null?e.flags&2?-1:1/0:e.id;function ig(e){try{for(Rn=0;Rn<Bt.length;Rn++){const t=Bt[Rn];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Zo(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Rn<Bt.length;Rn++){const t=Bt[Rn];t&&(t.flags&=-2)}Rn=-1,Bt.length=0,ag(),qa=null,(Bt.length||Ds.length)&&ig()}}let qt=null,lg=null;function Ka(e){const t=qt;return qt=e,lg=e&&e.type.__scopeId||null,t}function Do(e,t=qt,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&Ja(-1);const o=Ka(t);let a;try{a=e(...s)}finally{Ka(o),r._d&&Ja(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function mt(e,t){if(qt===null)return e;const n=Ci(qt),r=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[o,a,i,l=Ve]=t[s];o&&(ke(o)&&(o={mounted:o,updated:o}),o.deep&&Yn(a),r.push({dir:o,instance:n,value:a,oldValue:void 0,arg:i,modifiers:l}))}return e}function Dr(e,t,n,r){const s=e.dirs,o=t&&t.dirs;for(let a=0;a<s.length;a++){const i=s[a];o&&(i.oldValue=o[a].value);let l=i.dir[r];l&&(Qn(),_n(l,n,8,[e.el,i,e,t]),er())}}function $n(e,t){if(xt){let n=xt.provides;const r=xt.parent&&xt.parent.provides;r===n&&(n=xt.provides=Object.create(r)),n[e]=t}}function wt(e,t,n=!1){const r=Yt();if(r||Xr){let s=Xr?Xr._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return n&&ke(t)?t.call(r&&r.proxy):t}}function m0(){return!!(Yt()||Xr)}const v0=Symbol.for("v-scx"),y0=()=>wt(v0);function Ks(e,t){return Yc(e,null,t)}function oe(e,t,n){return Yc(e,t,n)}function Yc(e,t,n=Ve){const{immediate:r,deep:s,flush:o,once:a}=n,i=vt({},n),l=t&&r||!t&&o!=="post";let c;if(jo){if(o==="sync"){const g=y0();c=g.__watcherHandles||(g.__watcherHandles=[])}else if(!l){const g=()=>{};return g.stop=In,g.resume=In,g.pause=In,g}}const u=xt;i.call=(g,p,_)=>_n(g,u,p,_);let d=!1;o==="post"?i.scheduler=g=>{$t(g,u&&u.suspense)}:o!=="sync"&&(d=!0,i.scheduler=(g,p)=>{p?g():Gc(g)}),i.augmentJob=g=>{t&&(g.flags|=4),d&&(g.flags|=2,u&&(g.id=u.uid,g.i=u))};const f=d0(e,t,i);return jo&&(c?c.push(f):l&&f()),f}function p0(e,t,n){const r=this.proxy,s=Ye(e)?e.includes(".")?cg(r,e):()=>r[e]:e.bind(r,r);let o;ke(t)?o=t:(o=t.handler,n=t);const a=ea(this),i=Yc(s,o.bind(r),n);return a(),i}function cg(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const ug=Symbol("_vte"),dg=e=>e.__isTeleport,po=e=>e&&(e.disabled||e.disabled===""),Zu=e=>e&&(e.defer||e.defer===""),Qu=e=>typeof SVGElement!="undefined"&&e instanceof SVGElement,ed=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Zl=(e,t)=>{const n=e&&e.to;return Ye(n)?t?t(n):null:n},fg={name:"Teleport",__isTeleport:!0,process(e,t,n,r,s,o,a,i,l,c){const{mc:u,pc:d,pbc:f,o:{insert:g,querySelector:p,createText:_,createComment:m}}=c,w=po(t.props);let{shapeFlag:y,children:v,dynamicChildren:S}=t;if(e==null){const b=t.el=_(""),x=t.anchor=_("");g(b,n,r),g(x,n,r);const O=(R,D)=>{y&16&&u(v,R,D,s,o,a,i,l)},C=()=>{const R=t.target=Zl(t.props,p),D=hg(R,t,_,g);R&&(a!=="svg"&&Qu(R)?a="svg":a!=="mathml"&&ed(R)&&(a="mathml"),s&&s.isCE&&(s.ce._teleportTargets||(s.ce._teleportTargets=new Set)).add(R),w||(O(R,D),Na(t,!1)))};w&&(O(n,x),Na(t,!0)),Zu(t.props)?(t.el.__isMounted=!1,$t(()=>{C(),delete t.el.__isMounted},o)):C()}else{if(Zu(t.props)&&e.el.__isMounted===!1){$t(()=>{fg.process(e,t,n,r,s,o,a,i,l,c)},o);return}t.el=e.el,t.targetStart=e.targetStart;const b=t.anchor=e.anchor,x=t.target=e.target,O=t.targetAnchor=e.targetAnchor,C=po(e.props),R=C?n:x,D=C?b:O;if(a==="svg"||Qu(x)?a="svg":(a==="mathml"||ed(x))&&(a="mathml"),S?(f(e.dynamicChildren,S,R,s,o,a,i),eu(e,t,!0)):l||d(e,t,R,D,s,o,a,i,!1),w)C?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):ua(t,n,b,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const T=t.target=Zl(t.props,p);T&&ua(t,T,null,c,0)}else C&&ua(t,x,O,c,1);Na(t,w)}},remove(e,t,n,{um:r,o:{remove:s}},o){const{shapeFlag:a,children:i,anchor:l,targetStart:c,targetAnchor:u,target:d,props:f}=e;if(d&&(s(c),s(u)),o&&s(l),a&16){const g=o||!po(f);for(let p=0;p<i.length;p++){const _=i[p];r(_,t,n,g,!!_.dynamicChildren)}}},move:ua,hydrate:b0};function ua(e,t,n,{o:{insert:r},m:s},o=2){o===0&&r(e.targetAnchor,t,n);const{el:a,anchor:i,shapeFlag:l,children:c,props:u}=e,d=o===2;if(d&&r(a,t,n),(!d||po(u))&&l&16)for(let f=0;f<c.length;f++)s(c[f],t,n,2);d&&r(i,t,n)}function b0(e,t,n,r,s,o,{o:{nextSibling:a,parentNode:i,querySelector:l,insert:c,createText:u}},d){function f(_,m,w,y){m.anchor=d(a(_),m,i(_),n,r,s,o),m.targetStart=w,m.targetAnchor=y}const g=t.target=Zl(t.props,l),p=po(t.props);if(g){const _=g._lpa||g.firstChild;if(t.shapeFlag&16)if(p)f(e,t,_,_&&a(_));else{t.anchor=a(e);let m=_;for(;m;){if(m&&m.nodeType===8){if(m.data==="teleport start anchor")t.targetStart=m;else if(m.data==="teleport anchor"){t.targetAnchor=m,g._lpa=t.targetAnchor&&a(t.targetAnchor);break}}m=a(m)}t.targetAnchor||hg(g,t,u,c),d(_&&a(_),t,g,n,r,s,o)}Na(t,p)}else p&&t.shapeFlag&16&&f(e,t,e,a(e));return t.anchor&&a(t.anchor)}const ts=fg;function Na(e,t){const n=e.ctx;if(n&&n.ut){let r,s;for(t?(r=e.el,s=e.anchor):(r=e.targetStart,s=e.targetAnchor);r&&r!==s;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function hg(e,t,n,r){const s=t.targetStart=n(""),o=t.targetAnchor=n("");return s[ug]=o,e&&(r(s,e),r(o,e)),o}const Kn=Symbol("_leaveCb"),da=Symbol("_enterCb");function w0(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ze(()=>{e.isMounted=!0}),Mn(()=>{e.isUnmounting=!0}),e}const Jt=[Function,Array],gg={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Jt,onEnter:Jt,onAfterEnter:Jt,onEnterCancelled:Jt,onBeforeLeave:Jt,onLeave:Jt,onAfterLeave:Jt,onLeaveCancelled:Jt,onBeforeAppear:Jt,onAppear:Jt,onAfterAppear:Jt,onAppearCancelled:Jt},mg=e=>{const t=e.subTree;return t.component?mg(t.component):t},_0={name:"BaseTransition",props:gg,setup(e,{slots:t}){const n=Yt(),r=w0();return()=>{const s=t.default&&pg(t.default(),!0);if(!s||!s.length)return;const o=vg(s),a=$e(e),{mode:i}=a;if(r.isLeaving)return il(o);const l=td(o);if(!l)return il(o);let c=Ql(l,a,r,n,d=>c=d);l.type!==bt&&Bo(l,c);let u=n.subTree&&td(n.subTree);if(u&&u.type!==bt&&!zr(u,l)&&mg(n).type!==bt){let d=Ql(u,a,r,n);if(Bo(u,d),i==="out-in"&&l.type!==bt)return r.isLeaving=!0,d.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete d.afterLeave,u=void 0},il(o);i==="in-out"&&l.type!==bt?d.delayLeave=(f,g,p)=>{const _=yg(r,u);_[String(u.key)]=u,f[Kn]=()=>{g(),f[Kn]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{p(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return o}}};function vg(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==bt){t=n;break}}return t}const S0=_0;function yg(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Ql(e,t,n,r,s){const{appear:o,mode:a,persisted:i=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:f,onLeave:g,onAfterLeave:p,onLeaveCancelled:_,onBeforeAppear:m,onAppear:w,onAfterAppear:y,onAppearCancelled:v}=t,S=String(e.key),b=yg(n,e),x=(R,D)=>{R&&_n(R,r,9,D)},O=(R,D)=>{const T=D[1];x(R,D),Ee(R)?R.every(E=>E.length<=1)&&T():R.length<=1&&T()},C={mode:a,persisted:i,beforeEnter(R){let D=l;if(!n.isMounted)if(o)D=m||l;else return;R[Kn]&&R[Kn](!0);const T=b[S];T&&zr(e,T)&&T.el[Kn]&&T.el[Kn](),x(D,[R])},enter(R){let D=c,T=u,E=d;if(!n.isMounted)if(o)D=w||c,T=y||u,E=v||d;else return;let k=!1;const $=R[da]=N=>{k||(k=!0,N?x(E,[R]):x(T,[R]),C.delayedLeave&&C.delayedLeave(),R[da]=void 0)};D?O(D,[R,$]):$()},leave(R,D){const T=String(e.key);if(R[da]&&R[da](!0),n.isUnmounting)return D();x(f,[R]);let E=!1;const k=R[Kn]=$=>{E||(E=!0,D(),$?x(_,[R]):x(p,[R]),R[Kn]=void 0,b[T]===e&&delete b[T])};b[T]=e,g?O(g,[R,k]):k()},clone(R){const D=Ql(R,t,n,r,s);return s&&s(D),D}};return C}function il(e){if(Si(e))return e=kr(e),e.children=null,e}function td(e){if(!Si(e))return dg(e.type)&&e.children?vg(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&ke(n.default))return n.default()}}function Bo(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Bo(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function pg(e,t=!1,n){let r=[],s=0;for(let o=0;o<e.length;o++){let a=e[o];const i=n==null?a.key:String(n)+String(a.key!=null?a.key:o);a.type===lt?(a.patchFlag&128&&s++,r=r.concat(pg(a.children,t,i))):(t||a.type!==bt)&&r.push(i!=null?kr(a,{key:i}):a)}if(s>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}function Y(e,t){return ke(e)?vt({name:e.name},t,{setup:e}):e}function bg(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const Ga=new WeakMap;function bo(e,t,n,r,s=!1){if(Ee(e)){e.forEach((p,_)=>bo(p,t&&(Ee(t)?t[_]:t),n,r,s));return}if(wo(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&bo(e,t,n,r.component.subTree);return}const o=r.shapeFlag&4?Ci(r.component):r.el,a=s?null:o,{i,r:l}=e,c=t&&t.r,u=i.refs===Ve?i.refs={}:i.refs,d=i.setupState,f=$e(d),g=d===Ve?Oh:p=>je(f,p);if(c!=null&&c!==l){if(nd(t),Ye(c))u[c]=null,g(c)&&(d[c]=null);else if(tt(c)){c.value=null;const p=t;p.k&&(u[p.k]=null)}}if(ke(l))Zo(l,i,12,[a,u]);else{const p=Ye(l),_=tt(l);if(p||_){const m=()=>{if(e.f){const w=p?g(l)?d[l]:u[l]:l.value;if(s)Ee(w)&&Uc(w,o);else if(Ee(w))w.includes(o)||w.push(o);else if(p)u[l]=[o],g(l)&&(d[l]=u[l]);else{const y=[o];l.value=y,e.k&&(u[e.k]=y)}}else p?(u[l]=a,g(l)&&(d[l]=a)):_&&(l.value=a,e.k&&(u[e.k]=a))};if(a){const w=()=>{m(),Ga.delete(e)};w.id=-1,Ga.set(e,w),$t(w,n)}else nd(e),m()}}}function nd(e){const t=Ga.get(e);t&&(t.flags|=8,Ga.delete(e))}vi().requestIdleCallback;vi().cancelIdleCallback;const wo=e=>!!e.type.__asyncLoader,Si=e=>e.type.__isKeepAlive;function Nn(e,t){wg(e,"a",t)}function Ln(e,t){wg(e,"da",t)}function wg(e,t,n=xt){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(Ei(t,r,n),n){let s=n.parent;for(;s&&s.parent;)Si(s.parent.vnode)&&E0(r,t,n,s),s=s.parent}}function E0(e,t,n,r){const s=Ei(t,e,r,!0);ns(()=>{Uc(r[t],s)},n)}function Ei(e,t,n=xt,r=!1){if(n){const s=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...a)=>{Qn();const i=ea(n),l=_n(t,n,e,a);return i(),er(),l});return r?s.unshift(o):s.push(o),o}}const ar=e=>(t,n=xt)=>{(!jo||e==="sp")&&Ei(e,(...r)=>t(...r),n)},T0=ar("bm"),Ze=ar("m"),_g=ar("bu"),Sg=ar("u"),Mn=ar("bum"),ns=ar("um"),C0=ar("sp"),x0=ar("rtg"),k0=ar("rtc");function A0(e,t=xt){Ei("ec",e,t)}const Jc="components",O0="directives";function Eg(e,t){return Xc(Jc,e,!0,t)||e}const Tg=Symbol.for("v-ndc");function R0(e){return Ye(e)?Xc(Jc,e,!1)||e:e||Tg}function P0(e){return Xc(O0,e)}function Xc(e,t,n=!0,r=!1){const s=qt||xt;if(s){const o=s.type;if(e===Jc){const i=m_(o,!1);if(i&&(i===t||i===tn(t)||i===mi(tn(t))))return o}const a=rd(s[e]||o[e],t)||rd(s.appContext[e],t);return!a&&r?o:a}}function rd(e,t){return e&&(e[t]||e[tn(t)]||e[mi(tn(t))])}function F1(e,t,n,r){let s;const o=n,a=Ee(e);if(a||Ye(e)){const i=a&&Xn(e);let l=!1,c=!1;i&&(l=!Gt(e),c=tr(e),e=bi(e)),s=new Array(e.length);for(let u=0,d=e.length;u<d;u++)s[u]=t(l?c?Us(wn(e[u])):wn(e[u]):e[u],u,void 0,o)}else if(typeof e=="number"){s=new Array(e);for(let i=0;i<e;i++)s[i]=t(i+1,i,void 0,o)}else if(Ge(e))if(e[Symbol.iterator])s=Array.from(e,(i,l)=>t(i,l,void 0,o));else{const i=Object.keys(e);s=new Array(i.length);for(let l=0,c=i.length;l<c;l++){const u=i[l];s[l]=t(e[u],u,l,o)}}else s=[];return s}const ec=e=>e?Hg(e)?Ci(e):ec(e.parent):null,_o=vt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ec(e.parent),$root:e=>ec(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>xg(e),$forceUpdate:e=>e.f||(e.f=()=>{Gc(e.update)}),$nextTick:e=>e.n||(e.n=Ae.bind(e.proxy)),$watch:e=>p0.bind(e)}),ll=(e,t)=>e!==Ve&&!e.__isScriptSetup&&je(e,t),I0={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:o,accessCache:a,type:i,appContext:l}=e;if(t[0]!=="$"){const f=a[t];if(f!==void 0)switch(f){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return o[t]}else{if(ll(r,t))return a[t]=1,r[t];if(s!==Ve&&je(s,t))return a[t]=2,s[t];if(je(o,t))return a[t]=3,o[t];if(n!==Ve&&je(n,t))return a[t]=4,n[t];tc&&(a[t]=0)}}const c=_o[t];let u,d;if(c)return t==="$attrs"&&Ct(e.attrs,"get",""),c(e);if((u=i.__cssModules)&&(u=u[t]))return u;if(n!==Ve&&je(n,t))return a[t]=4,n[t];if(d=l.config.globalProperties,je(d,t))return d[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:o}=e;return ll(s,t)?(s[t]=n,!0):r!==Ve&&je(r,t)?(r[t]=n,!0):je(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,props:o,type:a}},i){let l;return!!(n[i]||e!==Ve&&i[0]!=="$"&&je(e,i)||ll(t,i)||je(o,i)||je(r,i)||je(_o,i)||je(s.config.globalProperties,i)||(l=a.__cssModules)&&l[i])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:je(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function sd(e){return Ee(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let tc=!0;function $0(e){const t=xg(e),n=e.proxy,r=e.ctx;tc=!1,t.beforeCreate&&od(t.beforeCreate,e,"bc");const{data:s,computed:o,methods:a,watch:i,provide:l,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:g,updated:p,activated:_,deactivated:m,beforeDestroy:w,beforeUnmount:y,destroyed:v,unmounted:S,render:b,renderTracked:x,renderTriggered:O,errorCaptured:C,serverPrefetch:R,expose:D,inheritAttrs:T,components:E,directives:k,filters:$}=t;if(c&&D0(c,r,null),a)for(const H in a){const X=a[H];ke(X)&&(r[H]=X.bind(n))}if(s){const H=s.call(n,n);Ge(H)&&(e.data=Je(H))}if(tc=!0,o)for(const H in o){const X=o[H],me=ke(X)?X.bind(n,n):ke(X.get)?X.get.bind(n,n):In,Se=!ke(X)&&ke(X.set)?X.set.bind(n):In,ae=M({get:me,set:Se});Object.defineProperty(r,H,{enumerable:!0,configurable:!0,get:()=>ae.value,set:F=>ae.value=F})}if(i)for(const H in i)Cg(i[H],r,n,H);if(l){const H=ke(l)?l.call(n):l;Reflect.ownKeys(H).forEach(X=>{$n(X,H[X])})}u&&od(u,e,"c");function L(H,X){Ee(X)?X.forEach(me=>H(me.bind(n))):X&&H(X.bind(n))}if(L(T0,d),L(Ze,f),L(_g,g),L(Sg,p),L(Nn,_),L(Ln,m),L(A0,C),L(k0,x),L(x0,O),L(Mn,y),L(ns,S),L(C0,R),Ee(D))if(D.length){const H=e.exposed||(e.exposed={});D.forEach(X=>{Object.defineProperty(H,X,{get:()=>n[X],set:me=>n[X]=me,enumerable:!0})})}else e.exposed||(e.exposed={});b&&e.render===In&&(e.render=b),T!=null&&(e.inheritAttrs=T),E&&(e.components=E),k&&(e.directives=k),R&&bg(e)}function D0(e,t,n=In){Ee(e)&&(e=nc(e));for(const r in e){const s=e[r];let o;Ge(s)?"default"in s?o=wt(s.from||r,s.default,!0):o=wt(s.from||r):o=wt(s),tt(o)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):t[r]=o}}function od(e,t,n){_n(Ee(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function Cg(e,t,n,r){let s=r.includes(".")?cg(n,r):()=>n[r];if(Ye(e)){const o=t[e];ke(o)&&oe(s,o)}else if(ke(e))oe(s,e.bind(n));else if(Ge(e))if(Ee(e))e.forEach(o=>Cg(o,t,n,r));else{const o=ke(e.handler)?e.handler.bind(n):t[e.handler];ke(o)&&oe(s,o,e)}}function xg(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:o,config:{optionMergeStrategies:a}}=e.appContext,i=o.get(t);let l;return i?l=i:!s.length&&!n&&!r?l=t:(l={},s.length&&s.forEach(c=>Ya(l,c,a,!0)),Ya(l,t,a)),Ge(t)&&o.set(t,l),l}function Ya(e,t,n,r=!1){const{mixins:s,extends:o}=t;o&&Ya(e,o,n,!0),s&&s.forEach(a=>Ya(e,a,n,!0));for(const a in t)if(!(r&&a==="expose")){const i=B0[a]||n&&n[a];e[a]=i?i(e[a],t[a]):t[a]}return e}const B0={data:ad,props:id,emits:id,methods:fo,computed:fo,beforeCreate:It,created:It,beforeMount:It,mounted:It,beforeUpdate:It,updated:It,beforeDestroy:It,beforeUnmount:It,destroyed:It,unmounted:It,activated:It,deactivated:It,errorCaptured:It,serverPrefetch:It,components:fo,directives:fo,watch:L0,provide:ad,inject:N0};function ad(e,t){return t?e?function(){return vt(ke(e)?e.call(this,this):e,ke(t)?t.call(this,this):t)}:t:e}function N0(e,t){return fo(nc(e),nc(t))}function nc(e){if(Ee(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function It(e,t){return e?[...new Set([].concat(e,t))]:t}function fo(e,t){return e?vt(Object.create(null),e,t):t}function id(e,t){return e?Ee(e)&&Ee(t)?[...new Set([...e,...t])]:vt(Object.create(null),sd(e),sd(t!=null?t:{})):t}function L0(e,t){if(!e)return t;if(!t)return e;const n=vt(Object.create(null),e);for(const r in t)n[r]=It(e[r],t[r]);return n}function kg(){return{app:null,config:{isNativeTag:Oh,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let M0=0;function j0(e,t){return function(r,s=null){ke(r)||(r=vt({},r)),s!=null&&!Ge(s)&&(s=null);const o=kg(),a=new WeakSet,i=[];let l=!1;const c=o.app={_uid:M0++,_component:r,_props:s,_container:null,_context:o,_instance:null,version:y_,get config(){return o.config},set config(u){},use(u,...d){return a.has(u)||(u&&ke(u.install)?(a.add(u),u.install(c,...d)):ke(u)&&(a.add(u),u(c,...d))),c},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),c},component(u,d){return d?(o.components[u]=d,c):o.components[u]},directive(u,d){return d?(o.directives[u]=d,c):o.directives[u]},mount(u,d,f){if(!l){const g=c._ceVNode||h(r,s);return g.appContext=o,f===!0?f="svg":f===!1&&(f=void 0),e(g,u,f),l=!0,c._container=u,u.__vue_app__=c,Ci(g.component)}},onUnmount(u){i.push(u)},unmount(){l&&(_n(i,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(u,d){return o.provides[u]=d,c},runWithContext(u){const d=Xr;Xr=c;try{return u()}finally{Xr=d}}};return c}}let Xr=null;const U0=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${tn(t)}Modifiers`]||e[`${or(t)}Modifiers`];function V0(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Ve;let s=n;const o=t.startsWith("update:"),a=o&&U0(r,t.slice(7));a&&(a.trim&&(s=n.map(u=>Ye(u)?u.trim():u)),a.number&&(s=n.map(xw)));let i,l=r[i=tl(t)]||r[i=tl(tn(t))];!l&&o&&(l=r[i=tl(or(t))]),l&&_n(l,e,6,s);const c=r[i+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[i])return;e.emitted[i]=!0,_n(c,e,6,s)}}const F0=new WeakMap;function Ag(e,t,n=!1){const r=n?F0:t.emitsCache,s=r.get(e);if(s!==void 0)return s;const o=e.emits;let a={},i=!1;if(!ke(e)){const l=c=>{const u=Ag(c,t,!0);u&&(i=!0,vt(a,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!o&&!i?(Ge(e)&&r.set(e,null),null):(Ee(o)?o.forEach(l=>a[l]=null):vt(a,o),Ge(e)&&r.set(e,a),a)}function Ti(e,t){return!e||!di(t)?!1:(t=t.slice(2).replace(/Once$/,""),je(e,t[0].toLowerCase()+t.slice(1))||je(e,or(t))||je(e,t))}function ld(e){const{type:t,vnode:n,proxy:r,withProxy:s,propsOptions:[o],slots:a,attrs:i,emit:l,render:c,renderCache:u,props:d,data:f,setupState:g,ctx:p,inheritAttrs:_}=e,m=Ka(e);let w,y;try{if(n.shapeFlag&4){const S=s||r,b=S;w=Pn(c.call(b,S,u,d,g,f,p)),y=i}else{const S=t;w=Pn(S.length>1?S(d,{attrs:i,slots:a,emit:l}):S(d,null)),y=t.props?i:H0(i)}}catch(S){So.length=0,_i(S,e,1),w=h(bt)}let v=w;if(y&&_!==!1){const S=Object.keys(y),{shapeFlag:b}=v;S.length&&b&7&&(o&&S.some(jc)&&(y=z0(y,o)),v=kr(v,y,!1,!0))}return n.dirs&&(v=kr(v,null,!1,!0),v.dirs=v.dirs?v.dirs.concat(n.dirs):n.dirs),n.transition&&Bo(v,n.transition),w=v,Ka(m),w}const H0=e=>{let t;for(const n in e)(n==="class"||n==="style"||di(n))&&((t||(t={}))[n]=e[n]);return t},z0=(e,t)=>{const n={};for(const r in e)(!jc(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function W0(e,t,n){const{props:r,children:s,component:o}=e,{props:a,children:i,patchFlag:l}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?cd(r,a,c):!!a;if(l&8){const u=t.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(a[f]!==r[f]&&!Ti(c,f))return!0}}}else return(s||i)&&(!i||!i.$stable)?!0:r===a?!1:r?a?cd(r,a,c):!0:!!a;return!1}function cd(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const o=r[s];if(t[o]!==e[o]&&!Ti(n,o))return!0}return!1}function q0({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const Og={},Rg=()=>Object.create(Og),Pg=e=>Object.getPrototypeOf(e)===Og;function K0(e,t,n,r=!1){const s={},o=Rg();e.propsDefaults=Object.create(null),Ig(e,t,s,o);for(const a in e.propsOptions[0])a in s||(s[a]=void 0);n?e.props=r?s:tg(s):e.type.props?e.props=s:e.props=o,e.attrs=o}function G0(e,t,n,r){const{props:s,attrs:o,vnode:{patchFlag:a}}=e,i=$e(s),[l]=e.propsOptions;let c=!1;if((r||a>0)&&!(a&16)){if(a&8){const u=e.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(Ti(e.emitsOptions,f))continue;const g=t[f];if(l)if(je(o,f))g!==o[f]&&(o[f]=g,c=!0);else{const p=tn(f);s[p]=rc(l,i,p,g,e,!1)}else g!==o[f]&&(o[f]=g,c=!0)}}}else{Ig(e,t,s,o)&&(c=!0);let u;for(const d in i)(!t||!je(t,d)&&((u=or(d))===d||!je(t,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(s[d]=rc(l,i,d,void 0,e,!0)):delete s[d]);if(o!==i)for(const d in o)(!t||!je(t,d))&&(delete o[d],c=!0)}c&&Gn(e.attrs,"set","")}function Ig(e,t,n,r){const[s,o]=e.propsOptions;let a=!1,i;if(t)for(let l in t){if(mo(l))continue;const c=t[l];let u;s&&je(s,u=tn(l))?!o||!o.includes(u)?n[u]=c:(i||(i={}))[u]=c:Ti(e.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,a=!0)}if(o){const l=$e(n),c=i||Ve;for(let u=0;u<o.length;u++){const d=o[u];n[d]=rc(s,l,d,c[d],e,!je(c,d))}}return a}function rc(e,t,n,r,s,o){const a=e[n];if(a!=null){const i=je(a,"default");if(i&&r===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&ke(l)){const{propsDefaults:c}=s;if(n in c)r=c[n];else{const u=ea(s);r=c[n]=l.call(null,t),u()}}else r=l;s.ce&&s.ce._setProp(n,r)}a[0]&&(o&&!i?r=!1:a[1]&&(r===""||r===or(n))&&(r=!0))}return r}const Y0=new WeakMap;function $g(e,t,n=!1){const r=n?Y0:t.propsCache,s=r.get(e);if(s)return s;const o=e.props,a={},i=[];let l=!1;if(!ke(e)){const u=d=>{l=!0;const[f,g]=$g(d,t,!0);vt(a,f),g&&i.push(...g)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!o&&!l)return Ge(e)&&r.set(e,Is),Is;if(Ee(o))for(let u=0;u<o.length;u++){const d=tn(o[u]);ud(d)&&(a[d]=Ve)}else if(o)for(const u in o){const d=tn(u);if(ud(d)){const f=o[u],g=a[d]=Ee(f)||ke(f)?{type:f}:vt({},f),p=g.type;let _=!1,m=!0;if(Ee(p))for(let w=0;w<p.length;++w){const y=p[w],v=ke(y)&&y.name;if(v==="Boolean"){_=!0;break}else v==="String"&&(m=!1)}else _=ke(p)&&p.name==="Boolean";g[0]=_,g[1]=m,(_||je(g,"default"))&&i.push(d)}}const c=[a,i];return Ge(e)&&r.set(e,c),c}function ud(e){return e[0]!=="$"&&!mo(e)}const Zc=e=>e==="_"||e==="_ctx"||e==="$stable",Qc=e=>Ee(e)?e.map(Pn):[Pn(e)],J0=(e,t,n)=>{if(t._n)return t;const r=Do((...s)=>Qc(t(...s)),n);return r._c=!1,r},Dg=(e,t,n)=>{const r=e._ctx;for(const s in e){if(Zc(s))continue;const o=e[s];if(ke(o))t[s]=J0(s,o,r);else if(o!=null){const a=Qc(o);t[s]=()=>a}}},Bg=(e,t)=>{const n=Qc(t);e.slots.default=()=>n},Ng=(e,t,n)=>{for(const r in t)(n||!Zc(r))&&(e[r]=t[r])},X0=(e,t,n)=>{const r=e.slots=Rg();if(e.vnode.shapeFlag&32){const s=t._;s?(Ng(r,t,n),n&&Dh(r,"_",s,!0)):Dg(t,r)}else t&&Bg(e,t)},Z0=(e,t,n)=>{const{vnode:r,slots:s}=e;let o=!0,a=Ve;if(r.shapeFlag&32){const i=t._;i?n&&i===1?o=!1:Ng(s,t,n):(o=!t.$stable,Dg(t,s)),a=t}else t&&(Bg(e,t),a={default:1});if(o)for(const i in s)!Zc(i)&&a[i]==null&&delete s[i]},$t=r_;function Q0(e){return e_(e)}function e_(e,t){const n=vi();n.__VUE__=!0;const{insert:r,remove:s,patchProp:o,createElement:a,createText:i,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:g=In,insertStaticContent:p}=e,_=(I,B,j,q=null,Z=null,G=null,de=void 0,ce=null,le=!!B.dynamicChildren)=>{if(I===B)return;I&&!zr(I,B)&&(q=P(I),F(I,Z,G,!0),I=null),B.patchFlag===-2&&(le=!1,B.dynamicChildren=null);const{type:se,ref:be,shapeFlag:fe}=B;switch(se){case Qo:m(I,B,j,q);break;case bt:w(I,B,j,q);break;case La:I==null&&y(B,j,q,de);break;case lt:E(I,B,j,q,Z,G,de,ce,le);break;default:fe&1?b(I,B,j,q,Z,G,de,ce,le):fe&6?k(I,B,j,q,Z,G,de,ce,le):(fe&64||fe&128)&&se.process(I,B,j,q,Z,G,de,ce,le,re)}be!=null&&Z?bo(be,I&&I.ref,G,B||I,!B):be==null&&I&&I.ref!=null&&bo(I.ref,null,G,I,!0)},m=(I,B,j,q)=>{if(I==null)r(B.el=i(B.children),j,q);else{const Z=B.el=I.el;B.children!==I.children&&c(Z,B.children)}},w=(I,B,j,q)=>{I==null?r(B.el=l(B.children||""),j,q):B.el=I.el},y=(I,B,j,q)=>{[I.el,I.anchor]=p(I.children,B,j,q,I.el,I.anchor)},v=({el:I,anchor:B},j,q)=>{let Z;for(;I&&I!==B;)Z=f(I),r(I,j,q),I=Z;r(B,j,q)},S=({el:I,anchor:B})=>{let j;for(;I&&I!==B;)j=f(I),s(I),I=j;s(B)},b=(I,B,j,q,Z,G,de,ce,le)=>{if(B.type==="svg"?de="svg":B.type==="math"&&(de="mathml"),I==null)x(B,j,q,Z,G,de,ce,le);else{const se=I.el&&I.el._isVueCE?I.el:null;try{se&&se._beginPatch(),R(I,B,Z,G,de,ce,le)}finally{se&&se._endPatch()}}},x=(I,B,j,q,Z,G,de,ce)=>{let le,se;const{props:be,shapeFlag:fe,transition:pe,dirs:Te}=I;if(le=I.el=a(I.type,G,be&&be.is,be),fe&8?u(le,I.children):fe&16&&C(I.children,le,null,q,Z,cl(I,G),de,ce),Te&&Dr(I,null,q,"created"),O(le,I,I.scopeId,de,q),be){for(const Fe in be)Fe!=="value"&&!mo(Fe)&&o(le,Fe,null,be[Fe],G,q);"value"in be&&o(le,"value",null,be.value,G),(se=be.onVnodeBeforeMount)&&kn(se,q,I)}Te&&Dr(I,null,q,"beforeMount");const Ie=t_(Z,pe);Ie&&pe.beforeEnter(le),r(le,B,j),((se=be&&be.onVnodeMounted)||Ie||Te)&&$t(()=>{se&&kn(se,q,I),Ie&&pe.enter(le),Te&&Dr(I,null,q,"mounted")},Z)},O=(I,B,j,q,Z)=>{if(j&&g(I,j),q)for(let G=0;G<q.length;G++)g(I,q[G]);if(Z){let G=Z.subTree;if(B===G||jg(G.type)&&(G.ssContent===B||G.ssFallback===B)){const de=Z.vnode;O(I,de,de.scopeId,de.slotScopeIds,Z.parent)}}},C=(I,B,j,q,Z,G,de,ce,le=0)=>{for(let se=le;se<I.length;se++){const be=I[se]=ce?_r(I[se]):Pn(I[se]);_(null,be,B,j,q,Z,G,de,ce)}},R=(I,B,j,q,Z,G,de)=>{const ce=B.el=I.el;let{patchFlag:le,dynamicChildren:se,dirs:be}=B;le|=I.patchFlag&16;const fe=I.props||Ve,pe=B.props||Ve;let Te;if(j&&Br(j,!1),(Te=pe.onVnodeBeforeUpdate)&&kn(Te,j,B,I),be&&Dr(B,I,j,"beforeUpdate"),j&&Br(j,!0),(fe.innerHTML&&pe.innerHTML==null||fe.textContent&&pe.textContent==null)&&u(ce,""),se?D(I.dynamicChildren,se,ce,j,q,cl(B,Z),G):de||X(I,B,ce,null,j,q,cl(B,Z),G,!1),le>0){if(le&16)T(ce,fe,pe,j,Z);else if(le&2&&fe.class!==pe.class&&o(ce,"class",null,pe.class,Z),le&4&&o(ce,"style",fe.style,pe.style,Z),le&8){const Ie=B.dynamicProps;for(let Fe=0;Fe<Ie.length;Fe++){const Ue=Ie[Fe],Nt=fe[Ue],Lt=pe[Ue];(Lt!==Nt||Ue==="value")&&o(ce,Ue,Nt,Lt,Z,j)}}le&1&&I.children!==B.children&&u(ce,B.children)}else!de&&se==null&&T(ce,fe,pe,j,Z);((Te=pe.onVnodeUpdated)||be)&&$t(()=>{Te&&kn(Te,j,B,I),be&&Dr(B,I,j,"updated")},q)},D=(I,B,j,q,Z,G,de)=>{for(let ce=0;ce<B.length;ce++){const le=I[ce],se=B[ce],be=le.el&&(le.type===lt||!zr(le,se)||le.shapeFlag&198)?d(le.el):j;_(le,se,be,null,q,Z,G,de,!0)}},T=(I,B,j,q,Z)=>{if(B!==j){if(B!==Ve)for(const G in B)!mo(G)&&!(G in j)&&o(I,G,B[G],null,Z,q);for(const G in j){if(mo(G))continue;const de=j[G],ce=B[G];de!==ce&&G!=="value"&&o(I,G,ce,de,Z,q)}"value"in j&&o(I,"value",B.value,j.value,Z)}},E=(I,B,j,q,Z,G,de,ce,le)=>{const se=B.el=I?I.el:i(""),be=B.anchor=I?I.anchor:i("");let{patchFlag:fe,dynamicChildren:pe,slotScopeIds:Te}=B;Te&&(ce=ce?ce.concat(Te):Te),I==null?(r(se,j,q),r(be,j,q),C(B.children||[],j,be,Z,G,de,ce,le)):fe>0&&fe&64&&pe&&I.dynamicChildren&&I.dynamicChildren.length===pe.length?(D(I.dynamicChildren,pe,j,Z,G,de,ce),(B.key!=null||Z&&B===Z.subTree)&&eu(I,B,!0)):X(I,B,j,be,Z,G,de,ce,le)},k=(I,B,j,q,Z,G,de,ce,le)=>{B.slotScopeIds=ce,I==null?B.shapeFlag&512?Z.ctx.activate(B,j,q,de,le):$(B,j,q,Z,G,de,le):N(I,B,le)},$=(I,B,j,q,Z,G,de)=>{const ce=I.component=u_(I,q,Z);if(Si(I)&&(ce.ctx.renderer=re),d_(ce,!1,de),ce.asyncDep){if(Z&&Z.registerDep(ce,L,de),!I.el){const le=ce.subTree=h(bt);w(null,le,B,j),I.placeholder=le.el}}else L(ce,I,B,j,Z,G,de)},N=(I,B,j)=>{const q=B.component=I.component;if(W0(I,B,j))if(q.asyncDep&&!q.asyncResolved){H(q,B,j);return}else q.next=B,q.update();else B.el=I.el,q.vnode=B},L=(I,B,j,q,Z,G,de)=>{const ce=()=>{if(I.isMounted){let{next:fe,bu:pe,u:Te,parent:Ie,vnode:Fe}=I;{const Cn=Lg(I);if(Cn){fe&&(fe.el=Fe.el,H(I,fe,de)),Cn.asyncDep.then(()=>{I.isUnmounted||ce()});return}}let Ue=fe,Nt;Br(I,!1),fe?(fe.el=Fe.el,H(I,fe,de)):fe=Fe,pe&&nl(pe),(Nt=fe.props&&fe.props.onVnodeBeforeUpdate)&&kn(Nt,Ie,fe,Fe),Br(I,!0);const Lt=ld(I),Tn=I.subTree;I.subTree=Lt,_(Tn,Lt,d(Tn.el),P(Tn),I,Z,G),fe.el=Lt.el,Ue===null&&q0(I,Lt.el),Te&&$t(Te,Z),(Nt=fe.props&&fe.props.onVnodeUpdated)&&$t(()=>kn(Nt,Ie,fe,Fe),Z)}else{let fe;const{el:pe,props:Te}=B,{bm:Ie,m:Fe,parent:Ue,root:Nt,type:Lt}=I,Tn=wo(B);Br(I,!1),Ie&&nl(Ie),!Tn&&(fe=Te&&Te.onVnodeBeforeMount)&&kn(fe,Ue,B),Br(I,!0);{Nt.ce&&Nt.ce._def.shadowRoot!==!1&&Nt.ce._injectChildStyle(Lt);const Cn=I.subTree=ld(I);_(null,Cn,j,q,I,Z,G),B.el=Cn.el}if(Fe&&$t(Fe,Z),!Tn&&(fe=Te&&Te.onVnodeMounted)){const Cn=B;$t(()=>kn(fe,Ue,Cn),Z)}(B.shapeFlag&256||Ue&&wo(Ue.vnode)&&Ue.vnode.shapeFlag&256)&&I.a&&$t(I.a,Z),I.isMounted=!0,B=j=q=null}};I.scope.on();const le=I.effect=new Vh(ce);I.scope.off();const se=I.update=le.run.bind(le),be=I.job=le.runIfDirty.bind(le);be.i=I,be.id=I.uid,le.scheduler=()=>Gc(be),Br(I,!0),se()},H=(I,B,j)=>{B.component=I;const q=I.vnode.props;I.vnode=B,I.next=null,G0(I,B.props,q,j),Z0(I,B.children,j),Qn(),Xu(I),er()},X=(I,B,j,q,Z,G,de,ce,le=!1)=>{const se=I&&I.children,be=I?I.shapeFlag:0,fe=B.children,{patchFlag:pe,shapeFlag:Te}=B;if(pe>0){if(pe&128){Se(se,fe,j,q,Z,G,de,ce,le);return}else if(pe&256){me(se,fe,j,q,Z,G,de,ce,le);return}}Te&8?(be&16&&ie(se,Z,G),fe!==se&&u(j,fe)):be&16?Te&16?Se(se,fe,j,q,Z,G,de,ce,le):ie(se,Z,G,!0):(be&8&&u(j,""),Te&16&&C(fe,j,q,Z,G,de,ce,le))},me=(I,B,j,q,Z,G,de,ce,le)=>{I=I||Is,B=B||Is;const se=I.length,be=B.length,fe=Math.min(se,be);let pe;for(pe=0;pe<fe;pe++){const Te=B[pe]=le?_r(B[pe]):Pn(B[pe]);_(I[pe],Te,j,null,Z,G,de,ce,le)}se>be?ie(I,Z,G,!0,!1,fe):C(B,j,q,Z,G,de,ce,le,fe)},Se=(I,B,j,q,Z,G,de,ce,le)=>{let se=0;const be=B.length;let fe=I.length-1,pe=be-1;for(;se<=fe&&se<=pe;){const Te=I[se],Ie=B[se]=le?_r(B[se]):Pn(B[se]);if(zr(Te,Ie))_(Te,Ie,j,null,Z,G,de,ce,le);else break;se++}for(;se<=fe&&se<=pe;){const Te=I[fe],Ie=B[pe]=le?_r(B[pe]):Pn(B[pe]);if(zr(Te,Ie))_(Te,Ie,j,null,Z,G,de,ce,le);else break;fe--,pe--}if(se>fe){if(se<=pe){const Te=pe+1,Ie=Te<be?B[Te].el:q;for(;se<=pe;)_(null,B[se]=le?_r(B[se]):Pn(B[se]),j,Ie,Z,G,de,ce,le),se++}}else if(se>pe)for(;se<=fe;)F(I[se],Z,G,!0),se++;else{const Te=se,Ie=se,Fe=new Map;for(se=Ie;se<=pe;se++){const Ft=B[se]=le?_r(B[se]):Pn(B[se]);Ft.key!=null&&Fe.set(Ft.key,se)}let Ue,Nt=0;const Lt=pe-Ie+1;let Tn=!1,Cn=0;const Qs=new Array(Lt);for(se=0;se<Lt;se++)Qs[se]=0;for(se=Te;se<=fe;se++){const Ft=I[se];if(Nt>=Lt){F(Ft,Z,G,!0);continue}let xn;if(Ft.key!=null)xn=Fe.get(Ft.key);else for(Ue=Ie;Ue<=pe;Ue++)if(Qs[Ue-Ie]===0&&zr(Ft,B[Ue])){xn=Ue;break}xn===void 0?F(Ft,Z,G,!0):(Qs[xn-Ie]=se+1,xn>=Cn?Cn=xn:Tn=!0,_(Ft,B[xn],j,null,Z,G,de,ce,le),Nt++)}const Hu=Tn?n_(Qs):Is;for(Ue=Hu.length-1,se=Lt-1;se>=0;se--){const Ft=Ie+se,xn=B[Ft],zu=B[Ft+1],Wu=Ft+1<be?zu.el||Mg(zu):q;Qs[se]===0?_(null,xn,j,Wu,Z,G,de,ce,le):Tn&&(Ue<0||se!==Hu[Ue]?ae(xn,j,Wu,2):Ue--)}}},ae=(I,B,j,q,Z=null)=>{const{el:G,type:de,transition:ce,children:le,shapeFlag:se}=I;if(se&6){ae(I.component.subTree,B,j,q);return}if(se&128){I.suspense.move(B,j,q);return}if(se&64){de.move(I,B,j,re);return}if(de===lt){r(G,B,j);for(let fe=0;fe<le.length;fe++)ae(le[fe],B,j,q);r(I.anchor,B,j);return}if(de===La){v(I,B,j);return}if(q!==2&&se&1&&ce)if(q===0)ce.beforeEnter(G),r(G,B,j),$t(()=>ce.enter(G),Z);else{const{leave:fe,delayLeave:pe,afterLeave:Te}=ce,Ie=()=>{I.ctx.isUnmounted?s(G):r(G,B,j)},Fe=()=>{G._isLeaving&&G[Kn](!0),fe(G,()=>{Ie(),Te&&Te()})};pe?pe(G,Ie,Fe):Fe()}else r(G,B,j)},F=(I,B,j,q=!1,Z=!1)=>{const{type:G,props:de,ref:ce,children:le,dynamicChildren:se,shapeFlag:be,patchFlag:fe,dirs:pe,cacheIndex:Te}=I;if(fe===-2&&(Z=!1),ce!=null&&(Qn(),bo(ce,null,j,I,!0),er()),Te!=null&&(B.renderCache[Te]=void 0),be&256){B.ctx.deactivate(I);return}const Ie=be&1&&pe,Fe=!wo(I);let Ue;if(Fe&&(Ue=de&&de.onVnodeBeforeUnmount)&&kn(Ue,B,I),be&6)W(I.component,j,q);else{if(be&128){I.suspense.unmount(j,q);return}Ie&&Dr(I,null,B,"beforeUnmount"),be&64?I.type.remove(I,B,j,re,q):se&&!se.hasOnce&&(G!==lt||fe>0&&fe&64)?ie(se,B,j,!1,!0):(G===lt&&fe&384||!Z&&be&16)&&ie(le,B,j),q&&Q(I)}(Fe&&(Ue=de&&de.onVnodeUnmounted)||Ie)&&$t(()=>{Ue&&kn(Ue,B,I),Ie&&Dr(I,null,B,"unmounted")},j)},Q=I=>{const{type:B,el:j,anchor:q,transition:Z}=I;if(B===lt){ve(j,q);return}if(B===La){S(I);return}const G=()=>{s(j),Z&&!Z.persisted&&Z.afterLeave&&Z.afterLeave()};if(I.shapeFlag&1&&Z&&!Z.persisted){const{leave:de,delayLeave:ce}=Z,le=()=>de(j,G);ce?ce(I.el,G,le):le()}else G()},ve=(I,B)=>{let j;for(;I!==B;)j=f(I),s(I),I=j;s(B)},W=(I,B,j)=>{const{bum:q,scope:Z,job:G,subTree:de,um:ce,m:le,a:se}=I;dd(le),dd(se),q&&nl(q),Z.stop(),G&&(G.flags|=8,F(de,I,B,j)),ce&&$t(ce,B),$t(()=>{I.isUnmounted=!0},B)},ie=(I,B,j,q=!1,Z=!1,G=0)=>{for(let de=G;de<I.length;de++)F(I[de],B,j,q,Z)},P=I=>{if(I.shapeFlag&6)return P(I.component.subTree);if(I.shapeFlag&128)return I.suspense.next();const B=f(I.anchor||I.el),j=B&&B[ug];return j?f(j):B};let z=!1;const V=(I,B,j)=>{let q;I==null?B._vnode&&(F(B._vnode,null,null,!0),q=B._vnode.component):_(B._vnode||null,I,B,null,null,null,j),B._vnode=I,z||(z=!0,Xu(q),ag(),z=!1)},re={p:_,um:F,m:ae,r:Q,mt:$,mc:C,pc:X,pbc:D,n:P,o:e};return{render:V,hydrate:void 0,createApp:j0(V)}}function cl({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Br({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function t_(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function eu(e,t,n=!1){const r=e.children,s=t.children;if(Ee(r)&&Ee(s))for(let o=0;o<r.length;o++){const a=r[o];let i=s[o];i.shapeFlag&1&&!i.dynamicChildren&&((i.patchFlag<=0||i.patchFlag===32)&&(i=s[o]=_r(s[o]),i.el=a.el),!n&&i.patchFlag!==-2&&eu(a,i)),i.type===Qo&&(i.patchFlag!==-1?i.el=a.el:i.__elIndex=o+(e.type===lt?1:0)),i.type===bt&&!i.el&&(i.el=a.el)}}function n_(e){const t=e.slice(),n=[0];let r,s,o,a,i;const l=e.length;for(r=0;r<l;r++){const c=e[r];if(c!==0){if(s=n[n.length-1],e[s]<c){t[r]=s,n.push(r);continue}for(o=0,a=n.length-1;o<a;)i=o+a>>1,e[n[i]]<c?o=i+1:a=i;c<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}for(o=n.length,a=n[o-1];o-- >0;)n[o]=a,a=t[a];return n}function Lg(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Lg(t)}function dd(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}function Mg(e){if(e.placeholder)return e.placeholder;const t=e.component;return t?Mg(t.subTree):null}const jg=e=>e.__isSuspense;function r_(e,t){t&&t.pendingBranch?Ee(e)?t.effects.push(...e):t.effects.push(e):g0(e)}const lt=Symbol.for("v-fgt"),Qo=Symbol.for("v-txt"),bt=Symbol.for("v-cmt"),La=Symbol.for("v-stc"),So=[];let Kt=null;function No(e=!1){So.push(Kt=e?null:[])}function s_(){So.pop(),Kt=So[So.length-1]||null}let Lo=1;function Ja(e,t=!1){Lo+=e,e<0&&Kt&&t&&(Kt.hasOnce=!0)}function Ug(e){return e.dynamicChildren=Lo>0?Kt||Is:null,s_(),Lo>0&&Kt&&Kt.push(e),e}function Vg(e,t,n,r,s,o){return Ug(nu(e,t,n,r,s,o,!0))}function tu(e,t,n,r,s){return Ug(h(e,t,n,r,s,!0))}function Mo(e){return e?e.__v_isVNode===!0:!1}function zr(e,t){return e.type===t.type&&e.key===t.key}const Fg=({key:e})=>e!=null?e:null,Ma=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Ye(e)||tt(e)||ke(e)?{i:qt,r:e,k:t,f:!!n}:e:null);function nu(e,t=null,n=null,r=0,s=null,o=e===lt?0:1,a=!1,i=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Fg(t),ref:t&&Ma(t),scopeId:lg,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:qt};return i?(su(l,n),o&128&&e.normalize(l)):n&&(l.shapeFlag|=Ye(n)?8:16),Lo>0&&!a&&Kt&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&Kt.push(l),l}const h=o_;function o_(e,t=null,n=null,r=0,s=null,o=!1){if((!e||e===Tg)&&(e=bt),Mo(e)){const i=kr(e,t,!0);return n&&su(i,n),Lo>0&&!o&&Kt&&(i.shapeFlag&6?Kt[Kt.indexOf(e)]=i:Kt.push(i)),i.patchFlag=-2,i}if(v_(e)&&(e=e.__vccOpts),t){t=a_(t);let{class:i,style:l}=t;i&&!Ye(i)&&(t.class=pi(i)),Ge(l)&&(wi(l)&&!Ee(l)&&(l=vt({},l)),t.style=yi(l))}const a=Ye(e)?1:jg(e)?128:dg(e)?64:Ge(e)?4:ke(e)?2:0;return nu(e,t,n,r,s,a,o,!0)}function a_(e){return e?wi(e)||Pg(e)?vt({},e):e:null}function kr(e,t,n=!1,r=!1){const{props:s,ref:o,patchFlag:a,children:i,transition:l}=e,c=t?Oe(s||{},t):s,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Fg(c),ref:t&&t.ref?n&&o?Ee(o)?o.concat(Ma(t)):[o,Ma(t)]:Ma(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==lt?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&kr(e.ssContent),ssFallback:e.ssFallback&&kr(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&Bo(u,l.clone(u)),u}function ru(e=" ",t=0){return h(Qo,null,e,t)}function H1(e,t){const n=h(La,null,e);return n.staticCount=t,n}function i_(e="",t=!1){return t?(No(),tu(bt,null,e)):h(bt,null,e)}function Pn(e){return e==null||typeof e=="boolean"?h(bt):Ee(e)?h(lt,null,e.slice()):Mo(e)?_r(e):h(Qo,null,String(e))}function _r(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:kr(e)}function su(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Ee(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),su(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!Pg(t)?t._ctx=qt:s===3&&qt&&(qt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ke(t)?(t={default:t,_ctx:qt},n=32):(t=String(t),r&64?(n=16,t=[ru(t)]):n=8);e.children=t,e.shapeFlag|=n}function Oe(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=pi([t.class,r.class]));else if(s==="style")t.style=yi([t.style,r.style]);else if(di(s)){const o=t[s],a=r[s];a&&o!==a&&!(Ee(o)&&o.includes(a))&&(t[s]=o?[].concat(o,a):a)}else s!==""&&(t[s]=r[s])}return t}function kn(e,t,n,r=null){_n(e,t,7,[n,r])}const l_=kg();let c_=0;function u_(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||l_,o={uid:c_++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Mh(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:$g(r,s),emitsOptions:Ag(r,s),emit:null,emitted:null,propsDefaults:Ve,inheritAttrs:r.inheritAttrs,ctx:Ve,data:Ve,props:Ve,attrs:Ve,slots:Ve,refs:Ve,setupState:Ve,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=V0.bind(null,o),e.ce&&e.ce(o),o}let xt=null;const Yt=()=>xt||qt;let Xa,sc;{const e=vi(),t=(n,r)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(r),o=>{s.length>1?s.forEach(a=>a(o)):s[0](o)}};Xa=t("__VUE_INSTANCE_SETTERS__",n=>xt=n),sc=t("__VUE_SSR_SETTERS__",n=>jo=n)}const ea=e=>{const t=xt;return Xa(e),e.scope.on(),()=>{e.scope.off(),Xa(t)}},fd=()=>{xt&&xt.scope.off(),Xa(null)};function Hg(e){return e.vnode.shapeFlag&4}let jo=!1;function d_(e,t=!1,n=!1){t&&sc(t);const{props:r,children:s}=e.vnode,o=Hg(e);K0(e,r,o,t),X0(e,s,n||t);const a=o?f_(e,t):void 0;return t&&sc(!1),a}function f_(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,I0);const{setup:r}=n;if(r){Qn();const s=e.setupContext=r.length>1?g_(e):null,o=ea(e),a=Zo(r,e,0,[e.props,s]),i=Ph(a);if(er(),o(),(i||e.sp)&&!wo(e)&&bg(e),i){if(a.then(fd,fd),t)return a.then(l=>{hd(e,l)}).catch(l=>{_i(l,e,0)});e.asyncDep=a}else hd(e,a)}else zg(e)}function hd(e,t,n){ke(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ge(t)&&(e.setupState=rg(t)),zg(e)}function zg(e,t,n){const r=e.type;e.render||(e.render=r.render||In);{const s=ea(e);Qn();try{$0(e)}finally{er(),s()}}}const h_={get(e,t){return Ct(e,"get",""),e[t]}};function g_(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,h_),slots:e.slots,emit:e.emit,expose:t}}function Ci(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(rg(Kc(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in _o)return _o[n](e)},has(t,n){return n in t||n in _o}})):e.proxy}function m_(e,t=!0){return ke(e)?e.displayName||e.name:e.name||t&&e.__name}function v_(e){return ke(e)&&"__vccOpts"in e}const M=(e,t)=>c0(e,t,jo);function ou(e,t,n){try{Ja(-1);const r=arguments.length;return r===2?Ge(t)&&!Ee(t)?Mo(t)?h(e,null,[t]):h(e,t):h(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Mo(n)&&(n=[n]),h(e,t,n))}finally{Ja(1)}}const y_="3.5.26";/**
* @vue/runtime-dom v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let oc;const gd=typeof window!="undefined"&&window.trustedTypes;if(gd)try{oc=gd.createPolicy("vue",{createHTML:e=>e})}catch(e){}const Wg=oc?e=>oc.createHTML(e):e=>e,p_="http://www.w3.org/2000/svg",b_="http://www.w3.org/1998/Math/MathML",Wn=typeof document!="undefined"?document:null,md=Wn&&Wn.createElement("template"),w_={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t==="svg"?Wn.createElementNS(p_,e):t==="mathml"?Wn.createElementNS(b_,e):n?Wn.createElement(e,{is:n}):Wn.createElement(e);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>Wn.createTextNode(e),createComment:e=>Wn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Wn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,o){const a=n?n.previousSibling:t.lastChild;if(s&&(s===o||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===o||!(s=s.nextSibling)););else{md.innerHTML=Wg(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const i=md.content;if(r==="svg"||r==="mathml"){const l=i.firstChild;for(;l.firstChild;)i.appendChild(l.firstChild);i.removeChild(l)}t.insertBefore(i,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},dr="transition",to="animation",Uo=Symbol("_vtc"),qg={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},__=vt({},gg,qg),S_=e=>(e.displayName="Transition",e.props=__,e),Gs=S_((e,{slots:t})=>ou(S0,E_(e),t)),Nr=(e,t=[])=>{Ee(e)?e.forEach(n=>n(...t)):e&&e(...t)},vd=e=>e?Ee(e)?e.some(t=>t.length>1):e.length>1:!1;function E_(e){const t={};for(const E in e)E in qg||(t[E]=e[E]);if(e.css===!1)return t;const{name:n="v",type:r,duration:s,enterFromClass:o=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:i=`${n}-enter-to`,appearFromClass:l=o,appearActiveClass:c=a,appearToClass:u=i,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:g=`${n}-leave-to`}=e,p=T_(s),_=p&&p[0],m=p&&p[1],{onBeforeEnter:w,onEnter:y,onEnterCancelled:v,onLeave:S,onLeaveCancelled:b,onBeforeAppear:x=w,onAppear:O=y,onAppearCancelled:C=v}=t,R=(E,k,$,N)=>{E._enterCancelled=N,Lr(E,k?u:i),Lr(E,k?c:a),$&&$()},D=(E,k)=>{E._isLeaving=!1,Lr(E,d),Lr(E,g),Lr(E,f),k&&k()},T=E=>(k,$)=>{const N=E?O:y,L=()=>R(k,E,$);Nr(N,[k,L]),yd(()=>{Lr(k,E?l:o),Un(k,E?u:i),vd(N)||pd(k,r,_,L)})};return vt(t,{onBeforeEnter(E){Nr(w,[E]),Un(E,o),Un(E,a)},onBeforeAppear(E){Nr(x,[E]),Un(E,l),Un(E,c)},onEnter:T(!1),onAppear:T(!0),onLeave(E,k){E._isLeaving=!0;const $=()=>D(E,k);Un(E,d),E._enterCancelled?(Un(E,f),_d(E)):(_d(E),Un(E,f)),yd(()=>{E._isLeaving&&(Lr(E,d),Un(E,g),vd(S)||pd(E,r,m,$))}),Nr(S,[E,$])},onEnterCancelled(E){R(E,!1,void 0,!0),Nr(v,[E])},onAppearCancelled(E){R(E,!0,void 0,!0),Nr(C,[E])},onLeaveCancelled(E){D(E),Nr(b,[E])}})}function T_(e){if(e==null)return null;if(Ge(e))return[ul(e.enter),ul(e.leave)];{const t=ul(e);return[t,t]}}function ul(e){return kw(e)}function Un(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Uo]||(e[Uo]=new Set)).add(t)}function Lr(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[Uo];n&&(n.delete(t),n.size||(e[Uo]=void 0))}function yd(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let C_=0;function pd(e,t,n,r){const s=e._endId=++C_,o=()=>{s===e._endId&&r()};if(n!=null)return setTimeout(o,n);const{type:a,timeout:i,propCount:l}=x_(e,t);if(!a)return r();const c=a+"end";let u=0;const d=()=>{e.removeEventListener(c,f),o()},f=g=>{g.target===e&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},i+1),e.addEventListener(c,f)}function x_(e,t){const n=window.getComputedStyle(e),r=p=>(n[p]||"").split(", "),s=r(`${dr}Delay`),o=r(`${dr}Duration`),a=bd(s,o),i=r(`${to}Delay`),l=r(`${to}Duration`),c=bd(i,l);let u=null,d=0,f=0;t===dr?a>0&&(u=dr,d=a,f=o.length):t===to?c>0&&(u=to,d=c,f=l.length):(d=Math.max(a,c),u=d>0?a>c?dr:to:null,f=u?u===dr?o.length:l.length:0);const g=u===dr&&/\b(?:transform|all)(?:,|$)/.test(r(`${dr}Property`).toString());return{type:u,timeout:d,propCount:f,hasTransform:g}}function bd(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>wd(n)+wd(e[r])))}function wd(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function _d(e){return(e?e.ownerDocument:document).body.offsetHeight}function k_(e,t,n){const r=e[Uo];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Za=Symbol("_vod"),Kg=Symbol("_vsh"),_t={name:"show",beforeMount(e,{value:t},{transition:n}){e[Za]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):no(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),no(e,!0),r.enter(e)):r.leave(e,()=>{no(e,!1)}):no(e,t))},beforeUnmount(e,{value:t}){no(e,t)}};function no(e,t){e.style.display=t?e[Za]:"none",e[Kg]=!t}const A_=Symbol(""),O_=/(?:^|;)\s*display\s*:/;function R_(e,t,n){const r=e.style,s=Ye(n);let o=!1;if(n&&!s){if(t)if(Ye(t))for(const a of t.split(";")){const i=a.slice(0,a.indexOf(":")).trim();n[i]==null&&ja(r,i,"")}else for(const a in t)n[a]==null&&ja(r,a,"");for(const a in n)a==="display"&&(o=!0),ja(r,a,n[a])}else if(s){if(t!==n){const a=r[A_];a&&(n+=";"+a),r.cssText=n,o=O_.test(n)}}else t&&e.removeAttribute("style");Za in e&&(e[Za]=o?r.display:"",e[Kg]&&(r.display="none"))}const Sd=/\s*!important$/;function ja(e,t,n){if(Ee(n))n.forEach(r=>ja(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=P_(e,t);Sd.test(n)?e.setProperty(or(r),n.replace(Sd,""),"important"):e[r]=n}}const Ed=["Webkit","Moz","ms"],dl={};function P_(e,t){const n=dl[t];if(n)return n;let r=tn(t);if(r!=="filter"&&r in e)return dl[t]=r;r=mi(r);for(let s=0;s<Ed.length;s++){const o=Ed[s]+r;if(o in e)return dl[t]=o}return t}const Td="http://www.w3.org/1999/xlink";function Cd(e,t,n,r,s,o=Dw(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Td,t.slice(6,t.length)):e.setAttributeNS(Td,t,n):n==null||o&&!Bh(n)?e.removeAttribute(t):e.setAttribute(t,o?"":Ar(n)?String(n):n)}function xd(e,t,n,r,s){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Wg(n):n);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const i=o==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(i!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let a=!1;if(n===""||n==null){const i=typeof e[t];i==="boolean"?n=Bh(n):n==null&&i==="string"?(n="",a=!0):i==="number"&&(n=0,a=!0)}try{e[t]=n}catch(i){}a&&e.removeAttribute(s||t)}function I_(e,t,n,r){e.addEventListener(t,n,r)}function $_(e,t,n,r){e.removeEventListener(t,n,r)}const kd=Symbol("_vei");function D_(e,t,n,r,s=null){const o=e[kd]||(e[kd]={}),a=o[t];if(r&&a)a.value=r;else{const[i,l]=B_(t);if(r){const c=o[t]=M_(r,s);I_(e,i,c,l)}else a&&($_(e,i,a,l),o[t]=void 0)}}const Ad=/(?:Once|Passive|Capture)$/;function B_(e){let t;if(Ad.test(e)){t={};let r;for(;r=e.match(Ad);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):or(e.slice(2)),t]}let fl=0;const N_=Promise.resolve(),L_=()=>fl||(N_.then(()=>fl=0),fl=Date.now());function M_(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;_n(j_(r,n.value),t,5,[r])};return n.value=e,n.attached=L_(),n}function j_(e,t){if(Ee(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const Od=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,U_=(e,t,n,r,s,o)=>{const a=s==="svg";t==="class"?k_(e,r,a):t==="style"?R_(e,n,r):di(t)?jc(t)||D_(e,t,n,r,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):V_(e,t,r,a))?(xd(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Cd(e,t,r,a,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ye(r))?xd(e,tn(t),r,o,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Cd(e,t,r,a))};function V_(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&Od(t)&&ke(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Od(t)&&Ye(n)?!1:t in e}const F_=["ctrl","shift","alt","meta"],H_={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>F_.some(n=>e[`${n}Key`]&&!t.includes(n))},z1=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(s,...o)=>{for(let a=0;a<t.length;a++){const i=H_[t[a]];if(i&&i(s,t))return}return e(s,...o)})},z_={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},W_=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=s=>{if(!("key"in s))return;const o=or(s.key);if(t.some(a=>a===o||z_[a]===o))return e(s)})},q_=vt({patchProp:U_},w_);let Rd;function K_(){return Rd||(Rd=Q0(q_))}const Gg=(...e)=>{const t=K_().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=Y_(r);if(!s)return;const o=t._component;!ke(o)&&!o.render&&!o.template&&(o.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const a=n(s,!1,G_(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),a},t};function G_(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Y_(e){return Ye(e)?document.querySelector(e):e}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Yg;const xi=e=>Yg=e,Jg=Symbol();function ac(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Eo;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Eo||(Eo={}));function J_(){const e=jh(!0),t=e.run(()=>U({}));let n=[],r=[];const s=Kc({install(o){xi(s),s._a=o,o.provide(Jg,s),o.config.globalProperties.$pinia=s,r.forEach(a=>n.push(a)),r=[]},use(o){return this._a?n.push(o):r.push(o),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return s}const Xg=()=>{};function Pd(e,t,n,r=Xg){e.push(t);const s=()=>{const o=e.indexOf(t);o>-1&&(e.splice(o,1),r())};return!n&&Uh()&&Nw(s),s}function os(e,...t){e.slice().forEach(n=>{n(...t)})}const X_=e=>e(),Id=Symbol(),hl=Symbol();function ic(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,r)=>e.set(r,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],s=e[n];ac(s)&&ac(r)&&e.hasOwnProperty(n)&&!tt(r)&&!Xn(r)?e[n]=ic(s,r):e[n]=r}return e}const Z_=Symbol();function Q_(e){return!ac(e)||!e.hasOwnProperty(Z_)}const{assign:pr}=Object;function eS(e){return!!(tt(e)&&e.effect)}function tS(e,t,n,r){const{state:s,actions:o,getters:a}=t,i=n.state.value[e];let l;function c(){i||(n.state.value[e]=s?s():{});const u=o0(n.state.value[e]);return pr(u,o,Object.keys(a||{}).reduce((d,f)=>(d[f]=Kc(M(()=>{xi(n);const g=n._s.get(e);return a[f].call(g,g)})),d),{}))}return l=Zg(e,c,t,n,r,!0),l}function Zg(e,t,n={},r,s,o){let a;const i=pr({actions:{}},n),l={deep:!0};let c,u,d=[],f=[],g;const p=r.state.value[e];!o&&!p&&(r.state.value[e]={}),U({});let _;function m(C){let R;c=u=!1,typeof C=="function"?(C(r.state.value[e]),R={type:Eo.patchFunction,storeId:e,events:g}):(ic(r.state.value[e],C),R={type:Eo.patchObject,payload:C,storeId:e,events:g});const D=_=Symbol();Ae().then(()=>{_===D&&(c=!0)}),u=!0,os(d,R,r.state.value[e])}const w=o?function(){const{state:R}=n,D=R?R():{};this.$patch(T=>{pr(T,D)})}:Xg;function y(){a.stop(),d=[],f=[],r._s.delete(e)}const v=(C,R="")=>{if(Id in C)return C[hl]=R,C;const D=function(){xi(r);const T=Array.from(arguments),E=[],k=[];function $(H){E.push(H)}function N(H){k.push(H)}os(f,{args:T,name:D[hl],store:b,after:$,onError:N});let L;try{L=C.apply(this&&this.$id===e?this:b,T)}catch(H){throw os(k,H),H}return L instanceof Promise?L.then(H=>(os(E,H),H)).catch(H=>(os(k,H),Promise.reject(H))):(os(E,L),L)};return D[Id]=!0,D[hl]=R,D},S={_p:r,$id:e,$onAction:Pd.bind(null,f),$patch:m,$reset:w,$subscribe(C,R={}){const D=Pd(d,C,R.detached,()=>T()),T=a.run(()=>oe(()=>r.state.value[e],E=>{(R.flush==="sync"?u:c)&&C({storeId:e,type:Eo.direct,events:g},E)},pr({},l,R)));return D},$dispose:y},b=Je(S);r._s.set(e,b);const O=(r._a&&r._a.runWithContext||X_)(()=>r._e.run(()=>(a=jh()).run(()=>t({action:v}))));for(const C in O){const R=O[C];if(tt(R)&&!eS(R)||Xn(R))o||(p&&Q_(R)&&(tt(R)?R.value=p[C]:ic(R,p[C])),r.state.value[e][C]=R);else if(typeof R=="function"){const D=v(R,C);O[C]=D,i.actions[C]=R}}return pr(b,O),pr($e(b),O),Object.defineProperty(b,"$state",{get:()=>r.state.value[e],set:C=>{m(R=>{pr(R,C)})}}),r._p.forEach(C=>{pr(b,a.run(()=>C({store:b,app:r._a,pinia:r,options:i})))}),p&&o&&n.hydrate&&n.hydrate(b.$state,p),c=!0,u=!0,b}/*! #__NO_SIDE_EFFECTS__ */function ki(e,t,n){let r,s;const o=typeof t=="function";typeof e=="string"?(r=e,s=o?n:t):(s=e,r=e.id);function a(i,l){const c=m0();return i=i||(c?wt(Jg,null):null),i&&xi(i),i=Yg,i._s.has(r)||(o?Zg(r,t,s,i):tS(r,s,i)),i._s.get(r)}return a.$id=r,a}/*!
 * vue-router v4.6.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const xs=typeof document!="undefined";function Qg(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function nS(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Qg(e.default)}const Me=Object.assign;function gl(e,t){const n={};for(const r in t){const s=t[r];n[r]=Sn(s)?s.map(e):e(s)}return n}const To=()=>{},Sn=Array.isArray;function $d(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}const em=/#/g,rS=/&/g,sS=/\//g,oS=/=/g,aS=/\?/g,tm=/\+/g,iS=/%5B/g,lS=/%5D/g,nm=/%5E/g,cS=/%60/g,rm=/%7B/g,uS=/%7C/g,sm=/%7D/g,dS=/%20/g;function au(e){return e==null?"":encodeURI(""+e).replace(uS,"|").replace(iS,"[").replace(lS,"]")}function fS(e){return au(e).replace(rm,"{").replace(sm,"}").replace(nm,"^")}function lc(e){return au(e).replace(tm,"%2B").replace(dS,"+").replace(em,"%23").replace(rS,"%26").replace(cS,"`").replace(rm,"{").replace(sm,"}").replace(nm,"^")}function hS(e){return lc(e).replace(oS,"%3D")}function gS(e){return au(e).replace(em,"%23").replace(aS,"%3F")}function mS(e){return gS(e).replace(sS,"%2F")}function Vo(e){if(e==null)return null;try{return decodeURIComponent(""+e)}catch(t){}return""+e}const vS=/\/$/,yS=e=>e.replace(vS,"");function ml(e,t,n="/"){let r,s={},o="",a="";const i=t.indexOf("#");let l=t.indexOf("?");return l=i>=0&&l>i?-1:l,l>=0&&(r=t.slice(0,l),o=t.slice(l,i>0?i:t.length),s=e(o.slice(1))),i>=0&&(r=r||t.slice(0,i),a=t.slice(i,t.length)),r=_S(r!=null?r:t,n),{fullPath:r+o+a,path:r,query:s,hash:Vo(a)}}function pS(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Dd(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function bS(e,t,n){const r=t.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&Vs(t.matched[r],n.matched[s])&&om(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Vs(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function om(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(!wS(e[n],t[n]))return!1;return!0}function wS(e,t){return Sn(e)?Bd(e,t):Sn(t)?Bd(t,e):(e==null?void 0:e.valueOf())===(t==null?void 0:t.valueOf())}function Bd(e,t){return Sn(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function _S(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let o=n.length-1,a,i;for(a=0;a<r.length;a++)if(i=r[a],i!==".")if(i==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+r.slice(a).join("/")}const fr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let cc=function(e){return e.pop="pop",e.push="push",e}({}),vl=function(e){return e.back="back",e.forward="forward",e.unknown="",e}({});function SS(e){if(!e)if(xs){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),yS(e)}const ES=/^[^#]+#/;function TS(e,t){return e.replace(ES,"#")+t}function CS(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Ai=()=>({left:window.scrollX,top:window.scrollY});function xS(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=CS(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Nd(e,t){return(history.state?history.state.position-t:-1)+e}const uc=new Map;function kS(e,t){uc.set(e,t)}function AS(e){const t=uc.get(e);return uc.delete(e),t}function OS(e){return typeof e=="string"||e&&typeof e=="object"}function am(e){return typeof e=="string"||typeof e=="symbol"}let rt=function(e){return e[e.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",e[e.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",e[e.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",e[e.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",e[e.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",e}({});const im=Symbol("");rt.MATCHER_NOT_FOUND+"",rt.NAVIGATION_GUARD_REDIRECT+"",rt.NAVIGATION_ABORTED+"",rt.NAVIGATION_CANCELLED+"",rt.NAVIGATION_DUPLICATED+"";function Fs(e,t){return Me(new Error,{type:e,[im]:!0},t)}function Vn(e,t){return e instanceof Error&&im in e&&(t==null||!!(e.type&t))}const RS=["params","query","hash"];function PS(e){if(typeof e=="string")return e;if(e.path!=null)return e.path;const t={};for(const n of RS)n in e&&(t[n]=e[n]);return JSON.stringify(t,null,2)}function IS(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<n.length;++r){const s=n[r].replace(tm," "),o=s.indexOf("="),a=Vo(o<0?s:s.slice(0,o)),i=o<0?null:Vo(s.slice(o+1));if(a in t){let l=t[a];Sn(l)||(l=t[a]=[l]),l.push(i)}else t[a]=i}return t}function Ld(e){let t="";for(let n in e){const r=e[n];if(n=hS(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Sn(r)?r.map(s=>s&&lc(s)):[r&&lc(r)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function $S(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Sn(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}const DS=Symbol(""),Md=Symbol(""),Oi=Symbol(""),iu=Symbol(""),dc=Symbol("");function ro(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Sr(e,t,n,r,s,o=a=>a()){const a=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((i,l)=>{const c=f=>{f===!1?l(Fs(rt.NAVIGATION_ABORTED,{from:n,to:t})):f instanceof Error?l(f):OS(f)?l(Fs(rt.NAVIGATION_GUARD_REDIRECT,{from:t,to:f})):(a&&r.enterCallbacks[s]===a&&typeof f=="function"&&a.push(f),i())},u=o(()=>e.call(r&&r.instances[s],t,n,c));let d=Promise.resolve(u);e.length<3&&(d=d.then(c)),d.catch(f=>l(f))})}function yl(e,t,n,r,s=o=>o()){const o=[];for(const a of e)for(const i in a.components){let l=a.components[i];if(!(t!=="beforeRouteEnter"&&!a.instances[i]))if(Qg(l)){const c=(l.__vccOpts||l)[t];c&&o.push(Sr(c,n,r,a,i,s))}else{let c=l();o.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${i}" at "${a.path}"`);const d=nS(u)?u.default:u;a.mods[i]=u,a.components[i]=d;const f=(d.__vccOpts||d)[t];return f&&Sr(f,n,r,a,i,s)()}))}}return o}function BS(e,t){const n=[],r=[],s=[],o=Math.max(t.matched.length,e.matched.length);for(let a=0;a<o;a++){const i=t.matched[a];i&&(e.matched.find(c=>Vs(c,i))?r.push(i):n.push(i));const l=e.matched[a];l&&(t.matched.find(c=>Vs(c,l))||s.push(l))}return[n,r,s]}/*!
 * vue-router v4.6.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let NS=()=>location.protocol+"//"+location.host;function lm(e,t){const{pathname:n,search:r,hash:s}=t,o=e.indexOf("#");if(o>-1){let a=s.includes(e.slice(o))?e.slice(o).length:1,i=s.slice(a);return i[0]!=="/"&&(i="/"+i),Dd(i,"")}return Dd(n,e)+r+s}function LS(e,t,n,r){let s=[],o=[],a=null;const i=({state:f})=>{const g=lm(e,location),p=n.value,_=t.value;let m=0;if(f){if(n.value=g,t.value=f,a&&a===p){a=null;return}m=_?f.position-_.position:0}else r(g);s.forEach(w=>{w(n.value,p,{delta:m,type:cc.pop,direction:m?m>0?vl.forward:vl.back:vl.unknown})})};function l(){a=n.value}function c(f){s.push(f);const g=()=>{const p=s.indexOf(f);p>-1&&s.splice(p,1)};return o.push(g),g}function u(){if(document.visibilityState==="hidden"){const{history:f}=window;if(!f.state)return;f.replaceState(Me({},f.state,{scroll:Ai()}),"")}}function d(){for(const f of o)f();o=[],window.removeEventListener("popstate",i),window.removeEventListener("pagehide",u),document.removeEventListener("visibilitychange",u)}return window.addEventListener("popstate",i),window.addEventListener("pagehide",u),document.addEventListener("visibilitychange",u),{pauseListeners:l,listen:c,destroy:d}}function jd(e,t,n,r=!1,s=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:s?Ai():null}}function MS(e){const{history:t,location:n}=window,r={value:lm(e,n)},s={value:t.state};s.value||o(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(l,c,u){const d=e.indexOf("#"),f=d>-1?(n.host&&document.querySelector("base")?e:e.slice(d))+l:NS()+e+l;try{t[u?"replaceState":"pushState"](c,"",f),s.value=c}catch(g){console.error(g),n[u?"replace":"assign"](f)}}function a(l,c){o(l,Me({},t.state,jd(s.value.back,l,s.value.forward,!0),c,{position:s.value.position}),!0),r.value=l}function i(l,c){const u=Me({},s.value,t.state,{forward:l,scroll:Ai()});o(u.current,u,!0),o(l,Me({},jd(r.value,l,null),{position:u.position+1},c),!1),r.value=l}return{location:r,state:s,push:i,replace:a}}function jS(e){e=SS(e);const t=MS(e),n=LS(e,t.state,t.location,t.replace);function r(o,a=!0){a||n.pauseListeners(),history.go(o)}const s=Me({location:"",base:e,go:r,createHref:TS.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}let Kr=function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.Group=2]="Group",e}({});var ct=function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.ParamRegExp=2]="ParamRegExp",e[e.ParamRegExpEnd=3]="ParamRegExpEnd",e[e.EscapeNext=4]="EscapeNext",e}(ct||{});const US={type:Kr.Static,value:""},VS=/[a-zA-Z0-9_]/;function FS(e){if(!e)return[[]];if(e==="/")return[[US]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(g){throw new Error(`ERR (${n})/"${c}": ${g}`)}let n=ct.Static,r=n;const s=[];let o;function a(){o&&s.push(o),o=[]}let i=0,l,c="",u="";function d(){c&&(n===ct.Static?o.push({type:Kr.Static,value:c}):n===ct.Param||n===ct.ParamRegExp||n===ct.ParamRegExpEnd?(o.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:Kr.Param,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;i<e.length;){if(l=e[i++],l==="\\"&&n!==ct.ParamRegExp){r=n,n=ct.EscapeNext;continue}switch(n){case ct.Static:l==="/"?(c&&d(),a()):l===":"?(d(),n=ct.Param):f();break;case ct.EscapeNext:f(),n=r;break;case ct.Param:l==="("?n=ct.ParamRegExp:VS.test(l)?f():(d(),n=ct.Static,l!=="*"&&l!=="?"&&l!=="+"&&i--);break;case ct.ParamRegExp:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=ct.ParamRegExpEnd:u+=l;break;case ct.ParamRegExpEnd:d(),n=ct.Static,l!=="*"&&l!=="?"&&l!=="+"&&i--,u="";break;default:t("Unknown state");break}}return n===ct.ParamRegExp&&t(`Unfinished custom RegExp for param "${c}"`),d(),a(),s}const Ud="[^/]+?",HS={sensitive:!1,strict:!1,start:!0,end:!0};var Dt=function(e){return e[e._multiplier=10]="_multiplier",e[e.Root=90]="Root",e[e.Segment=40]="Segment",e[e.SubSegment=30]="SubSegment",e[e.Static=40]="Static",e[e.Dynamic=20]="Dynamic",e[e.BonusCustomRegExp=10]="BonusCustomRegExp",e[e.BonusWildcard=-50]="BonusWildcard",e[e.BonusRepeatable=-20]="BonusRepeatable",e[e.BonusOptional=-8]="BonusOptional",e[e.BonusStrict=.7000000000000001]="BonusStrict",e[e.BonusCaseSensitive=.25]="BonusCaseSensitive",e}(Dt||{});const zS=/[.+*?^${}()[\]/\\]/g;function WS(e,t){const n=Me({},HS,t),r=[];let s=n.start?"^":"";const o=[];for(const c of e){const u=c.length?[]:[Dt.Root];n.strict&&!c.length&&(s+="/");for(let d=0;d<c.length;d++){const f=c[d];let g=Dt.Segment+(n.sensitive?Dt.BonusCaseSensitive:0);if(f.type===Kr.Static)d||(s+="/"),s+=f.value.replace(zS,"\\$&"),g+=Dt.Static;else if(f.type===Kr.Param){const{value:p,repeatable:_,optional:m,regexp:w}=f;o.push({name:p,repeatable:_,optional:m});const y=w||Ud;if(y!==Ud){g+=Dt.BonusCustomRegExp;try{`${y}`}catch(S){throw new Error(`Invalid custom RegExp for param "${p}" (${y}): `+S.message)}}let v=_?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;d||(v=m&&c.length<2?`(?:/${v})`:"/"+v),m&&(v+="?"),s+=v,g+=Dt.Dynamic,m&&(g+=Dt.BonusOptional),_&&(g+=Dt.BonusRepeatable),y===".*"&&(g+=Dt.BonusWildcard)}u.push(g)}r.push(u)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=Dt.BonusStrict}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const a=new RegExp(s,n.sensitive?"":"i");function i(c){const u=c.match(a),d={};if(!u)return null;for(let f=1;f<u.length;f++){const g=u[f]||"",p=o[f-1];d[p.name]=g&&p.repeatable?g.split("/"):g}return d}function l(c){let u="",d=!1;for(const f of e){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const g of f)if(g.type===Kr.Static)u+=g.value;else if(g.type===Kr.Param){const{value:p,repeatable:_,optional:m}=g,w=p in c?c[p]:"";if(Sn(w)&&!_)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const y=Sn(w)?w.join("/"):w;if(!y)if(m)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);u+=y}}return u||"/"}return{re:a,score:r,keys:o,parse:i,stringify:l}}function qS(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===Dt.Static+Dt.Segment?-1:1:e.length>t.length?t.length===1&&t[0]===Dt.Static+Dt.Segment?1:-1:0}function cm(e,t){let n=0;const r=e.score,s=t.score;for(;n<r.length&&n<s.length;){const o=qS(r[n],s[n]);if(o)return o;n++}if(Math.abs(s.length-r.length)===1){if(Vd(r))return 1;if(Vd(s))return-1}return s.length-r.length}function Vd(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const KS={strict:!1,end:!0,sensitive:!1};function GS(e,t,n){const r=WS(FS(e.path),n),s=Me(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function YS(e,t){const n=[],r=new Map;t=$d(KS,t);function s(d){return r.get(d)}function o(d,f,g){const p=!g,_=Hd(d);_.aliasOf=g&&g.record;const m=$d(t,d),w=[_];if("alias"in d){const S=typeof d.alias=="string"?[d.alias]:d.alias;for(const b of S)w.push(Hd(Me({},_,{components:g?g.record.components:_.components,path:b,aliasOf:g?g.record:_})))}let y,v;for(const S of w){const{path:b}=S;if(f&&b[0]!=="/"){const x=f.record.path,O=x[x.length-1]==="/"?"":"/";S.path=f.record.path+(b&&O+b)}if(y=GS(S,f,m),g?g.alias.push(y):(v=v||y,v!==y&&v.alias.push(y),p&&d.name&&!zd(y)&&a(d.name)),um(y)&&l(y),_.children){const x=_.children;for(let O=0;O<x.length;O++)o(x[O],y,g&&g.children[O])}g=g||y}return v?()=>{a(v)}:To}function a(d){if(am(d)){const f=r.get(d);f&&(r.delete(d),n.splice(n.indexOf(f),1),f.children.forEach(a),f.alias.forEach(a))}else{const f=n.indexOf(d);f>-1&&(n.splice(f,1),d.record.name&&r.delete(d.record.name),d.children.forEach(a),d.alias.forEach(a))}}function i(){return n}function l(d){const f=ZS(d,n);n.splice(f,0,d),d.record.name&&!zd(d)&&r.set(d.record.name,d)}function c(d,f){let g,p={},_,m;if("name"in d&&d.name){if(g=r.get(d.name),!g)throw Fs(rt.MATCHER_NOT_FOUND,{location:d});m=g.record.name,p=Me(Fd(f.params,g.keys.filter(v=>!v.optional).concat(g.parent?g.parent.keys.filter(v=>v.optional):[]).map(v=>v.name)),d.params&&Fd(d.params,g.keys.map(v=>v.name))),_=g.stringify(p)}else if(d.path!=null)_=d.path,g=n.find(v=>v.re.test(_)),g&&(p=g.parse(_),m=g.record.name);else{if(g=f.name?r.get(f.name):n.find(v=>v.re.test(f.path)),!g)throw Fs(rt.MATCHER_NOT_FOUND,{location:d,currentLocation:f});m=g.record.name,p=Me({},f.params,d.params),_=g.stringify(p)}const w=[];let y=g;for(;y;)w.unshift(y.record),y=y.parent;return{name:m,path:_,params:p,matched:w,meta:XS(w)}}e.forEach(d=>o(d));function u(){n.length=0,r.clear()}return{addRoute:o,resolve:c,removeRoute:a,clearRoutes:u,getRoutes:i,getRecordMatcher:s}}function Fd(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function Hd(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:JS(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function JS(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function zd(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function XS(e){return e.reduce((t,n)=>Me(t,n.meta),{})}function ZS(e,t){let n=0,r=t.length;for(;n!==r;){const o=n+r>>1;cm(e,t[o])<0?r=o:n=o+1}const s=QS(e);return s&&(r=t.lastIndexOf(s,r-1)),r}function QS(e){let t=e;for(;t=t.parent;)if(um(t)&&cm(e,t)===0)return t}function um({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Wd(e){const t=wt(Oi),n=wt(iu),r=M(()=>{const l=Qt(e.to);return t.resolve(l)}),s=M(()=>{const{matched:l}=r.value,{length:c}=l,u=l[c-1],d=n.matched;if(!u||!d.length)return-1;const f=d.findIndex(Vs.bind(null,u));if(f>-1)return f;const g=qd(l[c-2]);return c>1&&qd(u)===g&&d[d.length-1].path!==g?d.findIndex(Vs.bind(null,l[c-2])):f}),o=M(()=>s.value>-1&&sE(n.params,r.value.params)),a=M(()=>s.value>-1&&s.value===n.matched.length-1&&om(n.params,r.value.params));function i(l={}){if(rE(l)){const c=t[Qt(e.replace)?"replace":"push"](Qt(e.to)).catch(To);return e.viewTransition&&typeof document!="undefined"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:r,href:M(()=>r.value.href),isActive:o,isExactActive:a,navigate:i}}function eE(e){return e.length===1?e[0]:e}const tE=Y({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Wd,setup(e,{slots:t}){const n=Je(Wd(e)),{options:r}=wt(Oi),s=M(()=>({[Kd(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Kd(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=t.default&&eE(t.default(n));return e.custom?o:ou("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},o)}}}),nE=tE;function rE(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function sE(e,t){for(const n in t){const r=t[n],s=e[n];if(typeof r=="string"){if(r!==s)return!1}else if(!Sn(s)||s.length!==r.length||r.some((o,a)=>o.valueOf()!==s[a].valueOf()))return!1}return!0}function qd(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Kd=(e,t,n)=>e!=null?e:t!=null?t:n,oE=Y({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=wt(dc),s=M(()=>e.route||r.value),o=wt(Md,0),a=M(()=>{let c=Qt(o);const{matched:u}=s.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),i=M(()=>s.value.matched[a.value]);$n(Md,M(()=>a.value+1)),$n(DS,i),$n(dc,s);const l=U();return oe(()=>[l.value,i.value,e.name],([c,u,d],[f,g,p])=>{u&&(u.instances[d]=c,g&&g!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=g.leaveGuards),u.updateGuards.size||(u.updateGuards=g.updateGuards))),c&&u&&(!g||!Vs(u,g)||!f)&&(u.enterCallbacks[d]||[]).forEach(_=>_(c))},{flush:"post"}),()=>{const c=s.value,u=e.name,d=i.value,f=d&&d.components[u];if(!f)return Gd(n.default,{Component:f,route:c});const g=d.props[u],p=g?g===!0?c.params:typeof g=="function"?g(c):g:null,m=ou(f,Me({},p,t,{onVnodeUnmounted:w=>{w.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return Gd(n.default,{Component:m,route:c})||m}}});function Gd(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const aE=oE;function iE(e){const t=YS(e.routes,e),n=e.parseQuery||IS,r=e.stringifyQuery||Ld,s=e.history,o=ro(),a=ro(),i=ro(),l=n0(fr);let c=fr;xs&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=gl.bind(null,P=>""+P),d=gl.bind(null,mS),f=gl.bind(null,Vo);function g(P,z){let V,re;return am(P)?(V=t.getRecordMatcher(P),re=z):re=P,t.addRoute(re,V)}function p(P){const z=t.getRecordMatcher(P);z&&t.removeRoute(z)}function _(){return t.getRoutes().map(P=>P.record)}function m(P){return!!t.getRecordMatcher(P)}function w(P,z){if(z=Me({},z||l.value),typeof P=="string"){const j=ml(n,P,z.path),q=t.resolve({path:j.path},z),Z=s.createHref(j.fullPath);return Me(j,q,{params:f(q.params),hash:Vo(j.hash),redirectedFrom:void 0,href:Z})}let V;if(P.path!=null)V=Me({},P,{path:ml(n,P.path,z.path).path});else{const j=Me({},P.params);for(const q in j)j[q]==null&&delete j[q];V=Me({},P,{params:d(j)}),z.params=d(z.params)}const re=t.resolve(V,z),he=P.hash||"";re.params=u(f(re.params));const I=pS(r,Me({},P,{hash:fS(he),path:re.path})),B=s.createHref(I);return Me({fullPath:I,hash:he,query:r===Ld?$S(P.query):P.query||{}},re,{redirectedFrom:void 0,href:B})}function y(P){return typeof P=="string"?ml(n,P,l.value.path):Me({},P)}function v(P,z){if(c!==P)return Fs(rt.NAVIGATION_CANCELLED,{from:z,to:P})}function S(P){return O(P)}function b(P){return S(Me(y(P),{replace:!0}))}function x(P,z){const V=P.matched[P.matched.length-1];if(V&&V.redirect){const{redirect:re}=V;let he=typeof re=="function"?re(P,z):re;return typeof he=="string"&&(he=he.includes("?")||he.includes("#")?he=y(he):{path:he},he.params={}),Me({query:P.query,hash:P.hash,params:he.path!=null?{}:P.params},he)}}function O(P,z){const V=c=w(P),re=l.value,he=P.state,I=P.force,B=P.replace===!0,j=x(V,re);if(j)return O(Me(y(j),{state:typeof j=="object"?Me({},he,j.state):he,force:I,replace:B}),z||V);const q=V;q.redirectedFrom=z;let Z;return!I&&bS(r,re,V)&&(Z=Fs(rt.NAVIGATION_DUPLICATED,{to:q,from:re}),ae(re,re,!0,!1)),(Z?Promise.resolve(Z):D(q,re)).catch(G=>Vn(G)?Vn(G,rt.NAVIGATION_GUARD_REDIRECT)?G:Se(G):X(G,q,re)).then(G=>{if(G){if(Vn(G,rt.NAVIGATION_GUARD_REDIRECT))return O(Me({replace:B},y(G.to),{state:typeof G.to=="object"?Me({},he,G.to.state):he,force:I}),z||q)}else G=E(q,re,!0,B,he);return T(q,re,G),G})}function C(P,z){const V=v(P,z);return V?Promise.reject(V):Promise.resolve()}function R(P){const z=ve.values().next().value;return z&&typeof z.runWithContext=="function"?z.runWithContext(P):P()}function D(P,z){let V;const[re,he,I]=BS(P,z);V=yl(re.reverse(),"beforeRouteLeave",P,z);for(const j of re)j.leaveGuards.forEach(q=>{V.push(Sr(q,P,z))});const B=C.bind(null,P,z);return V.push(B),ie(V).then(()=>{V=[];for(const j of o.list())V.push(Sr(j,P,z));return V.push(B),ie(V)}).then(()=>{V=yl(he,"beforeRouteUpdate",P,z);for(const j of he)j.updateGuards.forEach(q=>{V.push(Sr(q,P,z))});return V.push(B),ie(V)}).then(()=>{V=[];for(const j of I)if(j.beforeEnter)if(Sn(j.beforeEnter))for(const q of j.beforeEnter)V.push(Sr(q,P,z));else V.push(Sr(j.beforeEnter,P,z));return V.push(B),ie(V)}).then(()=>(P.matched.forEach(j=>j.enterCallbacks={}),V=yl(I,"beforeRouteEnter",P,z,R),V.push(B),ie(V))).then(()=>{V=[];for(const j of a.list())V.push(Sr(j,P,z));return V.push(B),ie(V)}).catch(j=>Vn(j,rt.NAVIGATION_CANCELLED)?j:Promise.reject(j))}function T(P,z,V){i.list().forEach(re=>R(()=>re(P,z,V)))}function E(P,z,V,re,he){const I=v(P,z);if(I)return I;const B=z===fr,j=xs?history.state:{};V&&(re||B?s.replace(P.fullPath,Me({scroll:B&&j&&j.scroll},he)):s.push(P.fullPath,he)),l.value=P,ae(P,z,V,B),Se()}let k;function $(){k||(k=s.listen((P,z,V)=>{if(!W.listening)return;const re=w(P),he=x(re,W.currentRoute.value);if(he){O(Me(he,{replace:!0,force:!0}),re).catch(To);return}c=re;const I=l.value;xs&&kS(Nd(I.fullPath,V.delta),Ai()),D(re,I).catch(B=>Vn(B,rt.NAVIGATION_ABORTED|rt.NAVIGATION_CANCELLED)?B:Vn(B,rt.NAVIGATION_GUARD_REDIRECT)?(O(Me(y(B.to),{force:!0}),re).then(j=>{Vn(j,rt.NAVIGATION_ABORTED|rt.NAVIGATION_DUPLICATED)&&!V.delta&&V.type===cc.pop&&s.go(-1,!1)}).catch(To),Promise.reject()):(V.delta&&s.go(-V.delta,!1),X(B,re,I))).then(B=>{B=B||E(re,I,!1),B&&(V.delta&&!Vn(B,rt.NAVIGATION_CANCELLED)?s.go(-V.delta,!1):V.type===cc.pop&&Vn(B,rt.NAVIGATION_ABORTED|rt.NAVIGATION_DUPLICATED)&&s.go(-1,!1)),T(re,I,B)}).catch(To)}))}let N=ro(),L=ro(),H;function X(P,z,V){Se(P);const re=L.list();return re.length?re.forEach(he=>he(P,z,V)):console.error(P),Promise.reject(P)}function me(){return H&&l.value!==fr?Promise.resolve():new Promise((P,z)=>{N.add([P,z])})}function Se(P){return H||(H=!P,$(),N.list().forEach(([z,V])=>P?V(P):z()),N.reset()),P}function ae(P,z,V,re){const{scrollBehavior:he}=e;if(!xs||!he)return Promise.resolve();const I=!V&&AS(Nd(P.fullPath,0))||(re||!V)&&history.state&&history.state.scroll||null;return Ae().then(()=>he(P,z,I)).then(B=>B&&xS(B)).catch(B=>X(B,P,z))}const F=P=>s.go(P);let Q;const ve=new Set,W={currentRoute:l,listening:!0,addRoute:g,removeRoute:p,clearRoutes:t.clearRoutes,hasRoute:m,getRoutes:_,resolve:w,options:e,push:S,replace:b,go:F,back:()=>F(-1),forward:()=>F(1),beforeEach:o.add,beforeResolve:a.add,afterEach:i.add,onError:L.add,isReady:me,install(P){P.component("RouterLink",nE),P.component("RouterView",aE),P.config.globalProperties.$router=W,Object.defineProperty(P.config.globalProperties,"$route",{enumerable:!0,get:()=>Qt(l)}),xs&&!Q&&l.value===fr&&(Q=!0,S(s.location).catch(re=>{}));const z={};for(const re in fr)Object.defineProperty(z,re,{get:()=>l.value[re],enumerable:!0});P.provide(Oi,W),P.provide(iu,tg(z)),P.provide(dc,l);const V=P.unmount;ve.add(P),P.unmount=function(){ve.delete(P),ve.size<1&&(c=fr,k&&k(),k=null,l.value=fr,Q=!1,H=!1),V()}}};function ie(P){return P.reduce((z,V)=>z.then(()=>R(V)),Promise.resolve())}return W}function lE(){return wt(Oi)}function W1(e){return wt(iu)}function Ri(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function cE(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function i(u){try{c(r.next(u))}catch(d){a(d)}}function l(u){try{c(r.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):s(u.value).then(i,l)}c((r=r.apply(e,t||[])).next())})}const uE=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class lu extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class dE extends lu{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Yd extends lu{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Jd extends lu{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var fc;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(fc||(fc={}));class fE{constructor(t,{headers:n={},customFetch:r,region:s=fc.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=uE(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return cE(this,arguments,void 0,function*(n,r={}){var s;let o,a;try{const{headers:i,method:l,body:c,signal:u,timeout:d}=r;let f={},{region:g}=r;g||(g=this.region);const p=new URL(`${this.url}/${n}`);g&&g!=="any"&&(f["x-region"]=g,p.searchParams.set("forceFunctionRegion",g));let _;c&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob!="undefined"&&c instanceof Blob||c instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",_=c):typeof c=="string"?(f["Content-Type"]="text/plain",_=c):typeof FormData!="undefined"&&c instanceof FormData?_=c:(f["Content-Type"]="application/json",_=JSON.stringify(c)):_=c;let m=u;d&&(a=new AbortController,o=setTimeout(()=>a.abort(),d),u?(m=a.signal,u.addEventListener("abort",()=>a.abort())):m=a.signal);const w=yield this.fetch(p.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),i),body:_,signal:m}).catch(b=>{throw new dE(b)}),y=w.headers.get("x-relay-error");if(y&&y==="true")throw new Yd(w);if(!w.ok)throw new Jd(w);let v=((s=w.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),S;return v==="application/json"?S=yield w.json():v==="application/octet-stream"||v==="application/pdf"?S=yield w.blob():v==="text/event-stream"?S=w:v==="multipart/form-data"?S=yield w.formData():S=yield w.text(),{data:S,error:null,response:w}}catch(i){return{data:null,error:i,response:i instanceof Jd||i instanceof Yd?i.context:void 0}}finally{o&&clearTimeout(o)}})}}var hE=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},gE=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(o=>A(this,null,function*(){let a=null,i=null,l=null,c=o.status,u=o.statusText;if(o.ok){var d,f;if(n.method!=="HEAD"){var g;const w=yield o.text();w===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((g=n.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?i=w:i=JSON.parse(w))}const _=(d=n.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),m=(f=o.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");_&&m&&m.length>1&&(l=parseInt(m[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(i)&&(i.length>1?(a={code:"PGRST116",details:`Results contain ${i.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},i=null,l=null,c=406,u="Not Acceptable"):i.length===1?i=i[0]:i=null)}else{var p;const _=yield o.text();try{a=JSON.parse(_),Array.isArray(a)&&o.status===404&&(i=[],a=null,c=200,u="OK")}catch(m){o.status===404&&_===""?(c=204,u="No Content"):a={message:_}}if(a&&n.isMaybeSingle&&(!(a==null||(p=a.details)===null||p===void 0)&&p.includes("0 rows"))&&(a=null,c=200,u="OK"),a&&n.shouldThrowOnError)throw new hE(a)}return{error:a,data:i,count:l,status:c,statusText:u}}));return this.shouldThrowOnError||(s=s.catch(o=>{var a;let i="";const l=o==null?void 0:o.cause;if(l){var c,u,d,f;const p=(c=l==null?void 0:l.message)!==null&&c!==void 0?c:"",_=(u=l==null?void 0:l.code)!==null&&u!==void 0?u:"";i=`${(d=o==null?void 0:o.name)!==null&&d!==void 0?d:"FetchError"}: ${o==null?void 0:o.message}`,i+=`

Caused by: ${(f=l==null?void 0:l.name)!==null&&f!==void 0?f:"Error"}: ${p}`,_&&(i+=` (${_})`),l!=null&&l.stack&&(i+=`
${l.stack}`)}else{var g;i=(g=o==null?void 0:o.stack)!==null&&g!==void 0?g:""}return{error:{message:`${(a=o==null?void 0:o.name)!==null&&a!==void 0?a:"FetchError"}: ${o==null?void 0:o.message}`,details:i,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},mE=class extends gE{select(e){let t=!1;const n=(e!=null?e:"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const o=s?`${s}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n=="undefined"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r=="undefined"?"offset":`${r}.offset`,o=typeof r=="undefined"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:o="text"}={}){var a;const i=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${l}"; options=${i};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Xd=new RegExp("[,()]");var ks=class extends mE{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&Xd.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&Xd.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},vE=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}select(e,t){const{head:n=!1,count:r}=t!=null?t:{},s=n?"HEAD":"GET";let o=!1;const a=(e!=null?e:"*").split("").map(i=>/\s/.test(i)&&!o?"":(i==='"'&&(o=!o),i)).join("");return this.url.searchParams.set("select",a),r&&this.headers.append("Prefer",`count=${r}`),new ks({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const s="POST";if(t&&this.headers.append("Prefer",`count=${t}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((a,i)=>a.concat(Object.keys(i)),[]);if(o.length>0){const a=[...new Set(o)].map(i=>`"${i}"`);this.url.searchParams.set("columns",a.join(","))}}return new ks({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),r&&this.headers.append("Prefer",`count=${r}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const i=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new ks({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:t}={}){var n;const r="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new ks({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new ks({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},yE=class dm{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new vE(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new dm(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:o}={}){var a;let i;const l=new URL(`${this.url}/rpc/${t}`);let c;r||s?(i=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(i="POST",c=n);const u=new Headers(this.headers);return o&&u.set("Prefer",`count=${o}`),new ks({method:i,url:l,headers:u,schema:this.schemaName,body:c,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class pE{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket!="undefined")return{type:"native",constructor:WebSocket};if(typeof globalThis!="undefined"&&typeof globalThis.WebSocket!="undefined")return{type:"native",constructor:globalThis.WebSocket};if(typeof global!="undefined"&&typeof global.WebSocket!="undefined")return{type:"native",constructor:global.WebSocket};if(typeof globalThis!="undefined"&&typeof globalThis.WebSocketPair!="undefined"&&typeof globalThis.WebSocket=="undefined")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis!="undefined"&&globalThis.EdgeRuntime||typeof navigator!="undefined"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process!="undefined"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket!="undefined"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch(t){return!1}}}const bE="2.89.0",wE=`realtime-js/${bE}`,fm="1.0.0",_E="2.0.0",Zd=fm,hc=1e4,SE=1e3,EE=100;var Er;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Er||(Er={}));var ut;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ut||(ut={}));var gn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(gn||(gn={}));var gc;(function(e){e.websocket="websocket"})(gc||(gc={}));var Wr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Wr||(Wr={}));class TE{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t!=null?t:[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(t,n,r){var s,o;const a=t.topic,i=(s=t.ref)!==null&&s!==void 0?s:"",l=(o=t.join_ref)!==null&&o!==void 0?o:"",c=t.payload.event,u=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},d=Object.keys(u).length===0?"":JSON.stringify(u);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(i.length>255)throw new Error(`ref length ${i.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+i.length+a.length+c.length+d.length,g=new ArrayBuffer(this.HEADER_LENGTH+f);let p=new DataView(g),_=0;p.setUint8(_++,this.KINDS.userBroadcastPush),p.setUint8(_++,l.length),p.setUint8(_++,i.length),p.setUint8(_++,a.length),p.setUint8(_++,c.length),p.setUint8(_++,d.length),p.setUint8(_++,n),Array.from(l,w=>p.setUint8(_++,w.charCodeAt(0))),Array.from(i,w=>p.setUint8(_++,w.charCodeAt(0))),Array.from(a,w=>p.setUint8(_++,w.charCodeAt(0))),Array.from(c,w=>p.setUint8(_++,w.charCodeAt(0))),Array.from(d,w=>p.setUint8(_++,w.charCodeAt(0)));var m=new Uint8Array(g.byteLength+r.byteLength);return m.set(new Uint8Array(g),0),m.set(new Uint8Array(r),g.byteLength),m.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[s,o,a,i,l]=r;return n({join_ref:s,ref:o,topic:a,event:i,payload:l})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,s)}}_decodeUserBroadcast(t,n,r){const s=n.getUint8(1),o=n.getUint8(2),a=n.getUint8(3),i=n.getUint8(4);let l=this.HEADER_LENGTH+4;const c=r.decode(t.slice(l,l+s));l=l+s;const u=r.decode(t.slice(l,l+o));l=l+o;const d=r.decode(t.slice(l,l+a));l=l+a;const f=t.slice(l,t.byteLength),g=i===this.JSON_ENCODING?JSON.parse(r.decode(f)):f,p={type:this.BROADCAST_EVENT,event:u,payload:g};return a>0&&(p.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:p}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class hm{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var He;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(He||(He={}));const Qd=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,a)=>(o[a]=CE(a,e,t,s),o),{}):{}},CE=(e,t,n,r)=>{const s=t.find(i=>i.name===e),o=s==null?void 0:s.type,a=n[e];return o&&!r.includes(o)?gm(o,a):mc(a)},gm=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return OE(t,n)}switch(e){case He.bool:return xE(t);case He.float4:case He.float8:case He.int2:case He.int4:case He.int8:case He.numeric:case He.oid:return kE(t);case He.json:case He.jsonb:return AE(t);case He.timestamp:return RE(t);case He.abstime:case He.date:case He.daterange:case He.int4range:case He.int8range:case He.money:case He.reltime:case He.text:case He.time:case He.timestamptz:case He.timetz:case He.tsrange:case He.tstzrange:return mc(t);default:return mc(t)}},mc=e=>e,xE=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},kE=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},AE=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return e}return e},OE=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const a=e.slice(1,n);try{o=JSON.parse("["+a+"]")}catch(i){o=a?a.split(","):[]}return o.map(i=>gm(t,i))}return e},RE=e=>typeof e=="string"?e.replace(" ","T"):e,mm=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class pl{constructor(t,n,r={},s=hc){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ef;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ef||(ef={}));class Co{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:a,onSync:i}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Co.syncState(this.state,s,o,a),this.pendingDiffs.forEach(l=>{this.state=Co.syncDiff(this.state,l,o,a)}),this.pendingDiffs=[],i()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:a,onSync:i}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Co.syncDiff(this.state,s,o,a),i())}),this.onJoin((s,o,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:a})}),this.onLeave((s,o,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const o=this.cloneDeep(t),a=this.transformState(n),i={},l={};return this.map(o,(c,u)=>{a[c]||(l[c]=u)}),this.map(a,(c,u)=>{const d=o[c];if(d){const f=u.map(m=>m.presence_ref),g=d.map(m=>m.presence_ref),p=u.filter(m=>g.indexOf(m.presence_ref)<0),_=d.filter(m=>f.indexOf(m.presence_ref)<0);p.length>0&&(i[c]=p),_.length>0&&(l[c]=_)}else i[c]=u}),this.syncDiff(o,{joins:i,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:o,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(i,l)=>{var c;const u=(c=t[i])!==null&&c!==void 0?c:[];if(t[i]=this.cloneDeep(l),u.length>0){const d=t[i].map(g=>g.presence_ref),f=u.filter(g=>d.indexOf(g.presence_ref)<0);t[i].unshift(...f)}r(i,u,l)}),this.map(a,(i,l)=>{let c=t[i];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),t[i]=c,s(i,c,l),c.length===0&&delete t[i]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var tf;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(tf||(tf={}));var xo;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(xo||(xo={}));var qn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(qn||(qn={}));class Rs{constructor(t,n={config:{}},r){var s,o;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=ut.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new pl(this,gn.join,this.params,this.timeout),this.rejoinTimer=new hm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ut.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ut.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this._on(gn.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new Co(this),this.broadcastEndpointURL=mm(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==ut.closed){const{config:{broadcast:a,presence:i,private:l}}=this.params,c=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(g=>g.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[xo.PRESENCE]&&this.bindings[xo.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,d={},f={broadcast:a,presence:Object.assign(Object.assign({},i),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(g=>t==null?void 0:t(qn.CHANNEL_ERROR,g)),this._onClose(()=>t==null?void 0:t(qn.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",p=>A(this,[p],function*({postgres_changes:g}){var _;if(this.socket._isManualToken()||this.socket.setAuth(),g===void 0){t==null||t(qn.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,w=(_=m==null?void 0:m.length)!==null&&_!==void 0?_:0,y=[];for(let v=0;v<w;v++){const S=m[v],{filter:{event:b,schema:x,table:O,filter:C}}=S,R=g&&g[v];if(R&&R.event===b&&Rs.isFilterValueEqual(R.schema,x)&&Rs.isFilterValueEqual(R.table,O)&&Rs.isFilterValueEqual(R.filter,C))y.push(Object.assign(Object.assign({},S),{id:R.id}));else{this.unsubscribe(),this.state=ut.errored,t==null||t(qn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(qn.SUBSCRIBED);return}})).receive("error",g=>{this.state=ut.errored,t==null||t(qn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(qn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return A(this,arguments,function*(t,n={}){return yield this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)})}untrack(){return A(this,arguments,function*(t={}){return yield this.send({type:"presence",event:"untrack"},t)})}on(t,n,r){return this.state===ut.joined&&t===xo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>A(this,null,function*(){return yield this.subscribe()}))),this._on(t,n,r)}httpSend(s,o){return A(this,arguments,function*(t,n,r={}){var a;if(n==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},c=yield this._fetchWithTimeout(this.broadcastEndpointURL,l,(a=r.timeout)!==null&&a!==void 0?a:this.timeout);if(c.status===202)return{success:!0};let u=c.statusText;try{const d=yield c.json();u=d.error||d.message||u}catch(d){}return Promise.reject(new Error(u))})}send(r){return A(this,arguments,function*(t,n={}){var s,o;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:i}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:i,private:this.private}]})};try{const u=yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return yield(o=u.body)===null||o===void 0?void 0:o.cancel(),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var i,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ut.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(gn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new pl(this,gn.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ut.closed,this.bindings={}}_fetchWithTimeout(t,n,r){return A(this,null,function*(){const s=new AbortController,o=setTimeout(()=>s.abort(),r),a=yield this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),a})}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new pl(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>EE){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,o;const a=t.toLocaleLowerCase(),{close:i,error:l,leave:c,join:u}=gn;if(r&&[i,l,c,u].indexOf(a)>=0&&r!==this._joinRef())return;let f=this._onMessage(a,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var p,_,m;return((p=g.filter)===null||p===void 0?void 0:p.event)==="*"||((m=(_=g.filter)===null||_===void 0?void 0:_.event)===null||m===void 0?void 0:m.toLocaleLowerCase())===a}).map(g=>g.callback(f,r)):(o=this.bindings[a])===null||o===void 0||o.filter(g=>{var p,_,m,w,y,v;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in g){const S=g.id,b=(p=g.filter)===null||p===void 0?void 0:p.event;return S&&((_=n.ids)===null||_===void 0?void 0:_.includes(S))&&(b==="*"||(b==null?void 0:b.toLocaleLowerCase())===((m=n.data)===null||m===void 0?void 0:m.type.toLocaleLowerCase()))}else{const S=(y=(w=g==null?void 0:g.filter)===null||w===void 0?void 0:w.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return S==="*"||S===((v=n==null?void 0:n.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===a}).map(g=>{if(typeof f=="object"&&"ids"in f){const p=f.data,{schema:_,table:m,commit_timestamp:w,type:y,errors:v}=p;f=Object.assign(Object.assign({},{schema:_,table:m,commit_timestamp:w,eventType:y,new:{},old:{},errors:v}),this._getPayloadRecords(p))}g.callback(f,r)})}_isClosed(){return this.state===ut.closed}_isJoined(){return this.state===ut.joined}_isJoining(){return this.state===ut.joining}_isLeaving(){return this.state===ut.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),o={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Rs.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){const r=t!=null?t:void 0,s=n!=null?n:void 0;return r===s}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(gn.close,{},t)}_onError(t){this._on(gn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ut.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Qd(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Qd(t.columns,t.old_record)),n}}const bl=()=>{},fa={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},PE=[1e3,2e3,5e3,1e4],IE=1e4,$E=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class DE{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=hc,this.transport=null,this.heartbeatIntervalMs=fa.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=bl,this.ref=0,this.reconnectTimer=null,this.vsn=Zd,this.logger=bl,this.conn=null,this.sendBuffer=[],this.serializer=new TE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...o)=>s(...o):(...o)=>fetch(...o),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${gc.websocket}`,this.httpEndpoint=mm(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=pE.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n!=null?n:""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(t){return A(this,null,function*(){const n=yield t.unsubscribe();return this.channels.length===0&&this.disconnect(),n})}removeAllChannels(){return A(this,null,function*(){const t=yield Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t})}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Er.connecting:return Wr.Connecting;case Er.open:return Wr.Open;case Er.closing:return Wr.Closing;default:return Wr.Closed}}isConnected(){return this.connectionState()===Wr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===r);if(s)return s;{const o=new Rs(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:s,ref:o}=t,a=()=>{this.encode(t,i=>{var l;(l=this.conn)===null||l===void 0||l.send(i)})};this.log("push",`${n} ${r} (${o})`,s),this.isConnected()?a():this.sendBuffer.push(a)}setAuth(t=null){return A(this,null,function*(){this._authPromise=this._performAuth(t);try{yield this._authPromise}finally{this._authPromise=null}})}_isManualToken(){return this._manuallySetToken}sendHeartbeat(){return A(this,null,function*(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(SE,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},fa.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")})}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:o,ref:a}=n,i=a?`(${a})`:"",l=o.status||"";this.log("receive",`${l} ${r} ${s} ${i}`.trim(),o),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(s,o,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Er.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Er.open||this.conn.readyState===Er.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(gn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([$E],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}_performAuth(t=null){return A(this,null,function*(){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=yield this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const o={access_token:n,version:wE};n&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(gn.access_token,{access_token:n})}))})}_waitForAuthIfNeeded(){return A(this,null,function*(){this._authPromise&&(yield this._authPromise)})}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new hm(()=>A(this,null,function*(){setTimeout(()=>A(this,null,function*(){yield this._waitForAuthIfNeeded(),this.isConnected()||this.connect()}),fa.RECONNECT_DELAY)}),this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,o,a,i,l,c,u,d,f,g;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:hc,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:fa.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(i=t==null?void 0:t.heartbeatCallback)!==null&&i!==void 0?i:bl,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:Zd,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:p=>PE[p-1]||IE,this.vsn){case fm:this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(p,_)=>_(JSON.stringify(p)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:(p,_)=>_(JSON.parse(p));break;case _E:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(g=t==null?void 0:t.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window!="undefined"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Fo=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function BE(e,t,n){const r=new URL(t,e);if(n)for(const[s,o]of Object.entries(n))o!==void 0&&r.searchParams.set(s,o);return r.toString()}function NE(e){return A(this,null,function*(){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?yield e.getHeaders():{}})}function LE(e){var n;const t=(n=e.fetchImpl)!=null?n:globalThis.fetch;return{request(c){return A(this,arguments,function*({method:s,path:o,query:a,body:i,headers:l}){var m;const u=BE(e.baseUrl,o,a),d=yield NE(e.auth),f=yield t(u,{method:s,headers:Ne(Ne(Ne({},i?{"Content-Type":"application/json"}:{}),d),l),body:i?JSON.stringify(i):void 0}),g=yield f.text(),p=(f.headers.get("content-type")||"").includes("application/json"),_=p&&g?JSON.parse(g):g;if(!f.ok){const w=p?_:void 0,y=w==null?void 0:w.error;throw new Fo((m=y==null?void 0:y.message)!=null?m:`Request failed with status ${f.status}`,{status:f.status,icebergType:y==null?void 0:y.type,icebergCode:y==null?void 0:y.code,details:w})}return{status:f.status,headers:f.headers,data:_}})}}}function ha(e){return e.join("")}var ME=class{constructor(e,t=""){this.client=e,this.prefix=t}listNamespaces(e){return A(this,null,function*(){const t=e?{parent:ha(e.namespace)}:void 0;return(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))})}createNamespace(e,t){return A(this,null,function*(){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(yield this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data})}dropNamespace(e){return A(this,null,function*(){yield this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ha(e.namespace)}`})})}loadNamespaceMetadata(e){return A(this,null,function*(){return{properties:(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ha(e.namespace)}`})).data.properties}})}namespaceExists(e){return A(this,null,function*(){try{return yield this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ha(e.namespace)}`}),!0}catch(t){if(t instanceof Fo&&t.status===404)return!1;throw t}})}createNamespaceIfNotExists(e,t){return A(this,null,function*(){try{return yield this.createNamespace(e,t)}catch(n){if(n instanceof Fo&&n.status===409)return;throw n}})}};function as(e){return e.join("")}var jE=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}listTables(e){return A(this,null,function*(){return(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${as(e.namespace)}/tables`})).data.identifiers})}createTable(e,t){return A(this,null,function*(){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(yield this.client.request({method:"POST",path:`${this.prefix}/namespaces/${as(e.namespace)}/tables`,body:t,headers:n})).data.metadata})}updateTable(e,t){return A(this,null,function*(){const n=yield this.client.request({method:"POST",path:`${this.prefix}/namespaces/${as(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}})}dropTable(e,t){return A(this,null,function*(){var n;yield this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${as(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((n=t==null?void 0:t.purge)!=null?n:!1)}})})}loadTable(e){return A(this,null,function*(){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${as(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata})}tableExists(e){return A(this,null,function*(){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return yield this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${as(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Fo&&n.status===404)return!1;throw n}})}createTableIfNotExists(e,t){return A(this,null,function*(){try{return yield this.createTable(e,t)}catch(n){if(n instanceof Fo&&n.status===409)return yield this.loadTable({namespace:e.namespace,name:t.name});throw n}})}},UE=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=LE({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new ME(this.client,t),this.tableOps=new jE(this.client,t,this.accessDelegation)}listNamespaces(e){return A(this,null,function*(){return this.namespaceOps.listNamespaces(e)})}createNamespace(e,t){return A(this,null,function*(){return this.namespaceOps.createNamespace(e,t)})}dropNamespace(e){return A(this,null,function*(){yield this.namespaceOps.dropNamespace(e)})}loadNamespaceMetadata(e){return A(this,null,function*(){return this.namespaceOps.loadNamespaceMetadata(e)})}listTables(e){return A(this,null,function*(){return this.tableOps.listTables(e)})}createTable(e,t){return A(this,null,function*(){return this.tableOps.createTable(e,t)})}updateTable(e,t){return A(this,null,function*(){return this.tableOps.updateTable(e,t)})}dropTable(e,t){return A(this,null,function*(){yield this.tableOps.dropTable(e,t)})}loadTable(e){return A(this,null,function*(){return this.tableOps.loadTable(e)})}namespaceExists(e){return A(this,null,function*(){return this.namespaceOps.namespaceExists(e)})}tableExists(e){return A(this,null,function*(){return this.tableOps.tableExists(e)})}createNamespaceIfNotExists(e,t){return A(this,null,function*(){return this.namespaceOps.createNamespaceIfNotExists(e,t)})}createTableIfNotExists(e,t){return A(this,null,function*(){return this.tableOps.createTableIfNotExists(e,t)})}},Pi=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function et(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var VE=class extends Pi{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},vc=class extends Pi{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const cu=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),FE=()=>Response,yc=e=>{if(Array.isArray(e))return e.map(n=>yc(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=yc(r)}),t},HE=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},zE=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Ho(e){"@babel/helpers - typeof";return Ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ho(e)}function WE(e,t){if(Ho(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ho(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qE(e){var t=WE(e,"string");return Ho(t)=="symbol"?t:t+""}function KE(e,t,n){return(t=qE(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nf(Object(n),!0).forEach(function(r){KE(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nf(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const wl=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},GE=(e,t,n)=>A(void 0,null,function*(){e instanceof(yield FE())&&!(n!=null&&n.noResolveJson)?e.json().then(r=>{const s=e.status||500,o=(r==null?void 0:r.statusCode)||s+"";t(new VE(wl(r),s,o))}).catch(r=>{t(new vc(wl(r),r))}):t(new vc(wl(e),e))}),YE=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(HE(r)?(s.headers=_e({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),_e(_e({},s),n))};function ta(e,t,n,r,s,o){return A(this,null,function*(){return new Promise((a,i)=>{e(n,YE(t,r,s,o)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>GE(l,i,r))})})}function zo(e,t,n,r){return A(this,null,function*(){return ta(e,"GET",t,n,r)})}function hn(e,t,n,r,s){return A(this,null,function*(){return ta(e,"POST",t,r,s,n)})}function pc(e,t,n,r,s){return A(this,null,function*(){return ta(e,"PUT",t,r,s,n)})}function JE(e,t,n,r){return A(this,null,function*(){return ta(e,"HEAD",t,_e(_e({},n),{},{noResolveJson:!0}),r)})}function uu(e,t,n,r,s){return A(this,null,function*(){return ta(e,"DELETE",t,r,s,n)})}var XE=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return A(this,null,function*(){var e=this;try{return{data:(yield e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(et(t))return{data:null,error:t};throw t}})}};let vm;vm=Symbol.toStringTag;var ZE=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[vm]="BlobDownloadBuilder",this.promise=null}asStream(){return new XE(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return A(this,null,function*(){var e=this;try{return{data:yield(yield e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(et(t))return{data:null,error:t};throw t}})}};const QE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},rf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var eT=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=cu(r)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,n,r){return A(this,null,function*(){var s=this;try{let o;const a=_e(_e({},rf),r);let i=_e(_e({},s.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob!="undefined"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),l&&o.append("metadata",s.encodeMetadata(l)),o.append("",n)):typeof FormData!="undefined"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",a.cacheControl),l&&!o.has("metadata")&&o.append("metadata",s.encodeMetadata(l))):(o=n,i["cache-control"]=`max-age=${a.cacheControl}`,i["content-type"]=a.contentType,l&&(i["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream!="undefined"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!a.duplex&&(a.duplex="half")),r!=null&&r.headers&&(i=_e(_e({},i),r.headers));const c=s._removeEmptyFolders(t),u=s._getFinalPath(c),d=yield(e=="PUT"?pc:hn)(s.fetch,`${s.url}/object/${u}`,o,_e({headers:i},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(et(o))return{data:null,error:o};throw o}})}upload(e,t,n){return A(this,null,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,r){return A(this,null,function*(){var s=this;const o=s._removeEmptyFolders(e),a=s._getFinalPath(o),i=new URL(s.url+`/object/upload/sign/${a}`);i.searchParams.set("token",t);try{let l;const c=_e({upsert:rf.upsert},r),u=_e(_e({},s.headers),{"x-upsert":String(c.upsert)});return typeof Blob!="undefined"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData!="undefined"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType),{data:{path:o,fullPath:(yield pc(s.fetch,i.toString(),l,{headers:u})).Key},error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(et(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,t){return A(this,null,function*(){var n=this;try{let r=n._getFinalPath(e);const s=_e({},n.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const o=yield hn(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(n.url+o.url),i=a.searchParams.get("token");if(!i)throw new Pi("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:i},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}update(e,t,n){return A(this,null,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return A(this,null,function*(){var r=this;try{return{data:yield hn(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}})}copy(e,t,n){return A(this,null,function*(){var r=this;try{return{data:{path:(yield hn(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}})}createSignedUrl(e,t,n){return A(this,null,function*(){var r=this;try{let s=r._getFinalPath(e),o=yield hn(r.fetch,`${r.url}/object/sign/${s}`,_e({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${r.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}})}createSignedUrls(e,t,n){return A(this,null,function*(){var r=this;try{const s=yield hn(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>_e(_e({},a),{},{signedUrl:a.signedURL?encodeURI(`${r.url}${a.signedURL}${o}`):null})),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}})}download(e,t){const n=typeof(t==null?void 0:t.transform)!="undefined"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=r?`?${r}`:"",o=this._getFinalPath(e),a=()=>zo(this.fetch,`${this.url}/${n}/${o}${s}`,{headers:this.headers,noResolveJson:!0});return new ZE(a,this.shouldThrowOnError)}info(e){return A(this,null,function*(){var t=this;const n=t._getFinalPath(e);try{return{data:yc(yield zo(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}exists(e){return A(this,null,function*(){var t=this;const n=t._getFinalPath(e);try{return yield JE(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(et(r)&&r instanceof vc){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&r.push(s);const o=typeof(t==null?void 0:t.transform)!="undefined"?"render/image":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});a!==""&&r.push(a);let i=r.join("&");return i!==""&&(i=`?${i}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${i}`)}}}remove(e){return A(this,null,function*(){var t=this;try{return{data:yield uu(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}list(e,t,n){return A(this,null,function*(){var r=this;try{const s=_e(_e(_e({},QE),t),{},{prefix:e||""});return{data:yield hn(r.fetch,`${r.url}/object/list/${r.bucketId}`,s,{headers:r.headers},n),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}})}listV2(e,t){return A(this,null,function*(){var n=this;try{const r=_e({},e);return{data:yield hn(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer!="undefined"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const ym="2.89.0",pm={"X-Client-Info":`storage-js/${ym}`};var tT=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1;const s=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=_e(_e({},pm),t),this.fetch=cu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return A(this,null,function*(){var t=this;try{const n=t.listBucketOptionsToQueryString(e);return{data:yield zo(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}getBucket(e){return A(this,null,function*(){var t=this;try{return{data:yield zo(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}createBucket(n){return A(this,arguments,function*(e,t={public:!1}){var r=this;try{return{data:yield hn(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}})}updateBucket(e,t){return A(this,null,function*(){var n=this;try{return{data:yield pc(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}emptyBucket(e){return A(this,null,function*(){var t=this;try{return{data:yield hn(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}deleteBucket(e){return A(this,null,function*(){var t=this;try{return{data:yield uu(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},nT=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=_e(_e({},pm),t),this.fetch=cu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return A(this,null,function*(){var t=this;try{return{data:yield hn(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}listBuckets(e){return A(this,null,function*(){var t=this;try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return{data:yield zo(t.fetch,s,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}deleteBucket(e){return A(this,null,function*(){var t=this;try{return{data:yield uu(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}from(e){var t=this;if(!zE(e))throw new Pi("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new UE({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>A(this,null,function*(){return t.headers})},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,o){const a=s[o];return typeof a!="function"?a:(...i)=>A(this,null,function*(){try{return{data:yield a.apply(s,i),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}})}})}};const du={"X-Client-Info":`storage-js/${ym}`,"Content-Type":"application/json"};var bm=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function zt(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var _l=class extends bm{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},rT=class extends bm{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const fu=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),sT=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},sf=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),oT=(e,t,n)=>A(void 0,null,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const r=e.status||500,s=e;if(typeof s.json=="function")s.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||r+"";t(new _l(sf(o),r,a))}).catch(()=>{const o=r+"";t(new _l(s.statusText||`HTTP ${r} error`,r,o))});else{const o=r+"";t(new _l(s.statusText||`HTTP ${r} error`,r,o))}}else t(new rT(sf(e),e))}),aT=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return r?(sT(r)?(s.headers=_e({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,_e(_e({},s),n)):s};function iT(e,t,n,r,s,o){return A(this,null,function*(){return new Promise((a,i)=>{e(n,aT(t,r,s,o)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>a(l)).catch(l=>oT(l,i,r))})})}function Wt(e,t,n,r,s){return A(this,null,function*(){return iT(e,"POST",t,r,s,n)})}var lT=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=_e(_e({},du),t),this.fetch=fu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return A(this,null,function*(){var t=this;try{return{data:(yield Wt(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers}))||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(zt(n))return{data:null,error:n};throw n}})}getIndex(e,t){return A(this,null,function*(){var n=this;try{return{data:yield Wt(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}})}listIndexes(e){return A(this,null,function*(){var t=this;try{return{data:yield Wt(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(zt(n))return{data:null,error:n};throw n}})}deleteIndex(e,t){return A(this,null,function*(){var n=this;try{return{data:(yield Wt(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}})}},cT=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=_e(_e({},du),t),this.fetch=fu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return A(this,null,function*(){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Wt(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers}))||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(zt(n))return{data:null,error:n};throw n}})}getVectors(e){return A(this,null,function*(){var t=this;try{return{data:yield Wt(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(zt(n))return{data:null,error:n};throw n}})}listVectors(e){return A(this,null,function*(){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Wt(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(zt(n))return{data:null,error:n};throw n}})}queryVectors(e){return A(this,null,function*(){var t=this;try{return{data:yield Wt(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(zt(n))return{data:null,error:n};throw n}})}deleteVectors(e){return A(this,null,function*(){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Wt(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers}))||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(zt(n))return{data:null,error:n};throw n}})}},uT=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=_e(_e({},du),t),this.fetch=fu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return A(this,null,function*(){var t=this;try{return{data:(yield Wt(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers}))||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(zt(n))return{data:null,error:n};throw n}})}getBucket(e){return A(this,null,function*(){var t=this;try{return{data:yield Wt(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(zt(n))return{data:null,error:n};throw n}})}listBuckets(){return A(this,arguments,function*(e={}){var t=this;try{return{data:yield Wt(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(zt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return A(this,null,function*(){var t=this;try{return{data:(yield Wt(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers}))||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(zt(n))return{data:null,error:n};throw n}})}},dT=class e extends uT{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new fT(this.url,this.headers,t,this.fetch)}createBucket(t){return A(this,null,function*(){var n=()=>jt(e.prototype,this,"createBucket"),r=this;return n().call(r,t)})}getBucket(t){return A(this,null,function*(){var n=()=>jt(e.prototype,this,"getBucket"),r=this;return n().call(r,t)})}listBuckets(){return A(this,arguments,function*(t={}){var n=()=>jt(e.prototype,this,"listBuckets"),r=this;return n().call(r,t)})}deleteBucket(t){return A(this,null,function*(){var n=()=>jt(e.prototype,this,"deleteBucket"),r=this;return n().call(r,t)})}},fT=class e extends lT{constructor(t,n,r,s){super(t,n,s),this.vectorBucketName=r}createIndex(t){return A(this,null,function*(){var n=()=>jt(e.prototype,this,"createIndex"),r=this;return n().call(r,_e(_e({},t),{},{vectorBucketName:r.vectorBucketName}))})}listIndexes(){return A(this,arguments,function*(t={}){var n=()=>jt(e.prototype,this,"listIndexes"),r=this;return n().call(r,_e(_e({},t),{},{vectorBucketName:r.vectorBucketName}))})}getIndex(t){return A(this,null,function*(){var n=()=>jt(e.prototype,this,"getIndex"),r=this;return n().call(r,r.vectorBucketName,t)})}deleteIndex(t){return A(this,null,function*(){var n=()=>jt(e.prototype,this,"deleteIndex"),r=this;return n().call(r,r.vectorBucketName,t)})}index(t){return new hT(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},hT=class e extends cT{constructor(t,n,r,s,o){super(t,n,o),this.vectorBucketName=r,this.indexName=s}putVectors(t){return A(this,null,function*(){var n=()=>jt(e.prototype,this,"putVectors"),r=this;return n().call(r,_e(_e({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))})}getVectors(t){return A(this,null,function*(){var n=()=>jt(e.prototype,this,"getVectors"),r=this;return n().call(r,_e(_e({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))})}listVectors(){return A(this,arguments,function*(t={}){var n=()=>jt(e.prototype,this,"listVectors"),r=this;return n().call(r,_e(_e({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))})}queryVectors(t){return A(this,null,function*(){var n=()=>jt(e.prototype,this,"queryVectors"),r=this;return n().call(r,_e(_e({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))})}deleteVectors(t){return A(this,null,function*(){var n=()=>jt(e.prototype,this,"deleteVectors"),r=this;return n().call(r,_e(_e({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))})}},gT=class extends tT{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new eT(this.url,this.headers,e,this.fetch)}get vectors(){return new dT(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new nT(this.url+"/iceberg",this.headers,this.fetch)}};const wm="2.89.0",As=30*1e3,bc=3,Sl=bc*As,mT="http://localhost:9999",vT="supabase.auth.token",yT={"X-Client-Info":`gotrue-js/${wm}`},wc="X-Supabase-Api-Version",_m={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},pT=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,bT=10*60*1e3;class Wo extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ye(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class wT extends Wo{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function _T(e){return ye(e)&&e.name==="AuthApiError"}class qr extends Wo{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ir extends Wo{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Ht extends ir{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ST(e){return ye(e)&&e.name==="AuthSessionMissingError"}class is extends ir{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ga extends ir{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ma extends ir{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ET(e){return ye(e)&&e.name==="AuthImplicitGrantRedirectError"}class of extends ir{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class TT extends ir{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class _c extends ir{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function El(e){return ye(e)&&e.name==="AuthRetryableFetchError"}class af extends ir{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Sc extends ir{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Qa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),lf=` 	
\r=`.split(""),CT=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<lf.length;t+=1)e[lf[t].charCodeAt(0)]=-2;for(let t=0;t<Qa.length;t+=1)e[Qa[t].charCodeAt(0)]=t;return e})();function cf(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Qa[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Qa[r]),t.queuedBits-=6}}function Sm(e,t,n){const r=CT[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function uf(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=a=>{AT(a,r,n)};for(let a=0;a<e.length;a+=1)Sm(e.charCodeAt(a),s,o);return t.join("")}function xT(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function kT(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}xT(r,t)}}function AT(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Bs(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Sm(e.charCodeAt(s),n,r);return new Uint8Array(t)}function OT(e){const t=[];return kT(e,n=>t.push(n)),new Uint8Array(t)}function Gr(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>cf(s,n,r)),cf(null,n,r),t.join("")}function RT(e){return Math.round(Date.now()/1e3)+e}function PT(){return Symbol("auth-callback")}const pt=()=>typeof window!="undefined"&&typeof document!="undefined",Mr={tested:!1,writable:!1},Em=()=>{if(!pt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch(t){return!1}if(Mr.tested)return Mr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Mr.tested=!0,Mr.writable=!0}catch(t){Mr.tested=!0,Mr.writable=!1}return Mr.writable};function IT(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch(r){}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const Tm=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),$T=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Os=(e,t,n)=>A(void 0,null,function*(){yield e.setItem(t,JSON.stringify(n))}),jr=(e,t)=>A(void 0,null,function*(){const n=yield e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(r){return n}}),yt=(e,t)=>A(void 0,null,function*(){yield e.removeItem(t)});class Ii{constructor(){this.promise=new Ii.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Ii.promiseConstructor=Promise;function Tl(e){const t=e.split(".");if(t.length!==3)throw new Sc("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!pT.test(t[r]))throw new Sc("JWT not in base64url format");return{header:JSON.parse(uf(t[0])),payload:JSON.parse(uf(t[1])),signature:Bs(t[2]),raw:{header:t[0],payload:t[1]}}}function DT(e){return A(this,null,function*(){return yield new Promise(t=>{setTimeout(()=>t(null),e)})})}function BT(e,t){return new Promise((r,s)=>{A(this,null,function*(){for(let o=0;o<1/0;o++)try{const a=yield e(o);if(!t(o,null,a)){r(a);return}}catch(a){if(!t(o,a)){s(a);return}}})})}function NT(e){return("0"+e.toString(16)).substr(-2)}function LT(){const t=new Uint32Array(56);if(typeof crypto=="undefined"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,NT).join("")}function MT(e){return A(this,null,function*(){const n=new TextEncoder().encode(e),r=yield crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")})}function jT(e){return A(this,null,function*(){if(!(typeof crypto!="undefined"&&typeof crypto.subtle!="undefined"&&typeof TextEncoder!="undefined"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=yield MT(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function ls(e,t,n=!1){return A(this,null,function*(){const r=LT();let s=r;n&&(s+="/PASSWORD_RECOVERY"),yield Os(e,`${t}-code-verifier`,s);const o=yield jT(r);return[o,r===o?"plain":"s256"]})}const UT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function VT(e){const t=e.headers.get(wc);if(!t||!t.match(UT))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(n){return null}}function FT(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function HT(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const zT=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function cs(e){if(!zT.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Cl(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function WT(e,t){return new Proxy(e,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,s)}})}function df(e){return JSON.parse(JSON.stringify(e))}const Hr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),qT=[502,503,504];function ff(e){return A(this,null,function*(){var t;if(!$T(e))throw new _c(Hr(e),0);if(qT.includes(e.status))throw new _c(Hr(e),e.status);let n;try{n=yield e.json()}catch(o){throw new qr(Hr(o),o)}let r;const s=VT(e);if(s&&s.getTime()>=_m["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new af(Hr(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Ht}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new af(Hr(n),e.status,n.weak_password.reasons);throw new wT(Hr(n),e.status||500,r)})}const KT=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};function we(e,t,n,r){return A(this,null,function*(){var s;const o=Object.assign({},r==null?void 0:r.headers);o[wc]||(o[wc]=_m["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const a=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const i=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=yield GT(e,t,n+i,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}})}function GT(e,t,n,r,s,o){return A(this,null,function*(){const a=KT(t,r,s,o);let i;try{i=yield e(n,Object.assign({},a))}catch(l){throw console.error(l),new _c(Hr(l),0)}if(i.ok||(yield ff(i)),r!=null&&r.noResolveJson)return i;try{return yield i.json()}catch(l){yield ff(l)}})}function fn(e){var t;let n=null;XT(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=RT(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function hf(e){const t=fn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Tr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function YT(e){return{data:e,error:null}}function JT(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=e,a=Ri(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),i={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},l=Object.assign({},a);return{data:{properties:i,user:l},error:null}}function gf(e){return e}function XT(e){return e.access_token&&e.refresh_token&&e.expires_in}const xl=["global","local","others"];class ZT{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Tm(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}signOut(r){return A(this,arguments,function*(t,n=xl[0]){if(xl.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${xl.join(", ")}`);try{return yield we(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ye(s))return{data:null,error:s};throw s}})}inviteUserByEmail(r){return A(this,arguments,function*(t,n={}){try{return yield we(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Tr})}catch(s){if(ye(s))return{data:{user:null},error:s};throw s}})}generateLink(t){return A(this,null,function*(){try{const{options:n}=t,r=Ri(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),yield we(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:JT,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ye(n))return{data:{properties:null,user:null},error:n};throw n}})}createUser(t){return A(this,null,function*(){try{return yield we(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Tr})}catch(n){if(ye(n))return{data:{user:null},error:n};throw n}})}listUsers(t){return A(this,null,function*(){var n,r,s,o,a,i,l;try{const c={nextPage:null,lastPage:0,total:0},u=yield we(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:gf});if(u.error)throw u.error;const d=yield u.json(),f=(a=u.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(l=(i=u.headers.get("link"))===null||i===void 0?void 0:i.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(p=>{const _=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(p.split(";")[1].split("=")[1]);c[`${m}Page`]=_}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(ye(c))return{data:{users:[]},error:c};throw c}})}getUserById(t){return A(this,null,function*(){cs(t);try{return yield we(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Tr})}catch(n){if(ye(n))return{data:{user:null},error:n};throw n}})}updateUserById(t,n){return A(this,null,function*(){cs(t);try{return yield we(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Tr})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}})}deleteUser(t,n=!1){return A(this,null,function*(){cs(t);try{return yield we(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Tr})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}})}_listFactors(t){return A(this,null,function*(){cs(t.userId);try{const{data:n,error:r}=yield we(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(ye(n))return{data:null,error:n};throw n}})}_deleteFactor(t){return A(this,null,function*(){cs(t.userId),cs(t.id);try{return{data:yield we(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}})}_listOAuthClients(t){return A(this,null,function*(){var n,r,s,o,a,i,l;try{const c={nextPage:null,lastPage:0,total:0},u=yield we(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:gf});if(u.error)throw u.error;const d=yield u.json(),f=(a=u.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(l=(i=u.headers.get("link"))===null||i===void 0?void 0:i.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(p=>{const _=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(p.split(";")[1].split("=")[1]);c[`${m}Page`]=_}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(ye(c))return{data:{clients:[]},error:c};throw c}})}_createOAuthClient(t){return A(this,null,function*(){try{return yield we(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ye(n))return{data:null,error:n};throw n}})}_getOAuthClient(t){return A(this,null,function*(){try{return yield we(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ye(n))return{data:null,error:n};throw n}})}_updateOAuthClient(t,n){return A(this,null,function*(){try{return yield we(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ye(r))return{data:null,error:r};throw r}})}_deleteOAuthClient(t){return A(this,null,function*(){try{return yield we(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}})}_regenerateOAuthClientSecret(t){return A(this,null,function*(){try{return yield we(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ye(n))return{data:null,error:n};throw n}})}}function mf(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const us={debug:!!(globalThis&&Em()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Cm extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class QT extends Cm{}function eC(e,t,n){return A(this,null,function*(){us.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),us.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},s=>A(this,null,function*(){if(s){us.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return yield n()}finally{us.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw us.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new QT(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(us.debug)try{const o=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield n()}})))})}function tC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){typeof self!="undefined"&&(self.globalThis=self)}}function xm(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function nC(e){return parseInt(e,16)}function rC(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function sC(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:o=new Date,nonce:a,notBefore:i,requestId:l,resources:c,scheme:u,uri:d,version:f}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const g=xm(e.address),p=u?`${u}://${r}`:r,_=e.statement?`${e.statement}
`:"",m=`${p} wants you to sign in with your Ethereum account:
${g}

${_}`;let w=`URI: ${d}
Version: ${f}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${o.toISOString()}`;if(s&&(w+=`
Expiration Time: ${s.toISOString()}`),i&&(w+=`
Not Before: ${i.toISOString()}`),l&&(w+=`
Request ID: ${l}`),c){let y=`
Resources:`;for(const v of c){if(!v||typeof v!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${v}`);y+=`
- ${v}`}w+=y}return`${m}
${w}`}class it extends Error{constructor({message:t,code:n,cause:r,name:s}){var o;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=s!=null?s:r instanceof Error?r.name:void 0)!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class ei extends it{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function oC({error:e,options:t}){var n,r,s;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new it({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new it({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new it({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new it({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new it({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new it({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(i=>i.type==="public-key").length===0?new it({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new it({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(km(a)){if(o.rp.id!==a)return new it({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new it({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new it({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new it({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new it({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function aC({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new it({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new it({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(km(r)){if(n.rpId!==r)return new it({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new it({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new it({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new it({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class iC{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const lC=new iC;function cC(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential!="undefined"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=Ri(e,["challenge","user","excludeCredentials"]),o=Bs(t).buffer,a=Object.assign(Object.assign({},n),{id:Bs(n.id).buffer}),i=Object.assign(Object.assign({},s),{challenge:o,user:a});if(r&&r.length>0){i.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const c=r[l];i.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Bs(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return i}function uC(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential!="undefined"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Ri(e,["challenge","allowCredentials"]),s=Bs(t).buffer,o=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const i=n[a];o.allowCredentials[a]=Object.assign(Object.assign({},i),{id:Bs(i.id).buffer,type:i.type||"public-key",transports:i.transports})}}return o}function dC(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Gr(new Uint8Array(e.response.attestationObject)),clientDataJSON:Gr(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function fC(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Gr(new Uint8Array(s.authenticatorData)),clientDataJSON:Gr(new Uint8Array(s.clientDataJSON)),signature:Gr(new Uint8Array(s.signature)),userHandle:s.userHandle?Gr(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function km(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function vf(){var e,t;return!!(pt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}function hC(e){return A(this,null,function*(){try{const t=yield navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ei("Browser returned unexpected credential type",t)}:{data:null,error:new ei("Empty credential response",t)}}catch(t){return{data:null,error:oC({error:t,options:e})}}})}function gC(e){return A(this,null,function*(){try{const t=yield navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ei("Browser returned unexpected credential type",t)}:{data:null,error:new ei("Empty credential response",t)}}catch(t){return{data:null,error:aC({error:t,options:e})}}})}const mC={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},vC={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ti(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const o in s){const a=s[o];if(a!==void 0)if(Array.isArray(a))r[o]=a;else if(n(a))r[o]=a;else if(t(a)){const i=r[o];t(i)?r[o]=ti(i,a):r[o]=ti(a)}else r[o]=a}return r}function yC(e,t){return ti(mC,e,t||{})}function pC(e,t){return ti(vC,e,t||{})}class bC{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}_enroll(t){return A(this,null,function*(){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))})}_challenge(a,i){return A(this,arguments,function*({factorId:t,webauthn:n,friendlyName:r,signal:s},o){try{const{data:l,error:c}=yield this.client.mfa.challenge({factorId:t,webauthn:n});if(!l)return{data:null,error:c};const u=s!=null?s:lC.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:d}=l.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${r}`),d.displayName||(d.displayName=d.name)}switch(l.webauthn.type){case"create":{const d=yC(l.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:f,error:g}=yield hC({publicKey:d,signal:u});return f?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:g}}case"request":{const d=pC(l.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:f,error:g}=yield gC(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d,signal:u}));return f?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:g}}}}catch(l){return ye(l)?{data:null,error:l}:{data:null,error:new qr("Unexpected error in challenge",l)}}})}_verify(s){return A(this,arguments,function*({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})})}_authenticate(a,i){return A(this,arguments,function*({factorId:t,webauthn:{rpId:n=typeof window!="undefined"?window.location.hostname:void 0,rpOrigins:r=typeof window!="undefined"?[window.location.origin]:void 0,signal:s}={}},o){if(!n)return{data:null,error:new Wo("rpId is required for WebAuthn authentication")};try{if(!vf())return{data:null,error:new qr("Browser does not support WebAuthn",null)};const{data:l,error:c}=yield this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:o});if(!l)return{data:null,error:c};const{webauthn:u}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:r,credential_response:u.credential_response}})}catch(l){return ye(l)?{data:null,error:l}:{data:null,error:new qr("Unexpected error in authenticate",l)}}})}_register(a,i){return A(this,arguments,function*({friendlyName:t,webauthn:{rpId:n=typeof window!="undefined"?window.location.hostname:void 0,rpOrigins:r=typeof window!="undefined"?[window.location.origin]:void 0,signal:s}={}},o){if(!n)return{data:null,error:new Wo("rpId is required for WebAuthn registration")};try{if(!vf())return{data:null,error:new qr("Browser does not support WebAuthn",null)};const{data:l,error:c}=yield this._enroll({friendlyName:t});if(!l)return yield this.client.mfa.listFactors().then(f=>{var g;return(g=f.data)===null||g===void 0?void 0:g.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===t&&p.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f==null?void 0:f.id}):void 0),{data:null,error:c};const{data:u,error:d}=yield this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:o});return u?this._verify({factorId:l.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:d}}catch(l){return ye(l)?{data:null,error:l}:{data:null,error:new qr("Unexpected error in register",l)}}})}}tC();const wC={url:mT,storageKey:vT,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:yT,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};function yf(e,t,n){return A(this,null,function*(){return yield n()})}const ds={};class qo{get jwks(){var t,n;return(n=(t=ds[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){ds[this.storageKey]=Object.assign(Object.assign({},ds[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=ds[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ds[this.storageKey]=Object.assign(Object.assign({},ds[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},wC),t);if(this.storageKey=o.storageKey,this.instanceID=(n=qo.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,qo.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&pt()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new ZT({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Tm(o.fetch),this.lock=o.lock||yf,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:this.persistSession&&pt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=eC:this.lock=yf,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new bC(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Em()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=mf(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=mf(this.memoryStorage)),pt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",a=>A(this,null,function*(){this._debug("received broadcast notification from other tab or client",a),yield this._notifyAllSubscribers(a.data.event,a.data.session,!1)}))}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${wm}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}initialize(){return A(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=A(this,null,function*(){return yield this._acquireLock(-1,()=>A(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return A(this,null,function*(){var t;try{let n={},r="none";if(pt()&&(n=IT(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":(yield this._isPKCECallback(n))&&(r="pkce")),pt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=yield this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),ET(o)){const l=(t=o.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return yield this._removeSession(),{error:o}}const{session:a,redirectType:i}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",i),yield this._saveSession(a),setTimeout(()=>A(this,null,function*(){i==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(n){return ye(n)?this._returnResult({error:n}):this._returnResult({error:new qr("Unexpected error during initialization",n)})}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(t){return A(this,null,function*(){var n,r,s;try{const o=yield we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:fn}),{data:a,error:i}=o;if(i||!a)return this._returnResult({data:{user:null,session:null},error:i});const l=a.session,c=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(o){if(ye(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}signUp(t){return A(this,null,function*(){var n,r,s;try{let o;if("email"in t){const{email:u,password:d,options:f}=t;let g=null,p=null;this.flowType==="pkce"&&([g,p]=yield ls(this.storage,this.storageKey)),o=yield we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:g,code_challenge_method:p},xform:fn})}else if("phone"in t){const{phone:u,password:d,options:f}=t;o=yield we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:fn})}else throw new ga("You must provide either an email or phone number and a password");const{data:a,error:i}=o;if(i||!a)return yield yt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:i});const l=a.session,c=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(o){if(yield yt(this.storage,`${this.storageKey}-code-verifier`),ye(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}signInWithPassword(t){return A(this,null,function*(){try{let n;if("email"in t){const{email:o,password:a,options:i}=t;n=yield we(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:hf})}else if("phone"in t){const{phone:o,password:a,options:i}=t;n=yield we(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:hf})}else throw new ga("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const o=new is;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(yield this._saveSession(r.session),yield this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(ye(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}})}signInWithOAuth(t){return A(this,null,function*(){var n,r,s,o;return yield this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})})}exchangeCodeForSession(t){return A(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>A(this,null,function*(){return this._exchangeCodeForSession(t)}))})}signInWithWeb3(t){return A(this,null,function*(){const{chain:n}=t;switch(n){case"ethereum":return yield this.signInWithEthereum(t);case"solana":return yield this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}})}signInWithEthereum(t){return A(this,null,function*(){var n,r,s,o,a,i,l,c,u,d,f;let g,p;if("message"in t)g=t.message,p=t.signature;else{const{chain:_,wallet:m,statement:w,options:y}=t;let v;if(pt())if(typeof m=="object")v=m;else{const R=window;if("ethereum"in R&&typeof R.ethereum=="object"&&"request"in R.ethereum&&typeof R.ethereum.request=="function")v=R.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=m}const S=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href),b=yield v.request({method:"eth_requestAccounts"}).then(R=>R).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!b||b.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const x=xm(b[0]);let O=(r=y==null?void 0:y.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!O){const R=yield v.request({method:"eth_chainId"});O=nC(R)}const C={domain:S.host,address:x,statement:w,uri:S.href,version:"1",chainId:O,nonce:(s=y==null?void 0:y.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(o=y==null?void 0:y.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(i=y==null?void 0:y.signInWithEthereum)===null||i===void 0?void 0:i.expirationTime,notBefore:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.resources};g=sC(C),p=yield v.request({method:"personal_sign",params:[rC(g),x]})}try{const{data:_,error:m}=yield we(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:p},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:fn});if(m)throw m;if(!_||!_.session||!_.user){const w=new is;return this._returnResult({data:{user:null,session:null},error:w})}return _.session&&(yield this._saveSession(_.session),yield this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:m})}catch(_){if(ye(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}})}signInWithSolana(t){return A(this,null,function*(){var n,r,s,o,a,i,l,c,u,d,f,g;let p,_;if("message"in t)p=t.message,_=t.signature;else{const{chain:m,wallet:w,statement:y,options:v}=t;let S;if(pt())if(typeof w=="object")S=w;else{const x=window;if("solana"in x&&typeof x.solana=="object"&&("signIn"in x.solana&&typeof x.solana.signIn=="function"||"signMessage"in x.solana&&typeof x.solana.signMessage=="function"))S=x.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=w}const b=new URL((n=v==null?void 0:v.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const x=yield S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:b.host,uri:b.href}),y?{statement:y}:null));let O;if(Array.isArray(x)&&x[0]&&typeof x[0]=="object")O=x[0];else if(x&&typeof x=="object"&&"signedMessage"in x&&"signature"in x)O=x;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in O&&"signature"in O&&(typeof O.signedMessage=="string"||O.signedMessage instanceof Uint8Array)&&O.signature instanceof Uint8Array)p=typeof O.signedMessage=="string"?O.signedMessage:new TextDecoder().decode(O.signedMessage),_=O.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${b.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${b.href}`,`Issued At: ${(s=(r=v==null?void 0:v.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((a=v==null?void 0:v.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((d=(u=v==null?void 0:v.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...v.signInWithSolana.resources.map(O=>`- ${O}`)]:[]].join(`
`);const x=yield S.signMessage(new TextEncoder().encode(p),"utf8");if(!x||!(x instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=x}}try{const{data:m,error:w}=yield we(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:Gr(_)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:fn});if(w)throw w;if(!m||!m.session||!m.user){const y=new is;return this._returnResult({data:{user:null,session:null},error:y})}return m.session&&(yield this._saveSession(m.session),yield this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:w})}catch(m){if(ye(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}})}_exchangeCodeForSession(t){return A(this,null,function*(){const n=yield jr(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n!=null?n:"").split("/");try{if(!r&&this.flowType==="pkce")throw new TT;const{data:o,error:a}=yield we(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:fn});if(yield yt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!o||!o.session||!o.user){const i=new is;return this._returnResult({data:{user:null,session:null,redirectType:null},error:i})}return o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:s!=null?s:null}),error:a})}catch(o){if(yield yt(this.storage,`${this.storageKey}-code-verifier`),ye(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}})}signInWithIdToken(t){return A(this,null,function*(){try{const{options:n,provider:r,token:s,access_token:o,nonce:a}=t,i=yield we(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:fn}),{data:l,error:c}=i;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new is;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(yield this._saveSession(l.session),yield this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(n){if(ye(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}})}signInWithOtp(t){return A(this,null,function*(){var n,r,s,o,a;try{if("email"in t){const{email:i,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=yield ls(this.storage,this.storageKey));const{error:d}=yield we(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:i,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in t){const{phone:i,options:l}=t,{data:c,error:u}=yield we(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:i,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u})}throw new ga("You must provide either an email or phone number.")}catch(i){if(yield yt(this.storage,`${this.storageKey}-code-verifier`),ye(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}verifyOtp(t){return A(this,null,function*(){var n,r;try{let s,o;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:i}=yield we(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:fn});if(i)throw i;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l!=null&&l.access_token&&(yield this._saveSession(l),yield this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(ye(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}signInWithSSO(t){return A(this,null,function*(){var n,r,s,o,a;try{let i=null,l=null;this.flowType==="pkce"&&([i,l]=yield ls(this.storage,this.storageKey));const c=yield we(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:l}),headers:this.headers,xform:YT});return!((o=c.data)===null||o===void 0)&&o.url&&pt()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(i){if(yield yt(this.storage,`${this.storageKey}-code-verifier`),ye(i))return this._returnResult({data:null,error:i});throw i}})}reauthenticate(){return A(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>A(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return A(this,null,function*(){try{return yield this._useSession(t=>A(this,null,function*(){const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Ht;const{error:s}=yield we(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})}))}catch(t){if(ye(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}})}resend(t){return A(this,null,function*(){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:o}=t,{error:a}=yield we(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:r,type:s,options:o}=t,{data:a,error:i}=yield we(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:i})}throw new ga("You must provide either an email or phone number and a type")}catch(n){if(ye(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}})}getSession(){return A(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>A(this,null,function*(){return this._useSession(n=>A(this,null,function*(){return n}))}))})}_acquireLock(t,n){return A(this,null,function*(){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=A(this,null,function*(){return yield r,yield n()});return this.pendingInLock.push(A(this,null,function*(){try{yield s}catch(o){}})),s}return yield this.lock(`lock:${this.storageKey}`,t,()=>A(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push(A(this,null,function*(){try{yield r}catch(s){}})),yield r;this.pendingInLock.length;){const s=[...this.pendingInLock];yield Promise.all(s),this.pendingInLock.splice(0,s.length)}return yield r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(t){return A(this,null,function*(){this._debug("#_useSession","begin");try{const n=yield this.__loadSession();return yield t(n)}finally{this._debug("#_useSession","end")}})}__loadSession(){return A(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=yield jr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Sl:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const a=yield jr(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=Cl()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=WT(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:o}=yield this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}})}getUser(t){return A(this,null,function*(){if(t)return yield this._getUser(t);yield this.initializePromise;const n=yield this._acquireLock(-1,()=>A(this,null,function*(){return yield this._getUser()}));return n.data.user&&(this.suppressGetSessionWarning=!0),n})}_getUser(t){return A(this,null,function*(){try{return t?yield we(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Tr}):yield this._useSession(n=>A(this,null,function*(){var r,s,o;const{data:a,error:i}=n;if(i)throw i;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ht}:yield we(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Tr})}))}catch(n){if(ye(n))return ST(n)&&(yield this._removeSession(),yield yt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}})}updateUser(r){return A(this,arguments,function*(t,n={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>A(this,null,function*(){return yield this._updateUser(t,n)}))})}_updateUser(r){return A(this,arguments,function*(t,n={}){try{return yield this._useSession(s=>A(this,null,function*(){const{data:o,error:a}=s;if(a)throw a;if(!o.session)throw new Ht;const i=o.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=yield ls(this.storage,this.storageKey));const{data:u,error:d}=yield we(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:Tr});if(d)throw d;return i.user=u.user,yield this._saveSession(i),yield this._notifyAllSubscribers("USER_UPDATED",i),this._returnResult({data:{user:i.user},error:null})}))}catch(s){if(yield yt(this.storage,`${this.storageKey}-code-verifier`),ye(s))return this._returnResult({data:{user:null},error:s});throw s}})}setSession(t){return A(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>A(this,null,function*(){return yield this._setSession(t)}))})}_setSession(t){return A(this,null,function*(){try{if(!t.access_token||!t.refresh_token)throw new Ht;const n=Date.now()/1e3;let r=n,s=!0,o=null;const{payload:a}=Tl(t.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{data:i,error:l}=yield this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!i)return{data:{user:null,session:null},error:null};o=i}else{const{data:i,error:l}=yield this._getUser(t.access_token);if(l)throw l;o={access_token:t.access_token,refresh_token:t.refresh_token,user:i.user,token_type:"bearer",expires_in:r-n,expires_at:r},yield this._saveSession(o),yield this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(ye(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}})}refreshSession(t){return A(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>A(this,null,function*(){return yield this._refreshSession(t)}))})}_refreshSession(t){return A(this,null,function*(){try{return yield this._useSession(n=>A(this,null,function*(){var r;if(!t){const{data:a,error:i}=n;if(i)throw i;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Ht;const{data:s,error:o}=yield this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})}))}catch(n){if(ye(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}})}_getSessionFromURL(t,n){return A(this,null,function*(){try{if(!pt())throw new ma("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ma(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new of("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ma("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new of("No code detected.");const{data:y,error:v}=yield this._exchangeCodeForSession(t.code);if(v)throw v;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:a,expires_in:i,expires_at:l,token_type:c}=t;if(!o||!i||!a||!c)throw new ma("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(i);let f=u+d;l&&(f=parseInt(l));const g=f-u;g*1e3<=As&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${d}s`);const p=f-d;u-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,f,u):u-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,f,u);const{data:_,error:m}=yield this._getUser(o);if(m)throw m;const w={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:d,expires_at:f,refresh_token:a,token_type:c,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:w,redirectType:t.type},error:null})}catch(r){if(ye(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}})}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}_isPKCECallback(t){return A(this,null,function*(){const n=yield jr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)})}signOut(){return A(this,arguments,function*(t={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>A(this,null,function*(){return yield this._signOut(t)}))})}_signOut(){return A(this,arguments,function*({scope:t}={scope:"global"}){return yield this._useSession(n=>A(this,null,function*(){var r;const{data:s,error:o}=n;if(o)return this._returnResult({error:o});const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:i}=yield this.admin.signOut(a,t);if(i&&!(_T(i)&&(i.status===404||i.status===401||i.status===403)))return this._returnResult({error:i})}return t!=="others"&&(yield this._removeSession(),yield yt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})}))})}onAuthStateChange(t){const n=PT(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),A(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>A(this,null,function*(){this._emitInitialSession(n)}))}),{data:{subscription:r}}}_emitInitialSession(t){return A(this,null,function*(){return yield this._useSession(n=>A(this,null,function*(){var r,s;try{const{data:{session:o},error:a}=n;if(a)throw a;yield(r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){yield(s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}}))})}resetPasswordForEmail(r){return A(this,arguments,function*(t,n={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=yield ls(this.storage,this.storageKey,!0));try{return yield we(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(yield yt(this.storage,`${this.storageKey}-code-verifier`),ye(a))return this._returnResult({data:null,error:a});throw a}})}getUserIdentities(){return A(this,null,function*(){var t;try{const{data:n,error:r}=yield this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(ye(n))return this._returnResult({data:null,error:n});throw n}})}linkIdentity(t){return A(this,null,function*(){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)})}linkIdentityOAuth(t){return A(this,null,function*(){var n;try{const{data:r,error:s}=yield this._useSession(o=>A(this,null,function*(){var a,i,l,c,u;const{data:d,error:f}=o;if(f)throw f;const g=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return yield we(this.fetch,"GET",g,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})}));if(s)throw s;return pt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(ye(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}})}linkIdentityIdToken(t){return A(this,null,function*(){return yield this._useSession(n=>A(this,null,function*(){var r;try{const{error:s,data:{session:o}}=n;if(s)throw s;const{options:a,provider:i,token:l,access_token:c,nonce:u}=t,d=yield we(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:i,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:fn}),{data:f,error:g}=d;return g?this._returnResult({data:{user:null,session:null},error:g}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new is}):(f.session&&(yield this._saveSession(f.session),yield this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:g}))}catch(s){if(yield yt(this.storage,`${this.storageKey}-code-verifier`),ye(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}))})}unlinkIdentity(t){return A(this,null,function*(){try{return yield this._useSession(n=>A(this,null,function*(){var r,s;const{data:o,error:a}=n;if(a)throw a;return yield we(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})}))}catch(n){if(ye(n))return this._returnResult({data:null,error:n});throw n}})}_refreshAccessToken(t){return A(this,null,function*(){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return yield BT(s=>A(this,null,function*(){return s>0&&(yield DT(200*Math.pow(2,s-1))),this._debug(n,"refreshing attempt",s),yield we(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:fn})}),(s,o)=>{const a=200*Math.pow(2,s);return o&&El(o)&&Date.now()+a-r<As})}catch(r){if(this._debug(n,"error",r),ye(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}})}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}_handleProviderSignIn(t,n){return A(this,null,function*(){const r=yield this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),pt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}})}_recoverAndRefresh(){return A(this,null,function*(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=yield jr(this.storage,this.storageKey);if(s&&this.userStorage){let a=yield jr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},yield Os(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:Cl()}else if(s&&!s.user&&!s.user){const a=yield jr(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,yield yt(this.storage,this.storageKey+"-user"),yield Os(this.storage,this.storageKey,s)):s.user=Cl()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&(yield this._removeSession());return}const o=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Sl;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Sl}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=yield this._callRefreshToken(s.refresh_token);a&&(console.error(a),El(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:i}=yield this._getUser(s.access_token);!i&&(a!=null&&a.user)?(s.user=a.user,yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else yield this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}})}_callRefreshToken(t){return A(this,null,function*(){var n,r;if(!t)throw new Ht;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ii;const{data:o,error:a}=yield this._refreshAccessToken(t);if(a)throw a;if(!o.session)throw new Ht;yield this._saveSession(o.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const i={data:o.session,error:null};return this.refreshingDeferred.resolve(i),i}catch(o){if(this._debug(s,"error",o),ye(o)){const a={data:null,error:o};return El(o)||(yield this._removeSession()),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}})}_notifyAllSubscribers(t,n,r=!0){return A(this,null,function*(){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(i=>A(this,null,function*(){try{yield i.callback(t,n)}catch(l){o.push(l)}}));if(yield Promise.all(a),o.length>0){for(let i=0;i<o.length;i+=1)console.error(o[i]);throw o[0]}}finally{this._debug(s,"end")}})}_saveSession(t){return A(this,null,function*(){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,yield yt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&(yield Os(this.userStorage,this.storageKey+"-user",{user:n.user}));const s=Object.assign({},n);delete s.user;const o=df(s);yield Os(this.storage,this.storageKey,o)}else{const s=df(n);yield Os(this.storage,this.storageKey,s)}})}_removeSession(){return A(this,null,function*(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,yield yt(this.storage,this.storageKey),yield yt(this.storage,this.storageKey+"-code-verifier"),yield yt(this.storage,this.storageKey+"-user"),this.userStorage&&(yield yt(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&pt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}_startAutoRefresh(){return A(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),As);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno!="undefined"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(()=>A(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return A(this,null,function*(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)})}startAutoRefresh(){return A(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return A(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return A(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>A(this,null,function*(){try{const t=Date.now();try{return yield this._useSession(n=>A(this,null,function*(){const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/As);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${As}ms, refresh threshold is ${bc} ticks`),s<=bc&&(yield this._callRefreshToken(r.refresh_token))}))}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(t){if(t.isAcquireTimeout||t instanceof Cm)this._debug("auto refresh token tick lock not available");else throw t}})}_handleVisibilityChange(){return A(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!pt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>A(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}})}_onVisibilityChanged(t){return A(this,null,function*(){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(yield this.initializePromise,yield this._acquireLock(-1,()=>A(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(t,n,r){return A(this,null,function*(){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,a]=yield ls(this.storage,this.storageKey),i=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(i.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`})}_unenroll(t){return A(this,null,function*(){try{return yield this._useSession(n=>A(this,null,function*(){var r;const{data:s,error:o}=n;return o?this._returnResult({data:null,error:o}):yield we(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})}))}catch(n){if(ye(n))return this._returnResult({data:null,error:n});throw n}})}_enroll(t){return A(this,null,function*(){try{return yield this._useSession(n=>A(this,null,function*(){var r,s;const{data:o,error:a}=n;if(a)return this._returnResult({data:null,error:a});const i=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:c}=yield we(this.fetch,"POST",`${this.url}/factors`,{body:i,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))}))}catch(n){if(ye(n))return this._returnResult({data:null,error:n});throw n}})}_verify(t){return A(this,null,function*(){return this._acquireLock(-1,()=>A(this,null,function*(){try{return yield this._useSession(n=>A(this,null,function*(){var r;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?dC(t.webauthn.credential_response):fC(t.webauthn.credential_response)})}:{code:t.code}),{data:i,error:l}=yield we(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),this._returnResult({data:i,error:l}))}))}catch(n){if(ye(n))return this._returnResult({data:null,error:n});throw n}}))})}_challenge(t){return A(this,null,function*(){return this._acquireLock(-1,()=>A(this,null,function*(){try{return yield this._useSession(n=>A(this,null,function*(){var r;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=yield we(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:i}=a;if(i.type!=="webauthn")return{data:i,error:null};switch(i.webauthn.type){case"create":return{data:Object.assign(Object.assign({},i),{webauthn:Object.assign(Object.assign({},i.webauthn),{credential_options:Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:cC(i.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},i),{webauthn:Object.assign(Object.assign({},i.webauthn),{credential_options:Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:uC(i.webauthn.credential_options.publicKey)})})}),error:null}}}))}catch(n){if(ye(n))return this._returnResult({data:null,error:n});throw n}}))})}_challengeAndVerify(t){return A(this,null,function*(){const{data:n,error:r}=yield this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):yield this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})})}_listFactors(){return A(this,null,function*(){var t;const{data:{user:n},error:r}=yield this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}})}_getAuthenticatorAssuranceLevel(){return A(this,null,function*(){var t,n;const{data:{session:r},error:s}=yield this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Tl(r.access_token);let a=null;o.aal&&(a=o.aal);let i=a;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(u=>u.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(i="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:i,currentAuthenticationMethods:c},error:null}})}_getAuthorizationDetails(t){return A(this,null,function*(){try{return yield this._useSession(n=>A(this,null,function*(){const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?yield we(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Ht})}))}catch(n){if(ye(n))return this._returnResult({data:null,error:n});throw n}})}_approveAuthorization(t,n){return A(this,null,function*(){try{return yield this._useSession(r=>A(this,null,function*(){const{data:{session:s},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new Ht});const a=yield we(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:i=>({data:i,error:null})});return a.data&&a.data.redirect_url&&pt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a}))}catch(r){if(ye(r))return this._returnResult({data:null,error:r});throw r}})}_denyAuthorization(t,n){return A(this,null,function*(){try{return yield this._useSession(r=>A(this,null,function*(){const{data:{session:s},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new Ht});const a=yield we(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:i=>({data:i,error:null})});return a.data&&a.data.redirect_url&&pt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a}))}catch(r){if(ye(r))return this._returnResult({data:null,error:r});throw r}})}_listOAuthGrants(){return A(this,null,function*(){try{return yield this._useSession(t=>A(this,null,function*(){const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?yield we(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Ht})}))}catch(t){if(ye(t))return this._returnResult({data:null,error:t});throw t}})}_revokeOAuthGrant(t){return A(this,null,function*(){try{return yield this._useSession(n=>A(this,null,function*(){const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(yield we(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ht})}))}catch(n){if(ye(n))return this._returnResult({data:null,error:n});throw n}})}fetchJwk(r){return A(this,arguments,function*(t,n={keys:[]}){let s=n.keys.find(l=>l.kid===t);if(s)return s;const o=Date.now();if(s=this.jwks.keys.find(l=>l.kid===t),s&&this.jwks_cached_at+bT>o)return s;const{data:a,error:i}=yield we(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=o,s=a.keys.find(l=>l.kid===t),!s)?null:s})}getClaims(r){return A(this,arguments,function*(t,n={}){try{let s=t;if(!s){const{data:p,error:_}=yield this.getSession();if(_||!p.session)return this._returnResult({data:null,error:_});s=p.session.access_token}const{header:o,payload:a,signature:i,raw:{header:l,payload:c}}=Tl(s);n!=null&&n.allowExpired||FT(a.exp);const u=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(o.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:p}=yield this.getUser(s);if(p)throw p;return{data:{claims:a,header:o,signature:i},error:null}}const d=HT(o.alg),f=yield crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!(yield crypto.subtle.verify(d,f,i,OT(`${l}.${c}`))))throw new Sc("Invalid JWT signature");return{data:{claims:a,header:o,signature:i},error:null}}catch(s){if(ye(s))return this._returnResult({data:null,error:s});throw s}})}}qo.nextInstanceID={};const _C=qo,SC="2.89.0";let ho="";typeof Deno!="undefined"?ho="deno":typeof document!="undefined"?ho="web":typeof navigator!="undefined"&&navigator.product==="ReactNative"?ho="react-native":ho="node";const EC={"X-Client-Info":`supabase-js-${ho}/${SC}`},TC={headers:EC},CC={schema:"public"},xC={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},kC={};function Ko(e){"@babel/helpers - typeof";return Ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ko(e)}function AC(e,t){if(Ko(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ko(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OC(e){var t=AC(e,"string");return Ko(t)=="symbol"?t:t+""}function RC(e,t,n){return(t=OC(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pf(Object(n),!0).forEach(function(r){RC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pf(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const PC=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),IC=()=>Headers,$C=(e,t,n)=>{const r=PC(n),s=IC();return(o,a)=>A(void 0,null,function*(){var i;const l=(i=yield t())!==null&&i!==void 0?i:e;let c=new s(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(o,st(st({},a),{},{headers:c}))})};function DC(e){return e.endsWith("/")?e:e+"/"}function BC(e,t){var n,r;const{db:s,auth:o,realtime:a,global:i}=e,{db:l,auth:c,realtime:u,global:d}=t,f={db:st(st({},l),s),auth:st(st({},c),o),realtime:st(st({},u),a),storage:{},global:st(st(st({},d),i),{},{headers:st(st({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=i==null?void 0:i.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>A(this,null,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function NC(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(DC(t))}catch(n){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var LC=class extends _C{constructor(e){super(e)}},MC=class{constructor(e,t,n){var r,s;this.supabaseUrl=e,this.supabaseKey=t;const o=NC(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const a=`sb-${o.hostname.split(".")[0]}-auth-token`,i={db:CC,realtime:kC,auth:st(st({},xC),{},{storageKey:a}),global:TC},l=BC(n!=null?n:{},i);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(u,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=l.auth)!==null&&c!==void 0?c:{},this.headers,l.global.fetch)}this.fetch=$C(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(st({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(u=>this.realtime.setAuth(u)).catch(u=>console.warn("Failed to set initial Realtime auth token:",u)),this.rest=new yE(new URL("rest/v1",o).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new gT(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new fE(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return A(this,null,function*(){var e=this,t,n;if(e.accessToken)return yield e.accessToken();const{data:r}=yield e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:o,flowType:a,lock:i,debug:l,throwOnError:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new LC({url:this.authUrl.href,headers:st(st({},f),u),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,flowType:a,lock:i,debug:l,throwOnError:c,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new DE(this.realtimeUrl.href,st(st({},e),{},{params:st(st({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const jC=(e,t,n)=>new MC(e,t,n);function UC(){if(typeof window!="undefined"||typeof process=="undefined")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}UC()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const VC="https://xmuyxqfukqqvyoyyeypb.supabase.co",FC="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhtdXl4cWZ1a3FxdnlveXlleXBiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjcwODA5ODYsImV4cCI6MjA4MjY1Njk4Nn0.PKSLwORB81xqhn-8-ANDFrjwvNoU8wZesXShcvEHMmI",HC=()=>(console.log(" Supabase "),!0);HC();const We=jC(VC,FC),qe={PRODUCTS:"products",SALES:"sales",PURCHASES:"purchases",MEMBERS:"members",MEMBER_RECHARGES:"member_recharges",USERS:"users",BACKUPS:"backups",RETURNS:"returns",OPERATION_LOGS:"operation_logs"};function Ec(){}const ge=Object.assign,Vt=typeof window!="undefined",nn=e=>e!==null&&typeof e=="object",Pe=e=>e!=null,Hs=e=>typeof e=="function",hu=e=>nn(e)&&Hs(e.then)&&Hs(e.catch),Go=e=>Object.prototype.toString.call(e)==="[object Date]"&&!Number.isNaN(e.getTime());function Am(e){return e=e.replace(/[^-|\d]/g,""),/^((\+86)|(86))?(1)\d{10}$/.test(e)||/^0[0-9-]{10,13}$/.test(e)}const Om=e=>typeof e=="number"||/^\d+(\.\d+)?$/.test(e),zC=()=>Vt?/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()):!1;function bf(e,t){const n=t.split(".");let r=e;return n.forEach(s=>{var o;r=nn(r)&&(o=r[s])!=null?o:""}),r}function De(e,t,n){return t.reduce((r,s)=>((!n||e[s]!==void 0)&&(r[s]=e[s]),r),{})}const Dn=(e,t)=>JSON.stringify(e)===JSON.stringify(t),ni=e=>Array.isArray(e)?e:[e],WC=e=>e.reduce((t,n)=>t.concat(n),[]),Qe=null,ee=[Number,String],K={type:Boolean,default:!0},gt=e=>({type:e,required:!0}),Xe=()=>({type:Array,default:()=>[]}),ft=e=>({type:Number,default:e}),ue=e=>({type:ee,default:e}),ne=e=>({type:String,default:e});var Or=typeof window!="undefined";function kt(e){return Or?requestAnimationFrame(e):-1}function $i(e){Or&&cancelAnimationFrame(e)}function Cr(e){kt(()=>kt(e))}var qC=e=>e===window,wf=(e,t)=>({top:0,left:0,right:e,bottom:t,width:e,height:t}),Be=e=>{const t=Qt(e);if(qC(t)){const n=t.innerWidth,r=t.innerHeight;return wf(n,r)}return t!=null&&t.getBoundingClientRect?t.getBoundingClientRect():wf(0,0)};function KC(e=!1){const t=U(e);return[t,(r=!t.value)=>{t.value=r}]}function Et(e){const t=wt(e,null);if(t){const n=Yt(),{link:r,unlink:s,internalChildren:o}=t;r(n),ns(()=>s(n));const a=M(()=>o.indexOf(n));return{parent:t,index:a}}return{parent:null,index:U(-1)}}function GC(e){const t=[],n=r=>{Array.isArray(r)&&r.forEach(s=>{var o;Mo(s)&&(t.push(s),(o=s.component)!=null&&o.subTree&&(t.push(s.component.subTree),n(s.component.subTree.children)),s.children&&n(s.children))})};return n(e),t}var _f=(e,t)=>{const n=e.indexOf(t);return n===-1?e.findIndex(r=>t.key!==void 0&&t.key!==null&&r.type===t.type&&r.key===t.key):n};function YC(e,t,n){const r=GC(e.subTree.children);n.sort((o,a)=>_f(r,o.vnode)-_f(r,a.vnode));const s=n.map(o=>o.proxy);t.sort((o,a)=>{const i=s.indexOf(o),l=s.indexOf(a);return i-l})}function Ot(e){const t=Je([]),n=Je([]),r=Yt();return{children:t,linkChildren:o=>{$n(e,Object.assign({link:l=>{l.proxy&&(n.push(l),t.push(l.proxy),YC(r,t,n))},unlink:l=>{const c=n.indexOf(l);t.splice(c,1),n.splice(c,1)},children:t,internalChildren:n},o))}}}var Tc=1e3,Cc=60*Tc,xc=60*Cc,Sf=24*xc;function JC(e){const t=Math.floor(e/Sf),n=Math.floor(e%Sf/xc),r=Math.floor(e%xc/Cc),s=Math.floor(e%Cc/Tc),o=Math.floor(e%Tc);return{total:e,days:t,hours:n,minutes:r,seconds:s,milliseconds:o}}function XC(e,t){return Math.floor(e/1e3)===Math.floor(t/1e3)}function ZC(e){let t,n,r,s;const o=U(e.time),a=M(()=>JC(o.value)),i=()=>{r=!1,$i(t)},l=()=>Math.max(n-Date.now(),0),c=_=>{var m,w;o.value=_,(m=e.onChange)==null||m.call(e,a.value),_===0&&(i(),(w=e.onFinish)==null||w.call(e))},u=()=>{t=kt(()=>{r&&(c(l()),o.value>0&&u())})},d=()=>{t=kt(()=>{if(r){const _=l();(!XC(_,o.value)||_===0)&&c(_),o.value>0&&d()}})},f=()=>{Or&&(e.millisecond?u():d())},g=()=>{r||(n=Date.now()+o.value,r=!0,f())},p=(_=e.time)=>{i(),o.value=_};return Mn(i),Nn(()=>{s&&(r=!0,s=!1,f())}),Ln(()=>{r&&(i(),s=!0)}),{start:g,pause:i,reset:p,current:a}}function Ys(e){let t;Ze(()=>{e(),Ae(()=>{t=!0})}),Nn(()=>{t&&e()})}function at(e,t,n={}){if(!Or)return;const{target:r=window,passive:s=!1,capture:o=!1}=n;let a=!1,i;const l=d=>{if(a)return;const f=Qt(d);f&&!i&&(f.addEventListener(e,t,{capture:o,passive:s}),i=!0)},c=d=>{if(a)return;const f=Qt(d);f&&i&&(f.removeEventListener(e,t,o),i=!1)};ns(()=>c(r)),Ln(()=>c(r)),Ys(()=>l(r));let u;return tt(r)&&(u=oe(r,(d,f)=>{c(f),l(d)})),()=>{u==null||u(),c(r),a=!0}}function Di(e,t,n={}){if(!Or)return;const{eventName:r="click"}=n;at(r,o=>{(Array.isArray(e)?e:[e]).every(l=>{const c=Qt(l);return c&&!c.contains(o.target)})&&t(o)},{target:document})}var va,kl;function QC(){if(!va&&(va=U(0),kl=U(0),Or)){const e=()=>{va.value=window.innerWidth,kl.value=window.innerHeight};e(),window.addEventListener("resize",e,{passive:!0}),window.addEventListener("orientationchange",e,{passive:!0})}return{width:va,height:kl}}var ex=/scroll|auto|overlay/i,Rm=Or?window:void 0;function tx(e){return e.tagName!=="HTML"&&e.tagName!=="BODY"&&e.nodeType===1}function gu(e,t=Rm){let n=e;for(;n&&n!==t&&tx(n);){const{overflowY:r}=window.getComputedStyle(n);if(ex.test(r))return n;n=n.parentNode}return t}function Js(e,t=Rm){const n=U();return Ze(()=>{e.value&&(n.value=gu(e.value,t))}),n}var ya;function nx(){if(!ya&&(ya=U("visible"),Or)){const e=()=>{ya.value=document.hidden?"hidden":"visible"};e(),window.addEventListener("visibilitychange",e)}return ya}var Pm=Symbol("van-field");function Rr(e){const t=wt(Pm,null);t&&!t.customValue.value&&(t.customValue.value=e,oe(e,()=>{t.resetValidation(),t.validateWithTrigger("onChange")}))}function nr(e){const t="scrollTop"in e?e.scrollTop:e.pageYOffset;return Math.max(t,0)}function ri(e,t){"scrollTop"in e?e.scrollTop=t:e.scrollTo(e.scrollX,t)}function Zr(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function Yo(e){ri(window,e),ri(document.body,e)}function Ef(e,t){if(e===window)return 0;const n=t?nr(t):Zr();return Be(e).top+n}const rx=zC();function Im(){rx&&Yo(Zr())}const mu=e=>e.stopPropagation();function Ke(e,t){(typeof e.cancelable!="boolean"||e.cancelable)&&e.preventDefault(),t&&mu(e)}function es(e){const t=Qt(e);if(!t)return!1;const n=window.getComputedStyle(t),r=n.display==="none",s=t.offsetParent===null&&n.position!=="fixed";return r||s}const{width:pn,height:en}=QC();function sx(e){const t=window.getComputedStyle(e);return t.transform!=="none"||t.perspective!=="none"||["transform","perspective","filter"].some(n=>(t.willChange||"").includes(n))}function ox(e){let t=e.parentElement;for(;t;){if(t&&t.tagName!=="HTML"&&t.tagName!=="BODY"&&sx(t))return t;t=t.parentElement}return null}function Ce(e){if(Pe(e))return Om(e)?`${e}px`:String(e)}function lr(e){if(Pe(e)){if(Array.isArray(e))return{width:Ce(e[0]),height:Ce(e[1])};const t=Ce(e);return{width:t,height:t}}}function cr(e){const t={};return e!==void 0&&(t.zIndex=+e),t}let Al;function ax(){if(!Al){const e=document.documentElement,t=e.style.fontSize||window.getComputedStyle(e).fontSize;Al=parseFloat(t)}return Al}function ix(e){return e=e.replace(/rem/g,""),+e*ax()}function lx(e){return e=e.replace(/vw/g,""),+e*pn.value/100}function cx(e){return e=e.replace(/vh/g,""),+e*en.value/100}function vu(e){if(typeof e=="number")return e;if(Vt){if(e.includes("rem"))return ix(e);if(e.includes("vw"))return lx(e);if(e.includes("vh"))return cx(e)}return parseFloat(e)}const ux=/-(\w)/g,$m=e=>e.replace(ux,(t,n)=>n.toUpperCase()),dx=e=>e.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^-/,"");function mn(e,t=2){let n=e+"";for(;n.length<t;)n="0"+n;return n}const ht=(e,t,n)=>Math.min(Math.max(e,t),n);function Tf(e,t,n){const r=e.indexOf(t);return r===-1?e:t==="-"&&r!==0?e.slice(0,r):e.slice(0,r+1)+e.slice(r).replace(n,"")}function kc(e,t=!0,n=!0){t?e=Tf(e,".",/\./g):e=e.split(".")[0],n?e=Tf(e,"-",/-/g):e=e.replace(/-/,"");const r=t?/[^-0-9.]/g:/[^-0-9]/g;return e.replace(r,"")}function Dm(e,t){return Math.round((e+t)*1e10)/1e10}const{hasOwnProperty:fx}=Object.prototype;function hx(e,t,n){const r=t[n];Pe(r)&&(!fx.call(e,n)||!nn(r)?e[n]=r:e[n]=Bm(Object(e[n]),r))}function Bm(e,t){return Object.keys(t).forEach(n=>{hx(e,t,n)}),e}var gx={name:"",tel:"",save:"",clear:"",cancel:"",confirm:"",delete:"",loading:"...",noCoupon:"",nameEmpty:"",addContact:"",telInvalid:"",vanCalendar:{end:"",start:"",title:"",weekdays:["","","","","","",""],monthTitle:(e,t)=>`${e}${t}`,rangePrompt:e=>` ${e} `},vanCascader:{select:""},vanPagination:{prev:"",next:""},vanPullRefresh:{pulling:"...",loosing:"..."},vanSubmitBar:{label:":"},vanCoupon:{unlimited:"",discount:e=>`${e}`,condition:e=>`${e}`},vanCouponCell:{title:"",count:e=>`${e}`},vanCouponList:{exchange:"",close:"",enable:"",disabled:"",placeholder:""},vanAddressEdit:{area:"",areaEmpty:"",addressEmpty:"",addressDetail:"",defaultAddress:""},vanAddressList:{add:""}};const Cf=U("zh-CN"),xf=Je({"zh-CN":gx}),yu={messages(){return xf[Cf.value]},use(e,t){Cf.value=e,this.add({[e]:t})},add(e={}){Bm(xf,e)}};var mx=yu;function vx(e){const t=$m(e)+".";return(n,...r)=>{const s=mx.messages(),o=bf(s,t+n)||bf(s,n);return Hs(o)?o(...r):o}}function Ac(e,t){return t?typeof t=="string"?` ${e}--${t}`:Array.isArray(t)?t.reduce((n,r)=>n+Ac(e,r),""):Object.keys(t).reduce((n,r)=>n+(t[r]?Ac(e,r):""),""):""}function yx(e){return(t,n)=>(t&&typeof t!="string"&&(n=t,t=""),t=t?`${e}__${t}`:e,`${t}${Ac(t,n)}`)}function J(e){const t=`van-${e}`;return[t,yx(t),vx(t)]}const ur="van-hairline",Nm=`${ur}--top`,Lm=`${ur}--left`,px=`${ur}--right`,pu=`${ur}--bottom`,ko=`${ur}--surround`,Bi=`${ur}--top-bottom`,bx=`${ur}-unset--top-bottom`,At="van-haptics-feedback",Mm=Symbol("van-form"),jm=500,kf=5;function Pr(e,{args:t=[],done:n,canceled:r,error:s}){if(e){const o=e.apply(null,t);hu(o)?o.then(a=>{a?n():r&&r()}).catch(s||Ec):o?n():r&&r()}else n()}function te(e){return e.install=t=>{const{name:n}=e;n&&(t.component(n,e),t.component($m(`-${n}`),e))},e}function si(e,t){return e.reduce((n,r)=>Math.abs(n-t)<Math.abs(r-t)?n:r)}const Um=Symbol();function Ni(e){const t=wt(Um,null);t&&oe(t,n=>{n&&e()})}const Vm=(e,t)=>{const n=U(),r=()=>{n.value=Be(e).height};return Ze(()=>{if(Ae(r),t)for(let s=1;s<=3;s++)setTimeout(r,100*s)}),Ni(()=>Ae(r)),oe([pn,en],r),n};function Li(e,t){const n=Vm(e,!0);return r=>h("div",{class:t("placeholder"),style:{height:n.value?`${n.value}px`:void 0}},[r()])}const[Fm,Af]=J("action-bar"),bu=Symbol(Fm),Hm={placeholder:Boolean,safeAreaInsetBottom:K};var wx=Y({name:Fm,props:Hm,setup(e,{slots:t}){const n=U(),r=Li(n,Af),{linkChildren:s}=Ot(bu);s();const o=()=>{var a;return h("div",{ref:n,class:[Af(),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[(a=t.default)==null?void 0:a.call(t)])};return()=>e.placeholder?r(o):o()}});const wu=te(wx);function Re(e){const t=Yt();t&&ge(t.proxy,e)}const Ir={to:[String,Object],url:String,replace:Boolean};function zm({to:e,url:t,replace:n,$router:r}){e&&r?r[n?"replace":"push"](e):t&&(n?location.replace(t):location.href=t)}function rs(){const e=Yt().proxy;return()=>zm(e)}const[_x,Of]=J("badge"),Wm={dot:Boolean,max:ee,tag:ne("div"),color:String,offset:Array,content:ee,showZero:K,position:ne("top-right")};var Sx=Y({name:_x,props:Wm,setup(e,{slots:t}){const n=()=>{if(t.content)return!0;const{content:i,showZero:l}=e;return Pe(i)&&i!==""&&(l||i!==0&&i!=="0")},r=()=>{const{dot:i,max:l,content:c}=e;if(!i&&n())return t.content?t.content():Pe(l)&&Om(c)&&+c>+l?`${l}+`:c},s=i=>i.startsWith("-")?i.replace("-",""):`-${i}`,o=M(()=>{const i={background:e.color};if(e.offset){const[l,c]=e.offset,{position:u}=e,[d,f]=u.split("-");t.default?(typeof c=="number"?i[d]=Ce(d==="top"?c:-c):i[d]=d==="top"?Ce(c):s(c),typeof l=="number"?i[f]=Ce(f==="left"?l:-l):i[f]=f==="left"?Ce(l):s(l)):(i.marginTop=Ce(c),i.marginLeft=Ce(l))}return i}),a=()=>{if(n()||e.dot)return h("div",{class:Of([e.position,{dot:e.dot,fixed:!!t.default}]),style:o.value},[r()])};return()=>{if(t.default){const{tag:i}=e;return h(i,{class:Of("wrapper")},{default:()=>[t.default(),a()]})}return a()}}});const $r=te(Sx);let qm=2e3;const Ex=()=>++qm,Tx=e=>{qm=e},[Km,Cx]=J("config-provider"),Gm=Symbol(Km),Ym={tag:ne("div"),theme:ne("light"),zIndex:Number,themeVars:Object,themeVarsDark:Object,themeVarsLight:Object,themeVarsScope:ne("local"),iconPrefix:String};function xx(e){return e.replace(/([a-zA-Z])(\d)/g,"$1-$2")}function kx(e){const t={};return Object.keys(e).forEach(n=>{const r=xx(dx(n));t[`--van-${r}`]=e[n]}),t}function pa(e={},t={}){Object.keys(e).forEach(n=>{e[n]!==t[n]&&document.documentElement.style.setProperty(n,e[n])}),Object.keys(t).forEach(n=>{e[n]||document.documentElement.style.removeProperty(n)})}var Ax=Y({name:Km,props:Ym,setup(e,{slots:t}){const n=M(()=>kx(ge({},e.themeVars,e.theme==="dark"?e.themeVarsDark:e.themeVarsLight)));if(Vt){const r=()=>{document.documentElement.classList.add(`van-theme-${e.theme}`)},s=(o=e.theme)=>{document.documentElement.classList.remove(`van-theme-${o}`)};oe(()=>e.theme,(o,a)=>{a&&s(a),r()},{immediate:!0}),Nn(r),Ln(s),Mn(s),oe(n,(o,a)=>{e.themeVarsScope==="global"&&pa(o,a)}),oe(()=>e.themeVarsScope,(o,a)=>{a==="global"&&pa({},n.value),o==="global"&&pa(n.value,{})}),e.themeVarsScope==="global"&&pa(n.value,{})}return $n(Gm,e),Ks(()=>{e.zIndex!==void 0&&Tx(e.zIndex)}),()=>h(e.tag,{class:Cx(),style:e.themeVarsScope==="local"?n.value:void 0},{default:()=>{var r;return[(r=t.default)==null?void 0:r.call(t)]}})}});const[Ox,Rf]=J("icon"),Rx=e=>e==null?void 0:e.includes("/"),Jm={dot:Boolean,tag:ne("i"),name:String,size:ee,badge:ee,color:String,badgeProps:Object,classPrefix:String};var Px=Y({name:Ox,props:Jm,setup(e,{slots:t}){const n=wt(Gm,null),r=M(()=>e.classPrefix||(n==null?void 0:n.iconPrefix)||Rf());return()=>{const{tag:s,dot:o,name:a,size:i,badge:l,color:c}=e,u=Rx(a);return h($r,Oe({dot:o,tag:s,class:[r.value,u?"":`${r.value}-${a}`],style:{color:c,fontSize:Ce(i)},content:l},e.badgeProps),{default:()=>{var d;return[(d=t.default)==null?void 0:d.call(t),u&&h("img",{class:Rf("image"),src:a},null)]}})}}});const xe=te(Px);var Ix=xe;const[$x,Ao]=J("loading"),Dx=Array(12).fill(null).map((e,t)=>h("i",{class:Ao("line",String(t+1))},null)),Bx=h("svg",{class:Ao("circular"),viewBox:"25 25 50 50"},[h("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),Xm={size:ee,type:ne("circular"),color:String,vertical:Boolean,textSize:ee,textColor:String};var Nx=Y({name:$x,props:Xm,setup(e,{slots:t}){const n=M(()=>ge({color:e.color},lr(e.size))),r=()=>{const o=e.type==="spinner"?Dx:Bx;return h("span",{class:Ao("spinner",e.type),style:n.value},[t.icon?t.icon():o])},s=()=>{var o;if(t.default)return h("span",{class:Ao("text"),style:{fontSize:Ce(e.textSize),color:(o=e.textColor)!=null?o:e.color}},[t.default()])};return()=>{const{type:o,vertical:a}=e;return h("div",{class:Ao([o,{vertical:a}]),"aria-live":"polite","aria-busy":!0},[r(),s()])}}});const rn=te(Nx),[Lx,fs]=J("button"),Zm=ge({},Ir,{tag:ne("button"),text:String,icon:String,type:ne("default"),size:ne("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:ne("button"),loadingSize:ee,loadingText:String,loadingType:String,iconPosition:ne("left")});var Mx=Y({name:Lx,props:Zm,emits:["click"],setup(e,{emit:t,slots:n}){const r=rs(),s=()=>n.loading?n.loading():h(rn,{size:e.loadingSize,type:e.loadingType,class:fs("loading")},null),o=()=>{if(e.loading)return s();if(n.icon)return h("div",{class:fs("icon")},[n.icon()]);if(e.icon)return h(xe,{name:e.icon,class:fs("icon"),classPrefix:e.iconPrefix},null)},a=()=>{let c;if(e.loading?c=e.loadingText:c=n.default?n.default():e.text,c)return h("span",{class:fs("text")},[c])},i=()=>{const{color:c,plain:u}=e;if(c){const d={color:u?c:"white"};return u||(d.background=c),c.includes("gradient")?d.border=0:d.borderColor=c,d}},l=c=>{e.loading?Ke(c):e.disabled||(t("click",c),r())};return()=>{const{tag:c,type:u,size:d,block:f,round:g,plain:p,square:_,loading:m,disabled:w,hairline:y,nativeType:v,iconPosition:S}=e,b=[fs([u,d,{plain:p,block:f,round:g,square:_,loading:m,disabled:w,hairline:y}]),{[ko]:y}];return h(c,{type:v,class:b,style:i(),disabled:w,onClick:l},{default:()=>[h("div",{class:fs("content")},[S==="left"&&o(),a(),S==="right"&&o()])]})}}});const St=te(Mx),[jx,Ux]=J("action-bar-button"),Qm=ge({},Ir,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean});var Vx=Y({name:jx,props:Qm,setup(e,{slots:t}){const n=rs(),{parent:r,index:s}=Et(bu),o=M(()=>{if(r){const i=r.children[s.value-1];return!(i&&"isButton"in i)}}),a=M(()=>{if(r){const i=r.children[s.value+1];return!(i&&"isButton"in i)}});return Re({isButton:!0}),()=>{const{type:i,icon:l,text:c,color:u,loading:d,disabled:f}=e;return h(St,{class:Ux([i,{last:a.value,first:o.value}]),size:"large",type:i,icon:l,color:u,loading:d,disabled:f,onClick:n},{default:()=>[t.default?t.default():c]})}}});const oi=te(Vx),[Fx,Ol]=J("action-bar-icon"),ev=ge({},Ir,{dot:Boolean,text:String,icon:String,color:String,badge:ee,iconClass:Qe,badgeProps:Object,iconPrefix:String});var Hx=Y({name:Fx,props:ev,setup(e,{slots:t}){const n=rs();Et(bu);const r=()=>{const{dot:s,badge:o,icon:a,color:i,iconClass:l,badgeProps:c,iconPrefix:u}=e;return t.icon?h($r,Oe({dot:s,class:Ol("icon"),content:o},c),{default:t.icon}):h(xe,{tag:"div",dot:s,name:a,badge:o,color:i,class:[Ol("icon"),l],badgeProps:c,classPrefix:u},null)};return()=>h("div",{role:"button",class:Ol(),tabindex:0,onClick:n},[r(),t.default?t.default():e.text])}});const tv=te(Hx),Xs={show:Boolean,zIndex:ee,overlay:K,duration:ee,teleport:[String,Object],lockScroll:K,lazyRender:K,beforeClose:Function,overlayProps:Object,overlayStyle:Object,overlayClass:Qe,transitionAppear:Boolean,closeOnClickOverlay:K},_u=Object.keys(Xs);function zx(e,t){return e>t?"horizontal":t>e?"vertical":""}function sn(){const e=U(0),t=U(0),n=U(0),r=U(0),s=U(0),o=U(0),a=U(""),i=U(!0),l=()=>a.value==="vertical",c=()=>a.value==="horizontal",u=()=>{n.value=0,r.value=0,s.value=0,o.value=0,a.value="",i.value=!0};return{move:g=>{const p=g.touches[0];n.value=(p.clientX<0?0:p.clientX)-e.value,r.value=p.clientY-t.value,s.value=Math.abs(n.value),o.value=Math.abs(r.value);const _=10;(!a.value||s.value<_&&o.value<_)&&(a.value=zx(s.value,o.value)),i.value&&(s.value>kf||o.value>kf)&&(i.value=!1)},start:g=>{u(),e.value=g.touches[0].clientX,t.value=g.touches[0].clientY},reset:u,startX:e,startY:t,deltaX:n,deltaY:r,offsetX:s,offsetY:o,direction:a,isVertical:l,isHorizontal:c,isTap:i}}let so=0;const Pf="van-overflow-hidden";function nv(e,t){const n=sn(),r="01",s="10",o=u=>{n.move(u);const d=n.deltaY.value>0?s:r,f=gu(u.target,e.value),{scrollHeight:g,offsetHeight:p,scrollTop:_}=f;let m="11";_===0?m=p>=g?"00":"01":_+p>=g&&(m="10"),m!=="11"&&n.isVertical()&&!(parseInt(m,2)&parseInt(d,2))&&Ke(u,!0)},a=()=>{document.addEventListener("touchstart",n.start),document.addEventListener("touchmove",o,{passive:!1}),so||document.body.classList.add(Pf),so++},i=()=>{so&&(document.removeEventListener("touchstart",n.start),document.removeEventListener("touchmove",o),so--,so||document.body.classList.remove(Pf))},l=()=>t()&&a(),c=()=>t()&&i();Ys(l),Ln(c),Mn(c),oe(t,u=>{u?a():i()})}function Su(e){const t=U(!1);return oe(e,n=>{n&&(t.value=n)},{immediate:!0}),n=>()=>t.value?n():null}const ai=()=>{var e;const{scopeId:t}=((e=Yt())==null?void 0:e.vnode)||{};return t?{[t]:""}:null},[Wx,qx]=J("overlay"),rv={show:Boolean,zIndex:ee,duration:ee,className:Qe,lockScroll:K,lazyRender:K,customStyle:Object,teleport:[String,Object]};var Kx=Y({name:Wx,inheritAttrs:!1,props:rv,setup(e,{attrs:t,slots:n}){const r=U(),s=Su(()=>e.show||!e.lazyRender),o=i=>{e.lockScroll&&Ke(i,!0)},a=s(()=>{var i;const l=ge(cr(e.zIndex),e.customStyle);return Pe(e.duration)&&(l.animationDuration=`${e.duration}s`),mt(h("div",Oe({ref:r,style:l,class:[qx(),e.className]},t),[(i=n.default)==null?void 0:i.call(n)]),[[_t,e.show]])});return at("touchmove",o,{target:r}),()=>{const i=h(Gs,{name:"van-fade",appear:!0},{default:a});return e.teleport?h(ts,{to:e.teleport},{default:()=>[i]}):i}}});const Eu=te(Kx),sv=ge({},Xs,{round:Boolean,position:ne("center"),closeIcon:ne("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:ne("top-right"),destroyOnClose:Boolean,safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[Gx,If]=J("popup");var Yx=Y({name:Gx,inheritAttrs:!1,props:sv,emits:["open","close","opened","closed","keydown","update:show","clickOverlay","clickCloseIcon"],setup(e,{emit:t,attrs:n,slots:r}){let s,o;const a=U(),i=U(),l=Su(()=>e.show||!e.lazyRender),c=M(()=>{const x={zIndex:a.value};if(Pe(e.duration)){const O=e.position==="center"?"animationDuration":"transitionDuration";x[O]=`${e.duration}s`}return x}),u=()=>{s||(s=!0,a.value=e.zIndex!==void 0?+e.zIndex:Ex(),t("open"))},d=()=>{s&&Pr(e.beforeClose,{done(){s=!1,t("close"),t("update:show",!1)}})},f=x=>{t("clickOverlay",x),e.closeOnClickOverlay&&d()},g=()=>{if(e.overlay){const x=ge({show:e.show,class:e.overlayClass,zIndex:a.value,duration:e.duration,customStyle:e.overlayStyle,role:e.closeOnClickOverlay?"button":void 0,tabindex:e.closeOnClickOverlay?0:void 0},e.overlayProps);return h(Eu,Oe(x,ai(),{onClick:f}),{default:r["overlay-content"]})}},p=x=>{t("clickCloseIcon",x),d()},_=()=>{if(e.closeable)return h(xe,{role:"button",tabindex:0,name:e.closeIcon,class:[If("close-icon",e.closeIconPosition),At],classPrefix:e.iconPrefix,onClick:p},null)};let m;const w=()=>{m&&clearTimeout(m),m=setTimeout(()=>{t("opened")})},y=()=>t("closed"),v=x=>t("keydown",x),S=l(()=>{var x;const{destroyOnClose:O,round:C,position:R,safeAreaInsetTop:D,safeAreaInsetBottom:T,show:E}=e;if(!(!E&&O))return mt(h("div",Oe({ref:i,style:c.value,role:"dialog",tabindex:0,class:[If({round:C,[R]:R}),{"van-safe-area-top":D,"van-safe-area-bottom":T}],onKeydown:v},n,ai()),[(x=r.default)==null?void 0:x.call(r),_()]),[[_t,E]])}),b=()=>{const{position:x,transition:O,transitionAppear:C}=e,R=x==="center"?"van-fade":`van-popup-slide-${x}`;return h(Gs,{name:O||R,appear:C,onAfterEnter:w,onAfterLeave:y},{default:S})};return oe(()=>e.show,x=>{x&&!s&&(u(),n.tabindex===0&&Ae(()=>{var O;(O=i.value)==null||O.focus()})),!x&&s&&(s=!1,t("close"))}),Re({popupRef:i}),nv(i,()=>e.show&&e.lockScroll),at("popstate",()=>{e.closeOnPopstate&&(d(),o=!1)}),Ze(()=>{e.show&&u()}),Nn(()=>{o&&(t("update:show",!0),o=!1)}),Ln(()=>{e.show&&e.teleport&&(d(),o=!0)}),$n(Um,()=>e.show),()=>e.teleport?h(ts,{to:e.teleport},{default:()=>[g(),b()]}):h(lt,null,[g(),b()])}});const on=te(Yx),[Jx,Xt]=J("action-sheet"),ov=ge({},Xs,{title:String,round:K,actions:Xe(),closeIcon:ne("cross"),closeable:K,cancelText:String,description:String,closeOnPopstate:K,closeOnClickAction:Boolean,safeAreaInsetBottom:K}),Xx=[..._u,"round","closeOnPopstate","safeAreaInsetBottom"];var Zx=Y({name:Jx,props:ov,emits:["select","cancel","update:show"],setup(e,{slots:t,emit:n}){const r=d=>n("update:show",d),s=()=>{r(!1),n("cancel")},o=()=>{if(e.title)return h("div",{class:Xt("header")},[e.title,e.closeable&&h(xe,{name:e.closeIcon,class:[Xt("close"),At],onClick:s},null)])},a=()=>{if(t.cancel||e.cancelText)return[h("div",{class:Xt("gap")},null),h("button",{type:"button",class:Xt("cancel"),onClick:s},[t.cancel?t.cancel():e.cancelText])]},i=d=>{if(d.icon)return h(xe,{class:Xt("item-icon"),name:d.icon},null)},l=(d,f)=>d.loading?h(rn,{class:Xt("loading-icon")},null):t.action?t.action({action:d,index:f}):[h("span",{class:Xt("name")},[d.name]),d.subname&&h("div",{class:Xt("subname")},[d.subname])],c=(d,f)=>{const{color:g,loading:p,callback:_,disabled:m,className:w}=d,y=()=>{m||p||(_&&_(d),e.closeOnClickAction&&r(!1),Ae(()=>n("select",d,f)))};return h("button",{type:"button",style:{color:g},class:[Xt("item",{loading:p,disabled:m}),w],onClick:y},[i(d),l(d,f)])},u=()=>{if(e.description||t.description){const d=t.description?t.description():e.description;return h("div",{class:Xt("description")},[d])}};return()=>h(on,Oe({class:Xt(),position:"bottom","onUpdate:show":r},De(e,Xx)),{default:()=>{var d;return[o(),u(),h("div",{class:Xt("content")},[e.actions.map(c),(d=t.default)==null?void 0:d.call(t)]),a()]}})}});const av=te(Zx),[Qx,Jn,$f]=J("picker"),iv=e=>e.find(t=>!t.disabled)||e[0];function ek(e,t){const n=e[0];if(n){if(Array.isArray(n))return"multiple";if(t.children in n)return"cascade"}return"default"}function Ua(e,t){t=ht(t,0,e.length);for(let n=t;n<e.length;n++)if(!e[n].disabled)return n;for(let n=t-1;n>=0;n--)if(!e[n].disabled)return n;return 0}const Df=(e,t,n)=>t!==void 0&&e.some(r=>r[n.value]===t);function Oc(e,t,n){const r=e.findIndex(o=>o[n.value]===t),s=Ua(e,r);return e[s]}function tk(e,t,n){const r=[];let s={[t.children]:e},o=0;for(;s&&s[t.children];){const a=s[t.children],i=n.value[o];if(s=Pe(i)?Oc(a,i,t):void 0,!s&&a.length){const l=iv(a)[t.value];s=Oc(a,l,t)}o++,r.push(a)}return r}function nk(e){const{transform:t}=window.getComputedStyle(e),n=t.slice(7,t.length-1).split(", ")[5];return Number(n)}function rk(e){return ge({text:"text",value:"value",children:"children"},e)}const Bf=200,Nf=300,sk=15,[lv,Rl]=J("picker-column"),cv=Symbol(lv);var ok=Y({name:lv,props:{value:ee,fields:gt(Object),options:Xe(),readonly:Boolean,allowHtml:Boolean,optionHeight:gt(Number),swipeDuration:gt(ee),visibleOptionNum:gt(ee)},emits:["change","clickOption","scrollInto"],setup(e,{emit:t,slots:n}){let r,s,o,a,i;const l=U(),c=U(),u=U(0),d=U(0),f=sn(),g=()=>e.options.length,p=()=>e.optionHeight*(+e.visibleOptionNum-1)/2,_=D=>{let T=Ua(e.options,D);const E=-T*e.optionHeight,k=()=>{T>g()-1&&(T=Ua(e.options,D));const $=e.options[T][e.fields.value];$!==e.value&&t("change",$)};r&&E!==u.value?i=k:k(),u.value=E},m=()=>e.readonly||!e.options.length,w=D=>{r||m()||(i=null,d.value=Bf,_(D),t("clickOption",e.options[D]))},y=D=>ht(Math.round(-D/e.optionHeight),0,g()-1),v=M(()=>y(u.value)),S=(D,T)=>{const E=Math.abs(D/T);D=u.value+E/.003*(D<0?-1:1);const k=y(D);d.value=+e.swipeDuration,_(k)},b=()=>{r=!1,d.value=0,i&&(i(),i=null)},x=D=>{if(!m()){if(f.start(D),r){const T=nk(c.value);u.value=Math.min(0,T-p())}d.value=0,s=u.value,o=Date.now(),a=s,i=null}},O=D=>{if(m())return;f.move(D),f.isVertical()&&(r=!0,Ke(D,!0));const T=ht(s+f.deltaY.value,-(g()*e.optionHeight),e.optionHeight),E=y(T);E!==v.value&&t("scrollInto",e.options[E]),u.value=T;const k=Date.now();k-o>Nf&&(o=k,a=T)},C=()=>{if(m())return;const D=u.value-a,T=Date.now()-o;if(T<Nf&&Math.abs(D)>sk){S(D,T);return}const k=y(u.value);d.value=Bf,_(k),setTimeout(()=>{r=!1},0)},R=()=>{const D={height:`${e.optionHeight}px`};return e.options.map((T,E)=>{const k=T[e.fields.text],{disabled:$}=T,N=T[e.fields.value],L={role:"button",style:D,tabindex:$?-1:0,class:[Rl("item",{disabled:$,selected:N===e.value}),T.className],onClick:()=>w(E)},H={class:"van-ellipsis",[e.allowHtml?"innerHTML":"textContent"]:k};return h("li",L,[n.option?n.option(T,E):h("div",H,null)])})};return Et(cv),Re({stopMomentum:b}),Ks(()=>{const D=r?Math.floor(-u.value/e.optionHeight):e.options.findIndex(k=>k[e.fields.value]===e.value),T=Ua(e.options,D),E=-T*e.optionHeight;r&&T<D&&b(),u.value=E}),at("touchmove",O,{target:l}),()=>h("div",{ref:l,class:Rl(),onTouchstartPassive:x,onTouchend:C,onTouchcancel:C},[h("ul",{ref:c,style:{transform:`translate3d(0, ${u.value+p()}px, 0)`,transitionDuration:`${d.value}ms`,transitionProperty:d.value?"all":"none"},class:Rl("wrapper"),onTransitionend:b},[R()])])}});const[ak]=J("picker-toolbar"),Mi={title:String,cancelButtonText:String,confirmButtonText:String},uv=["cancel","confirm","title","toolbar"],ik=Object.keys(Mi);var dv=Y({name:ak,props:Mi,emits:["confirm","cancel"],setup(e,{emit:t,slots:n}){const r=()=>{if(n.title)return n.title();if(e.title)return h("div",{class:[Jn("title"),"van-ellipsis"]},[e.title])},s=()=>t("cancel"),o=()=>t("confirm"),a=()=>{var l;const c=(l=e.cancelButtonText)!=null?l:$f("cancel");if(!(!n.cancel&&!c))return h("button",{type:"button",class:[Jn("cancel"),At],onClick:s},[n.cancel?n.cancel():c])},i=()=>{var l;const c=(l=e.confirmButtonText)!=null?l:$f("confirm");if(!(!n.confirm&&!c))return h("button",{type:"button",class:[Jn("confirm"),At],onClick:o},[n.confirm?n.confirm():c])};return()=>h("div",{class:Jn("toolbar")},[n.toolbar?n.toolbar():[a(),r(),i()]])}});const Tu=(e,t)=>{const n=U(e());return oe(e,r=>{r!==n.value&&(n.value=r)}),oe(n,r=>{r!==e()&&t(r)}),n};function lk(e,t,n){let r,s=0;const o=e.scrollLeft,a=n===0?1:Math.round(n*1e3/16);let i=o;function l(){$i(r)}function c(){i+=(t-o)/a,e.scrollLeft=i,++s<a&&(r=kt(c))}return c(),l}function ck(e,t,n,r){let s,o=nr(e);const a=o<t,i=n===0?1:Math.round(n*1e3/16),l=(t-o)/i;function c(){$i(s)}function u(){o+=l,(a&&o>t||!a&&o<t)&&(o=t),ri(e,o),a&&o<t||!a&&o>t?s=kt(u):r&&(s=kt(r))}return u(),c}let uk=0;function Zs(){const e=Yt(),{name:t="unknown"}=(e==null?void 0:e.type)||{};return`${t}-${++uk}`}function na(){const e=U([]),t=[];return _g(()=>{e.value=[]}),[e,r=>(t[r]||(t[r]=s=>{e.value[r]=s}),t[r])]}function fv(e,t){if(!Vt||!window.IntersectionObserver)return;const n=new IntersectionObserver(o=>{t(o[0].intersectionRatio>0)},{root:document.body}),r=()=>{e.value&&n.observe(e.value)},s=()=>{e.value&&n.unobserve(e.value)};Ln(s),Mn(s),Ys(r)}const[dk,fk]=J("sticky"),hv={zIndex:ee,position:ne("top"),container:Object,offsetTop:ue(0),offsetBottom:ue(0)};var hk=Y({name:dk,props:hv,emits:["scroll","change"],setup(e,{emit:t,slots:n}){const r=U(),s=Js(r),o=Je({fixed:!1,width:0,height:0,transform:0}),a=U(!1),i=M(()=>vu(e.position==="top"?e.offsetTop:e.offsetBottom)),l=M(()=>{if(a.value)return;const{fixed:f,height:g,width:p}=o;if(f)return{width:`${p}px`,height:`${g}px`}}),c=M(()=>{if(!o.fixed||a.value)return;const f=ge(cr(e.zIndex),{width:`${o.width}px`,height:`${o.height}px`,[e.position]:`${i.value}px`});return o.transform&&(f.transform=`translate3d(0, ${o.transform}px, 0)`),f}),u=f=>t("scroll",{scrollTop:f,isFixed:o.fixed}),d=()=>{if(!r.value||es(r))return;const{container:f,position:g}=e,p=Be(r),_=nr(window);if(o.width=p.width,o.height=p.height,g==="top")if(f){const m=Be(f),w=m.bottom-i.value-o.height;o.fixed=i.value>p.top&&m.bottom>0,o.transform=w<0?w:0}else o.fixed=i.value>p.top;else{const{clientHeight:m}=document.documentElement;if(f){const w=Be(f),y=m-w.top-i.value-o.height;o.fixed=m-i.value<p.bottom&&m>w.top,o.transform=y<0?-y:0}else o.fixed=m-i.value<p.bottom}u(_)};return oe(()=>o.fixed,f=>t("change",f)),at("scroll",d,{target:s,passive:!0}),fv(r,d),oe([pn,en],()=>{!r.value||es(r)||!o.fixed||(a.value=!0,Ae(()=>{const f=Be(r);o.width=f.width,o.height=f.height,a.value=!1}))}),()=>{var f;return h("div",{ref:r,style:l.value},[h("div",{class:fk({fixed:o.fixed&&!a.value}),style:c.value},[(f=n.default)==null?void 0:f.call(n)])])}}});const Cu=te(hk),[gv,ba]=J("swipe"),mv={loop:K,width:ee,height:ee,vertical:Boolean,autoplay:ue(0),duration:ue(500),touchable:K,lazyRender:Boolean,initialSwipe:ue(0),indicatorColor:String,showIndicators:K,stopPropagation:K},vv=Symbol(gv);var gk=Y({name:gv,props:mv,emits:["change","dragStart","dragEnd"],setup(e,{emit:t,slots:n}){const r=U(),s=U(),o=Je({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let a=!1;const i=sn(),{children:l,linkChildren:c}=Ot(vv),u=M(()=>l.length),d=M(()=>o[e.vertical?"height":"width"]),f=M(()=>e.vertical?i.deltaY.value:i.deltaX.value),g=M(()=>o.rect?(e.vertical?o.rect.height:o.rect.width)-d.value*u.value:0),p=M(()=>d.value?Math.ceil(Math.abs(g.value)/d.value):u.value),_=M(()=>u.value*d.value),m=M(()=>(o.active+u.value)%u.value),w=M(()=>{const ae=e.vertical?"vertical":"horizontal";return i.direction.value===ae}),y=M(()=>{const ae={transitionDuration:`${o.swiping?0:e.duration}ms`,transform:`translate${e.vertical?"Y":"X"}(${+o.offset.toFixed(2)}px)`};if(d.value){const F=e.vertical?"height":"width",Q=e.vertical?"width":"height";ae[F]=`${_.value}px`,ae[Q]=e[Q]?`${e[Q]}px`:""}return ae}),v=ae=>{const{active:F}=o;return ae?e.loop?ht(F+ae,-1,u.value):ht(F+ae,0,p.value):F},S=(ae,F=0)=>{let Q=ae*d.value;e.loop||(Q=Math.min(Q,-g.value));let ve=F-Q;return e.loop||(ve=ht(ve,g.value,0)),ve},b=({pace:ae=0,offset:F=0,emitChange:Q})=>{if(u.value<=1)return;const{active:ve}=o,W=v(ae),ie=S(W,F);if(e.loop){if(l[0]&&ie!==g.value){const P=ie<g.value;l[0].setOffset(P?_.value:0)}if(l[u.value-1]&&ie!==0){const P=ie>0;l[u.value-1].setOffset(P?-_.value:0)}}o.active=W,o.offset=ie,Q&&W!==ve&&t("change",m.value)},x=()=>{o.swiping=!0,o.active<=-1?b({pace:u.value}):o.active>=u.value&&b({pace:-u.value})},O=()=>{x(),i.reset(),Cr(()=>{o.swiping=!1,b({pace:-1,emitChange:!0})})},C=()=>{x(),i.reset(),Cr(()=>{o.swiping=!1,b({pace:1,emitChange:!0})})};let R;const D=()=>clearTimeout(R),T=()=>{D(),+e.autoplay>0&&u.value>1&&(R=setTimeout(()=>{C(),T()},+e.autoplay))},E=(ae=+e.initialSwipe)=>{if(!r.value)return;const F=()=>{var Q,ve;if(!es(r)){const W={width:r.value.offsetWidth,height:r.value.offsetHeight};o.rect=W,o.width=+((Q=e.width)!=null?Q:W.width),o.height=+((ve=e.height)!=null?ve:W.height)}u.value&&(ae=Math.min(u.value-1,ae),ae===-1&&(ae=u.value-1)),o.active=ae,o.swiping=!0,o.offset=S(ae),l.forEach(W=>{W.setOffset(0)}),T()};es(r)?Ae().then(F):F()},k=()=>E(o.active);let $;const N=ae=>{!e.touchable||ae.touches.length>1||(i.start(ae),a=!1,$=Date.now(),D(),x())},L=ae=>{e.touchable&&o.swiping&&(i.move(ae),w.value&&(!e.loop&&(o.active===0&&f.value>0||o.active===u.value-1&&f.value<0)||(Ke(ae,e.stopPropagation),b({offset:f.value}),a||(t("dragStart",{index:m.value}),a=!0))))},H=()=>{if(!e.touchable||!o.swiping)return;const ae=Date.now()-$,F=f.value/ae;if((Math.abs(F)>.25||Math.abs(f.value)>d.value/2)&&w.value){const ve=e.vertical?i.offsetY.value:i.offsetX.value;let W=0;e.loop?W=ve>0?f.value>0?-1:1:0:W=-Math[f.value>0?"ceil":"floor"](f.value/d.value),b({pace:W,emitChange:!0})}else f.value&&b({pace:0});a=!1,o.swiping=!1,t("dragEnd",{index:m.value}),T()},X=(ae,F={})=>{x(),i.reset(),Cr(()=>{let Q;e.loop&&ae===u.value?Q=o.active===0?0:ae:Q=ae%u.value,F.immediate?Cr(()=>{o.swiping=!1}):o.swiping=!1,b({pace:Q-o.active,emitChange:!0})})},me=(ae,F)=>{const Q=F===m.value,ve=Q?{backgroundColor:e.indicatorColor}:void 0;return h("i",{style:ve,class:ba("indicator",{active:Q})},null)},Se=()=>{if(n.indicator)return n.indicator({active:m.value,total:u.value});if(e.showIndicators&&u.value>1)return h("div",{class:ba("indicators",{vertical:e.vertical})},[Array(u.value).fill("").map(me)])};return Re({prev:O,next:C,state:o,resize:k,swipeTo:X}),c({size:d,props:e,count:u,activeIndicator:m}),oe(()=>e.initialSwipe,ae=>E(+ae)),oe(u,()=>E(o.active)),oe(()=>e.autoplay,T),oe([pn,en,()=>e.width,()=>e.height],k),oe(nx(),ae=>{ae==="visible"?T():D()}),Ze(E),Nn(()=>E(o.active)),Ni(()=>E(o.active)),Ln(D),Mn(D),at("touchmove",L,{target:s}),()=>{var ae;return h("div",{ref:r,class:ba()},[h("div",{ref:s,style:y.value,class:ba("track",{vertical:e.vertical}),onTouchstartPassive:N,onTouchend:H,onTouchcancel:H},[(ae=n.default)==null?void 0:ae.call(n)]),Se()])}}});const ji=te(gk),[mk,Lf]=J("tabs");var vk=Y({name:mk,props:{count:gt(Number),inited:Boolean,animated:Boolean,duration:gt(ee),swipeable:Boolean,lazyRender:Boolean,currentIndex:gt(Number)},emits:["change"],setup(e,{emit:t,slots:n}){const r=U(),s=i=>t("change",i),o=()=>{var i;const l=(i=n.default)==null?void 0:i.call(n);return e.animated||e.swipeable?h(ji,{ref:r,loop:!1,class:Lf("track"),duration:+e.duration*1e3,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:s},{default:()=>[l]}):l},a=i=>{const l=r.value;l&&l.state.active!==i&&l.swipeTo(i,{immediate:!e.inited})};return oe(()=>e.currentIndex,a),Ze(()=>{a(e.currentIndex)}),Re({swipeRef:r}),()=>h("div",{class:Lf("content",{animated:e.animated||e.swipeable})},[o()])}});const[yv,wa]=J("tabs"),pv={type:ne("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:ue(0),duration:ue(.3),animated:Boolean,ellipsis:K,swipeable:Boolean,scrollspy:Boolean,offsetTop:ue(0),background:String,lazyRender:K,showHeader:K,lineWidth:ee,lineHeight:ee,beforeChange:Function,swipeThreshold:ue(5),titleActiveColor:String,titleInactiveColor:String},bv=Symbol(yv);var yk=Y({name:yv,props:pv,emits:["change","scroll","rendered","clickTab","update:active"],setup(e,{emit:t,slots:n}){let r,s,o,a,i;const l=U(),c=U(),u=U(),d=U(),f=Zs(),g=Js(l),[p,_]=na(),{children:m,linkChildren:w}=Ot(bv),y=Je({inited:!1,position:"",lineStyle:{},currentIndex:-1}),v=M(()=>m.length>+e.swipeThreshold||!e.ellipsis||e.shrink),S=M(()=>({borderColor:e.color,background:e.background})),b=(W,ie)=>{var P;return(P=W.name)!=null?P:ie},x=M(()=>{const W=m[y.currentIndex];if(W)return b(W,y.currentIndex)}),O=M(()=>vu(e.offsetTop)),C=M(()=>e.sticky?O.value+r:0),R=W=>{const ie=c.value,P=p.value;if(!v.value||!ie||!P||!P[y.currentIndex])return;const z=P[y.currentIndex].$el,V=z.offsetLeft-(ie.offsetWidth-z.offsetWidth)/2;a&&a(),a=lk(ie,V,W?0:+e.duration)},D=()=>{const W=y.inited;Ae(()=>{const ie=p.value;if(!ie||!ie[y.currentIndex]||e.type!=="line"||es(l.value))return;const P=ie[y.currentIndex].$el,{lineWidth:z,lineHeight:V}=e,re=P.offsetLeft+P.offsetWidth/2,he={width:Ce(z),backgroundColor:e.color,transform:`translateX(${re}px) translateX(-50%)`};if(W&&(he.transitionDuration=`${e.duration}s`),Pe(V)){const I=Ce(V);he.height=I,he.borderRadius=I}y.lineStyle=he})},T=W=>{const ie=W<y.currentIndex?-1:1;for(;W>=0&&W<m.length;){if(!m[W].disabled)return W;W+=ie}},E=(W,ie)=>{const P=T(W);if(!Pe(P))return;const z=m[P],V=b(z,P),re=y.currentIndex!==null;y.currentIndex!==P&&(y.currentIndex=P,ie||R(),D()),V!==e.active&&(t("update:active",V),re&&t("change",V,z.title)),o&&!e.scrollspy&&Yo(Math.ceil(Ef(l.value)-O.value))},k=(W,ie)=>{const P=m.findIndex((z,V)=>b(z,V)===W);E(P===-1?0:P,ie)},$=(W=!1)=>{if(e.scrollspy){const ie=m[y.currentIndex].$el;if(ie&&g.value){const P=Ef(ie,g.value)-C.value;s=!0,i&&i(),i=ck(g.value,P,W?0:+e.duration,()=>{s=!1})}}},N=(W,ie,P)=>{const{title:z,disabled:V}=m[ie],re=b(m[ie],ie);V||(Pr(e.beforeChange,{args:[re],done:()=>{E(ie),$()}}),zm(W)),t("clickTab",{name:re,title:z,event:P,disabled:V})},L=W=>{o=W.isFixed,t("scroll",W)},H=W=>{Ae(()=>{k(W),$(!0)})},X=()=>{for(let W=0;W<m.length;W++){const{top:ie}=Be(m[W].$el);if(ie>C.value)return W===0?0:W-1}return m.length-1},me=()=>{if(e.scrollspy&&!s){const W=X();E(W)}},Se=()=>{if(e.type==="line"&&m.length)return h("div",{class:wa("line"),style:y.lineStyle},null)},ae=()=>{var W,ie,P;const{type:z,border:V,sticky:re}=e,he=[h("div",{ref:re?void 0:u,class:[wa("wrap"),{[Bi]:z==="line"&&V}]},[h("div",{ref:c,role:"tablist",class:wa("nav",[z,{shrink:e.shrink,complete:v.value}]),style:S.value,"aria-orientation":"horizontal"},[(W=n["nav-left"])==null?void 0:W.call(n),m.map(I=>I.renderTitle(N)),Se(),(ie=n["nav-right"])==null?void 0:ie.call(n)])]),(P=n["nav-bottom"])==null?void 0:P.call(n)];return re?h("div",{ref:u},[he]):he},F=()=>{D(),Ae(()=>{var W,ie;R(!0),(ie=(W=d.value)==null?void 0:W.swipeRef.value)==null||ie.resize()})};oe(()=>[e.color,e.duration,e.lineWidth,e.lineHeight],D),oe(pn,F),oe(()=>e.active,W=>{W!==x.value&&k(W)}),oe(()=>m.length,()=>{y.inited&&(k(e.active),D(),Ae(()=>{R(!0)}))});const Q=()=>{k(e.active,!0),Ae(()=>{y.inited=!0,u.value&&(r=Be(u.value).height),R(!0)})},ve=(W,ie)=>t("rendered",W,ie);return Re({resize:F,scrollTo:H}),Nn(D),Ni(D),Ys(Q),fv(l,D),at("scroll",me,{target:g,passive:!0}),w({id:f,props:e,setLine:D,scrollable:v,onRendered:ve,currentName:x,setTitleRefs:_,scrollIntoView:R}),()=>h("div",{ref:l,class:wa([e.type])},[e.showHeader?e.sticky?h(Cu,{container:l.value,offsetTop:O.value,onScroll:L},{default:()=>[ae()]}):ae():null,h(vk,{ref:d,count:m.length,inited:y.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:y.currentIndex,onChange:E},{default:()=>{var W;return[(W=n.default)==null?void 0:W.call(n)]}})])}});const pk=Symbol(),wv=Symbol(),xu=()=>wt(wv,null),bk=e=>{const t=xu();$n(pk,e),$n(wv,M(()=>(t==null||t.value)&&e.value))},[wk,Mf]=J("tab"),_k=Y({name:wk,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:ee,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:K},setup(e,{slots:t}){const n=M(()=>{const s={},{type:o,color:a,disabled:i,isActive:l,activeColor:c,inactiveColor:u}=e;a&&o==="card"&&(s.borderColor=a,i||(l?s.backgroundColor=a:s.color=a));const f=l?c:u;return f&&(s.color=f),s}),r=()=>{const s=h("span",{class:Mf("text",{ellipsis:!e.scrollable})},[t.title?t.title():e.title]);return e.dot||Pe(e.badge)&&e.badge!==""?h($r,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[s]}):s};return()=>h("div",{id:e.id,role:"tab",class:[Mf([e.type,{grow:e.scrollable&&!e.shrink,shrink:e.shrink,active:e.isActive,disabled:e.disabled}])],style:n.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls,"data-allow-mismatch":"attribute"},[r()])}}),[Sk,Ek]=J("swipe-item");var Tk=Y({name:Sk,setup(e,{slots:t}){let n;const r=Je({offset:0,inited:!1,mounted:!1}),{parent:s,index:o}=Et(vv);if(!s)return;const a=M(()=>{const c={},{vertical:u}=s.props;return s.size.value&&(c[u?"height":"width"]=`${s.size.value}px`),r.offset&&(c.transform=`translate${u?"Y":"X"}(${r.offset}px)`),c}),i=M(()=>{const{loop:c,lazyRender:u}=s.props;if(!u||n)return!0;if(!r.mounted)return!1;const d=s.activeIndicator.value,f=s.count.value-1,g=d===0&&c?f:d-1,p=d===f&&c?0:d+1;return n=o.value===d||o.value===g||o.value===p,n}),l=c=>{r.offset=c};return Ze(()=>{Ae(()=>{r.mounted=!0})}),Re({setOffset:l}),()=>{var c;return h("div",{class:Ek(),style:a.value},[i.value?(c=t.default)==null?void 0:c.call(t):null])}}});const Ui=te(Tk),[Ck,Pl]=J("tab"),_v=ge({},Ir,{dot:Boolean,name:ee,badge:ee,title:String,disabled:Boolean,titleClass:Qe,titleStyle:[String,Object],showZeroBadge:K});var xk=Y({name:Ck,props:_v,setup(e,{slots:t}){const n=Zs(),r=U(!1),s=Yt(),{parent:o,index:a}=Et(bv);if(!o)return;const i=()=>{var p;return(p=e.name)!=null?p:a.value},l=()=>{r.value=!0,o.props.lazyRender&&Ae(()=>{o.onRendered(i(),e.title)})},c=M(()=>{const p=i()===o.currentName.value;return p&&!r.value&&l(),p}),u=U(""),d=U("");Ks(()=>{const{titleClass:p,titleStyle:_}=e;u.value=p?pi(p):"",d.value=_&&typeof _!="string"?Iw(yi(_)):_});const f=p=>h(_k,Oe({key:n,id:`${o.id}-${a.value}`,ref:o.setTitleRefs(a.value),style:d.value,class:u.value,isActive:c.value,controls:n,scrollable:o.scrollable.value,activeColor:o.props.titleActiveColor,inactiveColor:o.props.titleInactiveColor,onClick:_=>p(s.proxy,a.value,_)},De(o.props,["type","color","shrink"]),De(e,["dot","badge","title","disabled","showZeroBadge"])),{title:t.title}),g=U(!c.value);return oe(c,p=>{p?g.value=!1:Cr(()=>{g.value=!0})}),oe(()=>e.title,()=>{o.setLine(),o.scrollIntoView()}),bk(c),Re({id:n,renderTitle:f}),()=>{var p;const _=`${o.id}-${a.value}`,{animated:m,swipeable:w,scrollspy:y,lazyRender:v}=o.props;if(!t.default&&!m)return;const S=y||c.value;if(m||w)return h(Ui,{id:n,role:"tabpanel",class:Pl("panel-wrapper",{inactive:g.value}),tabindex:c.value?0:-1,"aria-hidden":!c.value,"aria-labelledby":_,"data-allow-mismatch":"attribute"},{default:()=>{var O;return[h("div",{class:Pl("panel")},[(O=t.default)==null?void 0:O.call(t)])]}});const x=r.value||y||!v?(p=t.default)==null?void 0:p.call(t):null;return mt(h("div",{id:n,role:"tabpanel",class:Pl("panel"),tabindex:S?0:-1,"aria-labelledby":_,"data-allow-mismatch":"attribute"},[x]),[[_t,S]])}}});const zs=te(xk),ra=te(yk),[Sv,Il]=J("picker-group"),Ev=Symbol(Sv),Tv=ge({tabs:Xe(),activeTab:ue(0),nextStepText:String,showToolbar:K},Mi);var kk=Y({name:Sv,props:Tv,emits:["confirm","cancel","update:activeTab"],setup(e,{emit:t,slots:n}){const r=Tu(()=>e.activeTab,c=>t("update:activeTab",c)),{children:s,linkChildren:o}=Ot(Ev);o();const a=()=>+r.value<e.tabs.length-1&&e.nextStepText,i=()=>{a()?r.value=+r.value+1:t("confirm",s.map(c=>c.confirm()))},l=()=>t("cancel");return()=>{var c,u;let d=(u=(c=n.default)==null?void 0:c.call(n))==null?void 0:u.filter(g=>g.type!==bt).map(g=>g.type===lt?g.children:g);d&&(d=WC(d));const f=a()?e.nextStepText:e.confirmButtonText;return h("div",{class:Il()},[e.showToolbar?h(dv,{title:e.title,cancelButtonText:e.cancelButtonText,confirmButtonText:f,onConfirm:i,onCancel:l},De(n,uv)):null,h(ra,{active:r.value,"onUpdate:active":g=>r.value=g,class:Il("tabs"),shrink:!0,animated:!0,lazyRender:!1},{default:()=>[e.tabs.map((g,p)=>h(zs,{title:g,titleClass:Il("tab-title")},{default:()=>[d==null?void 0:d[p]]}))]})])}}});const Vi=ge({loading:Boolean,readonly:Boolean,allowHtml:Boolean,optionHeight:ue(44),showToolbar:K,swipeDuration:ue(1e3),visibleOptionNum:ue(6)},Mi),Cv=ge({},Vi,{columns:Xe(),modelValue:Xe(),toolbarPosition:ne("top"),columnsFieldNames:Object});var Ak=Y({name:Qx,props:Cv,emits:["confirm","cancel","change","scrollInto","clickOption","update:modelValue"],setup(e,{emit:t,slots:n}){const r=U(),s=U(e.modelValue.slice(0)),{parent:o}=Et(Ev),{children:a,linkChildren:i}=Ot(cv);i();const l=M(()=>rk(e.columnsFieldNames)),c=M(()=>vu(e.optionHeight)),u=M(()=>ek(e.columns,l.value)),d=M(()=>{const{columns:E}=e;switch(u.value){case"multiple":return E;case"cascade":return tk(E,l.value,s);default:return[E]}}),f=M(()=>d.value.some(E=>E.length)),g=M(()=>d.value.map((E,k)=>Oc(E,s.value[k],l.value))),p=M(()=>d.value.map((E,k)=>E.findIndex($=>$[l.value.value]===s.value[k]))),_=(E,k)=>{if(s.value[E]!==k){const $=s.value.slice(0);$[E]=k,s.value=$}},m=()=>({selectedValues:s.value.slice(0),selectedOptions:g.value,selectedIndexes:p.value}),w=(E,k)=>{_(k,E),u.value==="cascade"&&s.value.forEach(($,N)=>{const L=d.value[N];Df(L,$,l.value)||_(N,L.length?L[0][l.value.value]:void 0)}),Ae(()=>{t("change",ge({columnIndex:k},m()))})},y=(E,k)=>{const $={columnIndex:k,currentOption:E};t("clickOption",ge(m(),$)),t("scrollInto",$)},v=()=>{a.forEach(k=>k.stopMomentum());const E=m();return Ae(()=>{const k=m();t("confirm",k)}),E},S=()=>t("cancel",m()),b=()=>d.value.map((E,k)=>h(ok,{value:s.value[k],fields:l.value,options:E,readonly:e.readonly,allowHtml:e.allowHtml,optionHeight:c.value,swipeDuration:e.swipeDuration,visibleOptionNum:e.visibleOptionNum,onChange:$=>w($,k),onClickOption:$=>y($,k),onScrollInto:$=>{t("scrollInto",{currentOption:$,columnIndex:k})}},{option:n.option})),x=E=>{if(f.value){const k={height:`${c.value}px`},$={backgroundSize:`100% ${(E-c.value)/2}px`};return[h("div",{class:Jn("mask"),style:$},null),h("div",{class:[bx,Jn("frame")],style:k},null)]}},O=()=>{const E=c.value*+e.visibleOptionNum,k={height:`${E}px`};return!e.loading&&!f.value&&n.empty?n.empty():h("div",{ref:r,class:Jn("columns"),style:k},[b(),x(E)])},C=()=>{if(e.showToolbar&&!o)return h(dv,Oe(De(e,ik),{onConfirm:v,onCancel:S}),De(n,uv))},R=E=>{E.forEach((k,$)=>{k.length&&!Df(k,s.value[$],l.value)&&_($,iv(k)[l.value.value])})};oe(d,E=>R(E),{immediate:!0});let D;return oe(()=>e.modelValue,E=>{!Dn(E,s.value)&&!Dn(E,D)&&(s.value=E.slice(0),D=E.slice(0)),e.modelValue.length===0&&R(d.value)},{deep:!0}),oe(s,E=>{Dn(E,e.modelValue)||(D=E.slice(0),t("update:modelValue",D))},{immediate:!0}),at("touchmove",Ke,{target:r}),Re({confirm:v,getSelectedOptions:()=>g.value}),()=>{var E,k;return h("div",{class:Jn()},[e.toolbarPosition==="top"?C():null,e.loading?h(rn,{class:Jn("loading")},null):null,(E=n["columns-top"])==null?void 0:E.call(n),O(),(k=n["columns-bottom"])==null?void 0:k.call(n),e.toolbarPosition==="bottom"?C():null])}}});const Ns="000000",Ok=["title","cancel","confirm","toolbar","columns-top","columns-bottom"],xv=["title","loading","readonly","optionHeight","swipeDuration","visibleOptionNum","cancelButtonText","confirmButtonText"],hr=(e="",t=Ns,n=void 0)=>({text:e,value:t,children:n});function Rk({areaList:e,columnsNum:t,columnsPlaceholder:n}){const{city_list:r={},county_list:s={},province_list:o={}}=e,a=+t>1,i=+t>2,l=()=>{if(a)return n.length>1?[hr(n[1],Ns,i?[]:void 0)]:[]},c=new Map;Object.keys(o).forEach(f=>{c.set(f.slice(0,2),hr(o[f],f,l()))});const u=new Map;if(a){const f=()=>{if(i)return n.length>2?[hr(n[2])]:[]};Object.keys(r).forEach(g=>{const p=hr(r[g],g,f());u.set(g.slice(0,4),p);const _=c.get(g.slice(0,2));_&&_.children.push(p)})}i&&Object.keys(s).forEach(f=>{const g=u.get(f.slice(0,4));g&&g.children.push(hr(s[f],f))});const d=Array.from(c.values());if(n.length){const f=i?[hr(n[2])]:void 0,g=a?[hr(n[1],Ns,f)]:void 0;d.unshift(hr(n[0],Ns,g))}return d}const sa=te(Ak),[Pk,Ik]=J("area"),kv=ge({},De(Vi,xv),{modelValue:String,columnsNum:ue(3),columnsPlaceholder:Xe(),areaList:{type:Object,default:()=>({})}});var $k=Y({name:Pk,props:kv,emits:["change","confirm","cancel","update:modelValue"],setup(e,{emit:t,slots:n}){const r=U([]),s=U(),o=M(()=>Rk(e)),a=(...c)=>t("change",...c),i=(...c)=>t("cancel",...c),l=(...c)=>t("confirm",...c);return oe(r,c=>{const u=c.length?c[c.length-1]:"";u&&u!==e.modelValue&&t("update:modelValue",u)},{deep:!0}),oe(()=>e.modelValue,c=>{if(c){const u=r.value.length?r.value[r.value.length-1]:"";c!==u&&(r.value=[`${c.slice(0,2)}0000`,`${c.slice(0,4)}00`,c].slice(0,+e.columnsNum))}else r.value=[]},{immediate:!0}),Re({confirm:()=>{var c;return(c=s.value)==null?void 0:c.confirm()},getSelectedOptions:()=>{var c;return((c=s.value)==null?void 0:c.getSelectedOptions())||[]}}),()=>h(sa,Oe({ref:s,modelValue:r.value,"onUpdate:modelValue":c=>r.value=c,class:Ik(),columns:o.value,onChange:a,onCancel:i,onConfirm:l},De(e,xv)),De(n,Ok))}});const ku=te($k),[Dk,hs]=J("cell"),Fi={tag:ne("div"),icon:String,size:String,title:ee,value:ee,label:ee,center:Boolean,isLink:Boolean,border:K,iconPrefix:String,valueClass:Qe,labelClass:Qe,titleClass:Qe,titleStyle:null,arrowDirection:String,required:{type:[Boolean,String],default:null},clickable:{type:Boolean,default:null}},Av=ge({},Fi,Ir);var Bk=Y({name:Dk,props:Av,setup(e,{slots:t}){const n=rs(),r=()=>{if(t.label||Pe(e.label))return h("div",{class:[hs("label"),e.labelClass]},[t.label?t.label():e.label])},s=()=>{var l;if(t.title||Pe(e.title)){const c=(l=t.title)==null?void 0:l.call(t);return Array.isArray(c)&&c.length===0?void 0:h("div",{class:[hs("title"),e.titleClass],style:e.titleStyle},[c||h("span",null,[e.title]),r()])}},o=()=>{const l=t.value||t.default;if(l||Pe(e.value))return h("div",{class:[hs("value"),e.valueClass]},[l?l():h("span",null,[e.value])])},a=()=>{if(t.icon)return t.icon();if(e.icon)return h(xe,{name:e.icon,class:hs("left-icon"),classPrefix:e.iconPrefix},null)},i=()=>{if(t["right-icon"])return t["right-icon"]();if(e.isLink){const l=e.arrowDirection&&e.arrowDirection!=="right"?`arrow-${e.arrowDirection}`:"arrow";return h(xe,{name:l,class:hs("right-icon")},null)}};return()=>{var l;const{tag:c,size:u,center:d,border:f,isLink:g,required:p}=e,_=(l=e.clickable)!=null?l:g,m={center:d,required:!!p,clickable:_,borderless:!f};return u&&(m[u]=!!u),h(c,{class:hs(m),role:_?"button":void 0,tabindex:_?0:void 0,onClick:n},{default:()=>{var w;return[a(),s(),o(),i(),(w=t.extra)==null?void 0:w.call(t)]}})}}});const an=te(Bk),[Nk,Lk]=J("form"),Ov={colon:Boolean,disabled:Boolean,readonly:Boolean,required:[Boolean,String],showError:Boolean,labelWidth:ee,labelAlign:String,inputAlign:String,scrollToError:Boolean,scrollToErrorPosition:String,validateFirst:Boolean,submitOnEnter:K,showErrorMessage:K,errorMessageAlign:String,validateTrigger:{type:[String,Array],default:"onBlur"}};var Mk=Y({name:Nk,props:Ov,emits:["submit","failed"],setup(e,{emit:t,slots:n}){const{children:r,linkChildren:s}=Ot(Mm),o=m=>m?r.filter(w=>m.includes(w.name)):r,a=m=>new Promise((w,y)=>{const v=[];o(m).reduce((b,x)=>b.then(()=>{if(!v.length)return x.validate().then(O=>{O&&v.push(O)})}),Promise.resolve()).then(()=>{v.length?y(v):w()})}),i=m=>new Promise((w,y)=>{const v=o(m);Promise.all(v.map(S=>S.validate())).then(S=>{S=S.filter(Boolean),S.length?y(S):w()})}),l=m=>{const w=r.find(y=>y.name===m);return w?new Promise((y,v)=>{w.validate().then(S=>{S?v(S):y()})}):Promise.reject()},c=m=>typeof m=="string"?l(m):e.validateFirst?a(m):i(m),u=m=>{typeof m=="string"&&(m=[m]),o(m).forEach(y=>{y.resetValidation()})},d=()=>r.reduce((m,w)=>(m[w.name]=w.getValidationStatus(),m),{}),f=(m,w)=>{r.some(y=>y.name===m?(y.$el.scrollIntoView(w),!0):!1)},g=()=>r.reduce((m,w)=>(w.name!==void 0&&(m[w.name]=w.formValue.value),m),{}),p=()=>{const m=g();c().then(()=>t("submit",m)).catch(w=>{t("failed",{values:m,errors:w});const{scrollToError:y,scrollToErrorPosition:v}=e;y&&w[0].name&&f(w[0].name,v?{block:v}:void 0)})},_=m=>{Ke(m),p()};return s({props:e}),Re({submit:p,validate:c,getValues:g,scrollToField:f,resetValidation:u,getValidationStatus:d}),()=>{var m;return h("form",{class:Lk(),onSubmit:_},[(m=n.default)==null?void 0:m.call(n)])}}});const Hi=te(Mk);function Rv(e){return Array.isArray(e)?!e.length:e===0?!1:!e}function jk(e,t){if(Rv(e)){if(t.required)return!1;if(t.validateEmpty===!1)return!0}return!(t.pattern&&!t.pattern.test(String(e)))}function Uk(e,t){return new Promise(n=>{const r=t.validator(e,t);if(hu(r)){r.then(n);return}n(r)})}function jf(e,t){const{message:n}=t;return Hs(n)?n(e,t):n||""}function Vk({target:e}){e.composing=!0}function Uf({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function Fk(e,t){const n=Zr();e.style.height="auto";let r=e.scrollHeight;if(nn(t)){const{maxHeight:s,minHeight:o}=t;s!==void 0&&(r=Math.min(r,s)),o!==void 0&&(r=Math.max(r,o))}r&&(e.style.height=`${r}px`,Yo(n))}function Hk(e,t){return e==="number"&&(e="text",t!=null||(t="decimal")),e==="digit"&&(e="tel",t!=null||(t="numeric")),{type:e,inputmode:t}}function _a(e){return[...e].length}function $l(e,t){return[...e].slice(0,t).join("")}const[zk,Zt]=J("field"),Au={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:ee,max:Number,min:Number,formatter:Function,clearIcon:ne("clear"),modelValue:ue(""),inputAlign:String,placeholder:String,autocomplete:String,autocapitalize:String,autocorrect:String,errorMessage:String,enterkeyhint:String,clearTrigger:ne("focus"),formatTrigger:ne("onChange"),spellcheck:{type:Boolean,default:null},error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null},inputmode:String},Pv=ge({},Fi,Au,{rows:ee,type:ne("text"),rules:Array,autosize:[Boolean,Object],labelWidth:ee,labelClass:Qe,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var Wk=Y({name:zk,props:Pv,emits:["blur","focus","clear","keypress","clickInput","endValidate","startValidate","clickLeftIcon","clickRightIcon","update:modelValue"],setup(e,{emit:t,slots:n}){const r=Zs(),s=Je({status:"unvalidated",focused:!1,validateMessage:""}),o=U(),a=U(),i=U(),{parent:l}=Et(Mm),c=()=>{var P;return String((P=e.modelValue)!=null?P:"")},u=P=>{if(Pe(e[P]))return e[P];if(l&&Pe(l.props[P]))return l.props[P]},d=M(()=>{const P=u("readonly");if(e.clearable&&!P){const z=c()!=="",V=e.clearTrigger==="always"||e.clearTrigger==="focus"&&s.focused;return z&&V}return!1}),f=M(()=>i.value&&n.input?i.value():e.modelValue),g=M(()=>{var P;const z=u("required");return z==="auto"?(P=e.rules)==null?void 0:P.some(V=>V.required):z}),p=P=>P.reduce((z,V)=>z.then(()=>{if(s.status==="failed")return;let{value:re}=f;if(V.formatter&&(re=V.formatter(re,V)),!jk(re,V)){s.status="failed",s.validateMessage=jf(re,V);return}if(V.validator)return Rv(re)&&V.validateEmpty===!1?void 0:Uk(re,V).then(he=>{he&&typeof he=="string"?(s.status="failed",s.validateMessage=he):he===!1&&(s.status="failed",s.validateMessage=jf(re,V))})}),Promise.resolve()),_=()=>{s.status="unvalidated",s.validateMessage=""},m=()=>t("endValidate",{status:s.status,message:s.validateMessage}),w=(P=e.rules)=>new Promise(z=>{_(),P?(t("startValidate"),p(P).then(()=>{s.status==="failed"?(z({name:e.name,message:s.validateMessage}),m()):(s.status="passed",z(),m())})):z()}),y=P=>{if(l&&e.rules){const{validateTrigger:z}=l.props,V=ni(z).includes(P),re=e.rules.filter(he=>he.trigger?ni(he.trigger).includes(P):V);re.length&&w(re)}},v=P=>{var z;const{maxlength:V}=e;if(Pe(V)&&_a(P)>+V){const re=c();if(re&&_a(re)===+V)return re;const he=(z=o.value)==null?void 0:z.selectionEnd;if(s.focused&&he){const I=[...P],B=I.length-+V;return I.splice(he-B,B),I.join("")}return $l(P,+V)}return P},S=(P,z="onChange")=>{var V,re;const he=P;P=v(P);const I=he.length-P.length;if(e.type==="number"||e.type==="digit"){const j=e.type==="number";if(P=kc(P,j,j),z==="onBlur"&&P!==""&&(e.min!==void 0||e.max!==void 0)){const q=ht(+P,(V=e.min)!=null?V:-1/0,(re=e.max)!=null?re:1/0);+P!==q&&(P=q.toString())}}let B=0;if(e.formatter&&z===e.formatTrigger){const{formatter:j,maxlength:q}=e;if(P=j(P),Pe(q)&&_a(P)>+q&&(P=$l(P,+q)),o.value&&s.focused){const{selectionEnd:Z}=o.value,G=$l(he,Z);B=j(G).length-G.length}}if(o.value&&o.value.value!==P)if(s.focused){let{selectionStart:j,selectionEnd:q}=o.value;if(o.value.value=P,Pe(j)&&Pe(q)){const Z=P.length;I?(j-=I,q-=I):B&&(j+=B,q+=B),o.value.setSelectionRange(Math.min(j,Z),Math.min(q,Z))}}else o.value.value=P;P!==e.modelValue&&t("update:modelValue",P)},b=P=>{P.target.composing||S(P.target.value)},x=()=>{var P;return(P=o.value)==null?void 0:P.blur()},O=()=>{var P;return(P=o.value)==null?void 0:P.focus()},C=()=>{const P=o.value;e.type==="textarea"&&e.autosize&&P&&Fk(P,e.autosize)},R=P=>{s.focused=!0,t("focus",P),Ae(C),u("readonly")&&x()},D=P=>{s.focused=!1,S(c(),"onBlur"),t("blur",P),!u("readonly")&&(y("onBlur"),Ae(C),Im())},T=P=>t("clickInput",P),E=P=>t("clickLeftIcon",P),k=P=>t("clickRightIcon",P),$=P=>{Ke(P),t("update:modelValue",""),t("clear",P)},N=M(()=>{if(typeof e.error=="boolean")return e.error;if(l&&l.props.showError&&s.status==="failed")return!0}),L=M(()=>{const P=u("labelWidth"),z=u("labelAlign");if(P&&z!=="top")return{width:Ce(P)}}),H=P=>{P.keyCode===13&&(!(l&&l.props.submitOnEnter)&&e.type!=="textarea"&&Ke(P),e.type==="search"&&x()),t("keypress",P)},X=()=>e.id||`${r}-input`,me=()=>s.status,Se=()=>{const P=Zt("control",[u("inputAlign"),{error:N.value,custom:!!n.input,"min-height":e.type==="textarea"&&!e.autosize}]);if(n.input)return h("div",{class:P,onClick:T},[n.input()]);const z={id:X(),ref:o,name:e.name,rows:e.rows!==void 0?+e.rows:void 0,class:P,disabled:u("disabled"),readonly:u("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,enterkeyhint:e.enterkeyhint,spellcheck:e.spellcheck,"aria-labelledby":e.label?`${r}-label`:void 0,"data-allow-mismatch":"attribute",onBlur:D,onFocus:R,onInput:b,onClick:T,onChange:Uf,onKeypress:H,onCompositionend:Uf,onCompositionstart:Vk};return e.type==="textarea"?h("textarea",Oe(z,{inputmode:e.inputmode}),null):h("input",Oe(Hk(e.type,e.inputmode),z),null)},ae=()=>{const P=n["left-icon"];if(e.leftIcon||P)return h("div",{class:Zt("left-icon"),onClick:E},[P?P():h(xe,{name:e.leftIcon,classPrefix:e.iconPrefix},null)])},F=()=>{const P=n["right-icon"];if(e.rightIcon||P)return h("div",{class:Zt("right-icon"),onClick:k},[P?P():h(xe,{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},Q=()=>{if(e.showWordLimit&&e.maxlength){const P=_a(c());return h("div",{class:Zt("word-limit")},[h("span",{class:Zt("word-num")},[P]),ru("/"),e.maxlength])}},ve=()=>{if(l&&l.props.showErrorMessage===!1)return;const P=e.errorMessage||s.validateMessage;if(P){const z=n["error-message"],V=u("errorMessageAlign");return h("div",{class:Zt("error-message",V)},[z?z({message:P}):P])}},W=()=>{const P=u("labelWidth"),z=u("labelAlign"),V=u("colon")?":":"";if(n.label)return[n.label(),V];if(e.label)return h("label",{id:`${r}-label`,for:n.input?void 0:X(),"data-allow-mismatch":"attribute",onClick:re=>{Ke(re),O()},style:z==="top"&&P?{width:Ce(P)}:void 0},[e.label+V])},ie=()=>[h("div",{class:Zt("body")},[Se(),d.value&&h(xe,{ref:a,name:e.clearIcon,class:Zt("clear")},null),F(),n.button&&h("div",{class:Zt("button")},[n.button()])]),Q(),ve()];return Re({blur:x,focus:O,validate:w,formValue:f,resetValidation:_,getValidationStatus:me}),$n(Pm,{customValue:i,resetValidation:_,validateWithTrigger:y}),oe(()=>e.modelValue,()=>{S(c()),_(),y("onChange"),Ae(C)}),Ze(()=>{S(c(),e.formatTrigger),Ae(C)}),at("touchstart",$,{target:M(()=>{var P;return(P=a.value)==null?void 0:P.$el})}),()=>{const P=u("disabled"),z=u("labelAlign"),V=ae(),re=()=>{const he=W();return z==="top"?[V,he].filter(Boolean):he||[]};return h(an,{size:e.size,class:Zt({error:N.value,disabled:P,[`label-${z}`]:z}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:L.value,valueClass:Zt("value"),titleClass:[Zt("label",[z,{required:g.value}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:V&&z!=="top"?()=>V:null,title:re,value:ie,extra:n.extra})}}});const Bn=te(Wk);let oo=0;function qk(e){e?(oo||document.body.classList.add("van-toast--unclickable"),oo++):oo&&(oo--,oo||document.body.classList.remove("van-toast--unclickable"))}const[Kk,gs]=J("toast"),Gk=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay","zIndex"],Iv={icon:String,show:Boolean,type:ne("text"),overlay:Boolean,message:ee,iconSize:ee,duration:ft(2e3),position:ne("middle"),teleport:[String,Object],wordBreak:String,className:Qe,iconPrefix:String,transition:ne("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:Qe,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean,zIndex:ee};var $v=Y({name:Kk,props:Iv,emits:["update:show"],setup(e,{emit:t,slots:n}){let r,s=!1;const o=()=>{const d=e.show&&e.forbidClick;s!==d&&(s=d,qk(s))},a=d=>t("update:show",d),i=()=>{e.closeOnClick&&a(!1)},l=()=>clearTimeout(r),c=()=>{const{icon:d,type:f,iconSize:g,iconPrefix:p,loadingType:_}=e;if(d||f==="success"||f==="fail")return h(xe,{name:d||f,size:g,class:gs("icon"),classPrefix:p},null);if(f==="loading")return h(rn,{class:gs("loading"),size:g,type:_},null)},u=()=>{const{type:d,message:f}=e;if(n.message)return h("div",{class:gs("text")},[n.message()]);if(Pe(f)&&f!=="")return d==="html"?h("div",{key:0,class:gs("text"),innerHTML:String(f)},null):h("div",{class:gs("text")},[f])};return oe(()=>[e.show,e.forbidClick],o),oe(()=>[e.show,e.type,e.message,e.duration],()=>{l(),e.show&&e.duration>0&&(r=setTimeout(()=>{a(!1)},e.duration))}),Ze(o),ns(o),()=>h(on,Oe({class:[gs([e.position,e.wordBreak==="normal"?"break-normal":e.wordBreak,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:i,onClosed:l,"onUpdate:show":a},De(e,Gk)),{default:()=>[c(),u()]})}});function zi(){const e=Je({show:!1}),t=s=>{e.show=s},n=s=>{ge(e,s,{transitionAppear:!0}),t(!0)},r=()=>t(!1);return Re({open:n,close:r,toggle:t}),{open:n,close:r,state:e,toggle:t}}function Wi(e){const t=Gg(e),n=document.createElement("div");return document.body.appendChild(n),{instance:t.mount(n),unmount(){t.unmount(),document.body.removeChild(n)}}}const Yk={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let Ps=[],Jk=!1,Vf=ge({},Yk);const Xk=new Map;function Dv(e){return nn(e)?e:{message:e}}function Zk(){const{instance:e}=Wi({setup(){const t=U(""),{open:n,state:r,close:s,toggle:o}=zi(),a=()=>{},i=()=>h($v,Oe(r,{onClosed:a,"onUpdate:show":o}),null);return oe(t,l=>{r.message=l}),Yt().render=i,{open:n,close:s,message:t}}});return e}function Qk(){if(!Ps.length||Jk){const e=Zk();Ps.push(e)}return Ps[Ps.length-1]}function Jo(e={}){if(!Vt)return{};const t=Qk(),n=Dv(e);return t.open(ge({},Vf,Xk.get(n.type||Vf.type),n)),t}const Bv=e=>t=>Jo(ge({type:e},Dv(t))),eA=Bv("loading"),tA=Bv("success"),nA=e=>{Ps.length&&Ps[0].close()},Nv=te($v),[rA,Dl]=J("switch"),Lv={size:ee,loading:Boolean,disabled:Boolean,modelValue:Qe,activeColor:String,inactiveColor:String,activeValue:{type:Qe,default:!0},inactiveValue:{type:Qe,default:!1}};var sA=Y({name:rA,props:Lv,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const r=()=>e.modelValue===e.activeValue,s=()=>{if(!e.disabled&&!e.loading){const a=r()?e.inactiveValue:e.activeValue;t("update:modelValue",a),t("change",a)}},o=()=>{if(e.loading){const a=r()?e.activeColor:e.inactiveColor;return h(rn,{class:Dl("loading"),color:a},null)}if(n.node)return n.node()};return Rr(()=>e.modelValue),()=>{var a;const{size:i,loading:l,disabled:c,activeColor:u,inactiveColor:d}=e,f=r(),g={fontSize:Ce(i),backgroundColor:f?u:d};return h("div",{role:"switch",class:Dl({on:f,loading:l,disabled:c}),style:g,tabindex:c?void 0:0,"aria-checked":f,onClick:s},[h("div",{class:Dl("node")},[o()]),(a=n.background)==null?void 0:a.call(n)])}}});const qi=te(sA),[oA,Ff]=J("address-edit-detail"),Hf=J("address-edit")[2];var aA=Y({name:oA,props:{show:Boolean,rows:ee,value:String,rules:Array,focused:Boolean,maxlength:ee,searchResult:Array,showSearchResult:Boolean},emits:["blur","focus","input","selectSearch"],setup(e,{emit:t}){const n=U(),r=()=>e.focused&&e.searchResult&&e.showSearchResult,s=c=>{t("selectSearch",c),t("input",`${c.address||""} ${c.name||""}`.trim())},o=()=>{if(!r())return;const{searchResult:c}=e;return c.map(u=>h(an,{clickable:!0,key:(u.name||"")+(u.address||""),icon:"location-o",title:u.name,label:u.address,class:Ff("search-item"),border:!1,onClick:()=>s(u)},null))},a=c=>t("blur",c),i=c=>t("focus",c),l=c=>t("input",c);return()=>{if(e.show)return h(lt,null,[h(Bn,{autosize:!0,clearable:!0,ref:n,class:Ff(),rows:e.rows,type:"textarea",rules:e.rules,label:Hf("addressDetail"),border:!r(),maxlength:e.maxlength,modelValue:e.value,placeholder:Hf("addressDetail"),onBlur:a,onFocus:i,"onUpdate:modelValue":l},null),o()])}}});const[iA,ms,Rt]=J("address-edit"),Mv={name:"",tel:"",city:"",county:"",province:"",areaCode:"",isDefault:!1,addressDetail:""},jv={areaList:Object,isSaving:Boolean,isDeleting:Boolean,validator:Function,showArea:K,showDetail:K,showDelete:Boolean,disableArea:Boolean,searchResult:Array,telMaxlength:ee,showSetDefault:Boolean,saveButtonText:String,areaPlaceholder:String,deleteButtonText:String,showSearchResult:Boolean,detailRows:ue(1),detailMaxlength:ue(200),areaColumnsPlaceholder:Xe(),addressInfo:{type:Object,default:()=>ge({},Mv)},telValidator:{type:Function,default:Am}};var lA=Y({name:iA,props:jv,emits:["save","focus","change","delete","clickArea","changeArea","changeDetail","selectSearch","changeDefault"],setup(e,{emit:t,slots:n}){const r=U(),s=Je({}),o=U(!1),a=U(!1),i=M(()=>nn(e.areaList)&&Object.keys(e.areaList).length),l=M(()=>{const{province:x,city:O,county:C,areaCode:R}=s;if(R){const D=[x,O,C];return x&&x===O&&D.splice(1,1),D.filter(Boolean).join("/")}return""}),c=M(()=>{var x;return((x=e.searchResult)==null?void 0:x.length)&&a.value}),u=x=>{a.value=x==="addressDetail",t("focus",x)},d=(x,O)=>{t("change",{key:x,value:O})},f=M(()=>{const{validator:x,telValidator:O}=e,C=(R,D)=>({validator:T=>{if(x){const E=x(R,T);if(E)return E}return T?!0:D}});return{name:[C("name",Rt("nameEmpty"))],tel:[C("tel",Rt("telInvalid")),{validator:O,message:Rt("telInvalid")}],areaCode:[C("areaCode",Rt("areaEmpty"))],addressDetail:[C("addressDetail",Rt("addressEmpty"))]}}),g=()=>t("save",s),p=x=>{s.addressDetail=x,t("changeDetail",x)},_=x=>{s.province=x[0].text,s.city=x[1].text,s.county=x[2].text},m=({selectedValues:x,selectedOptions:O})=>{x.some(C=>C===Ns)?Jo(Rt("areaEmpty")):(o.value=!1,_(O),t("changeArea",O))},w=()=>t("delete",s),y=x=>{s.areaCode=x||""},v=()=>{setTimeout(()=>{a.value=!1})},S=x=>{s.addressDetail=x},b=()=>{if(e.showSetDefault){const x={"right-icon":()=>h(qi,{modelValue:s.isDefault,"onUpdate:modelValue":O=>s.isDefault=O,onChange:O=>t("changeDefault",O)},null)};return mt(h(an,{center:!0,border:!1,title:Rt("defaultAddress"),class:ms("default")},x),[[_t,!c.value]])}};return Re({setAreaCode:y,setAddressDetail:S}),oe(()=>e.addressInfo,x=>{ge(s,Mv,x),Ae(()=>{var O;const C=(O=r.value)==null?void 0:O.getSelectedOptions();C&&C.every(R=>R&&R.value!==Ns)&&_(C)})},{deep:!0,immediate:!0}),()=>{const{disableArea:x}=e;return h(Hi,{class:ms(),onSubmit:g},{default:()=>{var O;return[h("div",{class:ms("fields")},[h(Bn,{modelValue:s.name,"onUpdate:modelValue":[C=>s.name=C,C=>d("name",C)],clearable:!0,label:Rt("name"),rules:f.value.name,placeholder:Rt("name"),onFocus:()=>u("name")},null),h(Bn,{modelValue:s.tel,"onUpdate:modelValue":[C=>s.tel=C,C=>d("tel",C)],clearable:!0,type:"tel",label:Rt("tel"),rules:f.value.tel,maxlength:e.telMaxlength,placeholder:Rt("tel"),onFocus:()=>u("tel")},null),mt(h(Bn,{readonly:!0,label:Rt("area"),"is-link":!x,modelValue:l.value,rules:e.showArea?f.value.areaCode:void 0,placeholder:e.areaPlaceholder||Rt("area"),onFocus:()=>u("areaCode"),onClick:()=>{t("clickArea"),o.value=!x}},null),[[_t,e.showArea]]),h(aA,{show:e.showDetail,rows:e.detailRows,rules:f.value.addressDetail,value:s.addressDetail,focused:a.value,maxlength:e.detailMaxlength,searchResult:e.searchResult,showSearchResult:e.showSearchResult,onBlur:v,onFocus:()=>u("addressDetail"),onInput:p,onSelectSearch:C=>t("selectSearch",C)},null),(O=n.default)==null?void 0:O.call(n)]),b(),mt(h("div",{class:ms("buttons")},[h(St,{block:!0,round:!0,type:"primary",text:e.saveButtonText||Rt("save"),class:ms("button"),loading:e.isSaving,nativeType:"submit"},null),e.showDelete&&h(St,{block:!0,round:!0,class:ms("button"),loading:e.isDeleting,text:e.deleteButtonText||Rt("delete"),onClick:w},null)]),[[_t,!c.value]]),h(on,{show:o.value,"onUpdate:show":C=>o.value=C,round:!0,teleport:"body",position:"bottom",lazyRender:!1},{default:()=>[h(ku,{modelValue:s.areaCode,"onUpdate:modelValue":C=>s.areaCode=C,ref:r,loading:!i.value,areaList:e.areaList,columnsPlaceholder:e.areaColumnsPlaceholder,onConfirm:m,onCancel:()=>{o.value=!1}},null)]})]}})}}});const Uv=te(lA),[Vv,cA]=J("radio-group"),Fv={shape:String,disabled:Boolean,iconSize:ee,direction:String,modelValue:Qe,checkedColor:String},Hv=Symbol(Vv);var uA=Y({name:Vv,props:Fv,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const{linkChildren:r}=Ot(Hv),s=o=>t("update:modelValue",o);return oe(()=>e.modelValue,o=>t("change",o)),r({props:e,updateValue:s}),Rr(()=>e.modelValue),()=>{var o;return h("div",{class:cA([e.direction]),role:"radiogroup"},[(o=n.default)==null?void 0:o.call(n)])}}});const Ki=te(uA),[zv,dA]=J("checkbox-group"),Wv={max:ee,shape:ne("round"),disabled:Boolean,iconSize:ee,direction:String,modelValue:Xe(),checkedColor:String},qv=Symbol(zv);var fA=Y({name:zv,props:Wv,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const{children:r,linkChildren:s}=Ot(qv),o=i=>t("update:modelValue",i),a=(i={})=>{typeof i=="boolean"&&(i={checked:i});const{checked:l,skipDisabled:c}=i,d=r.filter(f=>f.props.bindGroup?f.props.disabled&&c?f.checked.value:l!=null?l:!f.checked.value:!1).map(f=>f.name);o(d)};return oe(()=>e.modelValue,i=>t("change",i)),Re({toggleAll:a}),Rr(()=>e.modelValue),s({props:e,updateValue:o}),()=>{var i;return h("div",{class:dA([e.direction])},[(i=n.default)==null?void 0:i.call(n)])}}});const Ou=te(fA),[hA,zf]=J("tag"),Kv={size:String,mark:Boolean,show:K,type:ne("default"),color:String,plain:Boolean,round:Boolean,textColor:String,closeable:Boolean};var gA=Y({name:hA,props:Kv,emits:["close"],setup(e,{slots:t,emit:n}){const r=a=>{a.stopPropagation(),n("close",a)},s=()=>e.plain?{color:e.textColor||e.color,borderColor:e.color}:{color:e.textColor,background:e.color},o=()=>{var a;const{type:i,mark:l,plain:c,round:u,size:d,closeable:f}=e,g={mark:l,plain:c,round:u};d&&(g[d]=d);const p=f&&h(xe,{name:"cross",class:[zf("close"),At],onClick:r},null);return h("span",{style:s(),class:zf([g,i])},[(a=t.default)==null?void 0:a.call(t),p])};return()=>h(Gs,{name:e.closeable?"van-fade":void 0},{default:()=>[e.show?o():null]})}});const oa=te(gA),Ru={name:Qe,disabled:Boolean,iconSize:ee,modelValue:Qe,checkedColor:String,labelPosition:String,labelDisabled:Boolean};var Gv=Y({props:ge({},Ru,{bem:gt(Function),role:String,shape:String,parent:Object,checked:Boolean,bindGroup:K,indeterminate:{type:Boolean,default:null}}),emits:["click","toggle"],setup(e,{emit:t,slots:n}){const r=U(),s=f=>{if(e.parent&&e.bindGroup)return e.parent.props[f]},o=M(()=>{if(e.parent&&e.bindGroup){const f=s("disabled")||e.disabled;if(e.role==="checkbox"){const g=s("modelValue").length,p=s("max"),_=p&&g>=+p;return f||_&&!e.checked}return f}return e.disabled}),a=M(()=>s("direction")),i=M(()=>{const f=e.checkedColor||s("checkedColor");if(f&&(e.checked||e.indeterminate)&&!o.value)return{borderColor:f,backgroundColor:f}}),l=M(()=>e.shape||s("shape")||"round"),c=f=>{const{target:g}=f,p=r.value,_=p===g||(p==null?void 0:p.contains(g));!o.value&&(_||!e.labelDisabled)&&t("toggle"),t("click",f)},u=()=>{var f,g;const{bem:p,checked:_,indeterminate:m}=e,w=e.iconSize||s("iconSize");return h("div",{ref:r,class:p("icon",[l.value,{disabled:o.value,checked:_,indeterminate:m}]),style:l.value!=="dot"?{fontSize:Ce(w)}:{width:Ce(w),height:Ce(w),borderColor:(f=i.value)==null?void 0:f.borderColor}},[n.icon?n.icon({checked:_,disabled:o.value}):l.value!=="dot"?h(xe,{name:m?"minus":"success",style:i.value},null):h("div",{class:p("icon--dot__icon"),style:{backgroundColor:(g=i.value)==null?void 0:g.backgroundColor}},null)])},d=()=>{const{checked:f}=e;if(n.default)return h("span",{class:e.bem("label",[e.labelPosition,{disabled:o.value}])},[n.default({checked:f,disabled:o.value})])};return()=>{const f=e.labelPosition==="left"?[d(),u()]:[u(),d()];return h("div",{role:e.role,class:e.bem([{disabled:o.value,"label-disabled":e.labelDisabled},a.value]),tabindex:o.value?void 0:0,"aria-checked":e.checked,onClick:c},[f])}}});const Yv=ge({},Ru,{shape:String}),[mA,vA]=J("radio");var yA=Y({name:mA,props:Yv,emits:["update:modelValue"],setup(e,{emit:t,slots:n}){const{parent:r}=Et(Hv),s=()=>(r?r.props.modelValue:e.modelValue)===e.name,o=()=>{r?r.updateValue(e.name):t("update:modelValue",e.name)};return()=>h(Gv,Oe({bem:vA,role:"radio",parent:r,checked:s(),onToggle:o},e),De(n,["default","icon"]))}});const Gi=te(yA),[pA,bA]=J("checkbox"),Jv=ge({},Ru,{shape:String,bindGroup:K,indeterminate:{type:Boolean,default:null}});var wA=Y({name:pA,props:Jv,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const{parent:r}=Et(qv),s=i=>{const{name:l}=e,{max:c,modelValue:u}=r.props,d=u.slice();if(i)!(c&&d.length>=+c)&&!d.includes(l)&&(d.push(l),e.bindGroup&&r.updateValue(d));else{const f=d.indexOf(l);f!==-1&&(d.splice(f,1),e.bindGroup&&r.updateValue(d))}},o=M(()=>r&&e.bindGroup?r.props.modelValue.indexOf(e.name)!==-1:!!e.modelValue),a=(i=!o.value)=>{r&&e.bindGroup?s(i):t("update:modelValue",i),e.indeterminate!==null&&t("change",i)};return oe(()=>e.modelValue,i=>{e.indeterminate===null&&t("change",i)}),Re({toggle:a,props:e,checked:o}),Rr(()=>e.modelValue),()=>h(Gv,Oe({bem:bA,role:"checkbox",parent:r,checked:o.value,onToggle:a},e),De(n,["default","icon"]))}});const Yi=te(wA),[_A,vs]=J("address-item");var SA=Y({name:_A,props:{address:gt(Object),disabled:Boolean,switchable:Boolean,singleChoice:Boolean,defaultTagText:String,rightIcon:ne("edit")},emits:["edit","click","select"],setup(e,{slots:t,emit:n}){const r=i=>{e.switchable&&n("select"),n("click",i)},s=()=>h(xe,{name:e.rightIcon,class:vs("edit"),onClick:i=>{i.stopPropagation(),n("edit"),n("click",i)}},null),o=()=>{if(t.tag)return t.tag(e.address);if(e.address.isDefault&&e.defaultTagText)return h(oa,{type:"primary",round:!0,class:vs("tag")},{default:()=>[e.defaultTagText]})},a=()=>{const{address:i,disabled:l,switchable:c,singleChoice:u}=e,d=[h("div",{class:vs("name")},[`${i.name} ${i.tel}`,o()]),h("div",{class:vs("address")},[i.address])];return c&&!l?u?h(Gi,{name:i.id,iconSize:18},{default:()=>[d]}):h(Yi,{name:i.id,iconSize:18},{default:()=>[d]}):d};return()=>{var i;const{disabled:l}=e;return h("div",{class:vs({disabled:l}),onClick:r},[h(an,{border:!1,titleClass:vs("title")},{title:a,"right-icon":s}),(i=t.bottom)==null?void 0:i.call(t,ge({},e.address,{disabled:l}))])}}});const[EA,Sa,TA]=J("address-list"),Xv={list:Xe(),modelValue:[...ee,Array],switchable:K,disabledText:String,disabledList:Xe(),showAddButton:K,addButtonText:String,defaultTagText:String,rightIcon:ne("edit")};var CA=Y({name:EA,props:Xv,emits:["add","edit","select","clickItem","editDisabled","selectDisabled","update:modelValue"],setup(e,{slots:t,emit:n}){const r=M(()=>!Array.isArray(e.modelValue)),s=(i,l,c)=>{const u=()=>n(c?"editDisabled":"edit",i,l),d=g=>n("clickItem",i,l,{event:g}),f=()=>{if(n(c?"selectDisabled":"select",i,l),!c)if(r.value)n("update:modelValue",i.id);else{const g=e.modelValue;g.includes(i.id)?n("update:modelValue",g.filter(p=>p!==i.id)):n("update:modelValue",[...g,i.id])}};return h(SA,{key:i.id,address:i,disabled:c,switchable:e.switchable,singleChoice:r.value,defaultTagText:e.defaultTagText,rightIcon:e.rightIcon,onEdit:u,onClick:d,onSelect:f},{bottom:t["item-bottom"],tag:t.tag})},o=(i,l)=>{if(i)return i.map((c,u)=>s(c,u,l))},a=()=>e.showAddButton?h("div",{class:[Sa("bottom"),"van-safe-area-bottom"]},[h(St,{round:!0,block:!0,type:"primary",text:e.addButtonText||TA("add"),class:Sa("add"),onClick:()=>n("add")},null)]):void 0;return()=>{var i,l;const c=o(e.list),u=o(e.disabledList,!0),d=e.disabledText&&h("div",{class:Sa("disabled-text")},[e.disabledText]);return h("div",{class:Sa()},[(i=t.top)==null?void 0:i.call(t),!r.value&&Array.isArray(e.modelValue)?h(Ou,{modelValue:e.modelValue},{default:()=>[c]}):h(Ki,{modelValue:e.modelValue},{default:()=>[c]}),d,u,(l=t.default)==null?void 0:l.call(t),a()])}}});const Zv=te(CA);function xA(e,t){let n=null,r=0;return function(...s){if(n)return;const o=Date.now()-r,a=()=>{r=Date.now(),n=!1,e.apply(this,s)};o>=t?a():n=setTimeout(a,t)}}const[kA,Bl]=J("back-top"),Qv={right:ee,bottom:ee,zIndex:ee,target:[String,Object],offset:ue(200),immediate:Boolean,teleport:{type:[String,Object],default:"body"}};var AA=Y({name:kA,inheritAttrs:!1,props:Qv,emits:["click"],setup(e,{emit:t,slots:n,attrs:r}){let s=!1;const o=U(!1),a=U(),i=U(),l=M(()=>ge(cr(e.zIndex),{right:Ce(e.right),bottom:Ce(e.bottom)})),c=g=>{var p;t("click",g),(p=i.value)==null||p.scrollTo({top:0,behavior:e.immediate?"auto":"smooth"})},u=()=>{o.value=i.value?nr(i.value)>=+e.offset:!1},d=()=>{const{target:g}=e;if(typeof g=="string"){const p=document.querySelector(g);if(p)return p}else return g},f=()=>{Vt&&Ae(()=>{i.value=e.target?d():gu(a.value),u()})};return at("scroll",xA(u,100),{target:i}),Ze(f),Nn(()=>{s&&(o.value=!0,s=!1)}),Ln(()=>{o.value&&e.teleport&&(o.value=!1,s=!0)}),oe(()=>e.target,f),()=>{const g=h("div",Oe({ref:e.teleport?void 0:a,class:Bl({active:o.value}),style:l.value,onClick:c},r),[n.default?n.default():h(xe,{name:"back-top",class:Bl("icon")},null)]);return e.teleport?[h("div",{ref:a,class:Bl("placeholder")},null),h(ts,{to:e.teleport},{default:()=>[g]})]:g}}});const ey=te(AA);var OA=(e,t,n)=>new Promise((r,s)=>{var o=l=>{try{i(n.next(l))}catch(c){s(c)}},a=l=>{try{i(n.throw(l))}catch(c){s(c)}},i=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,a);i((n=n.apply(e,t)).next())});const ty={top:ue(10),rows:ue(4),duration:ue(4e3),autoPlay:K,delay:ft(300),modelValue:Xe()},[RA,Wf]=J("barrage");var PA=Y({name:RA,props:ty,emits:["update:modelValue"],setup(e,{emit:t,slots:n}){const r=U(),s=Wf("item"),o=U(0),a=[],i=(_,m=e.delay)=>{const w=document.createElement("span");return w.className=s,w.innerText=String(_),w.style.animationDuration=`${e.duration}ms`,w.style.animationDelay=`${m}ms`,w.style.animationName="van-barrage",w.style.animationTimingFunction="linear",w},l=U(!0),c=U(e.autoPlay),u=({id:_,text:m},w)=>{var y;const v=i(m,l.value?w*e.delay:void 0);!e.autoPlay&&c.value===!1&&(v.style.animationPlayState="paused"),(y=r.value)==null||y.append(v),o.value++;const S=(o.value-1)%+e.rows*v.offsetHeight+ +e.top;v.style.top=`${S}px`,v.dataset.id=String(_),a.push(v),v.addEventListener("animationend",()=>{t("update:modelValue",[...e.modelValue].filter(b=>String(b.id)!==v.dataset.id))})},d=(_,m)=>{const w=new Map(m.map(y=>[y.id,y]));_.forEach((y,v)=>{w.has(y.id)?w.delete(y.id):u(y,v)}),w.forEach(y=>{const v=a.findIndex(S=>S.dataset.id===String(y.id));v>-1&&(a[v].remove(),a.splice(v,1))}),l.value=!1};oe(()=>e.modelValue.slice(),(_,m)=>d(_!=null?_:[],m!=null?m:[]),{deep:!0});const f=U({});return Ze(()=>OA(null,null,function*(){var _;f.value["--move-distance"]=`-${(_=r.value)==null?void 0:_.offsetWidth}px`,yield Ae(),d(e.modelValue,[])})),Re({play:()=>{c.value=!0,a.forEach(_=>{_.style.animationPlayState="running"})},pause:()=>{c.value=!1,a.forEach(_=>{_.style.animationPlayState="paused"})}}),()=>{var _;return h("div",{class:Wf(),ref:r,style:f.value},[(_=n.default)==null?void 0:_.call(n)])}}});const ny=te(PA),[IA,ot,Zn]=J("calendar"),$A=e=>Zn("monthTitle",e.getFullYear(),e.getMonth()+1);function Yr(e,t){const n=e.getFullYear(),r=t.getFullYear();if(n===r){const s=e.getMonth(),o=t.getMonth();return s===o?0:s>o?1:-1}return n>r?1:-1}function Ut(e,t){const n=Yr(e,t);if(n===0){const r=e.getDate(),s=t.getDate();return r===s?0:r>s?1:-1}return n}const Ws=e=>new Date(e),qf=e=>Array.isArray(e)?e.map(Ws):Ws(e);function Pu(e,t){const n=Ws(e);return n.setDate(n.getDate()+t),n}function Iu(e,t){const n=Ws(e);return n.setMonth(n.getMonth()+t),n.getDate()!==e.getDate()&&n.setDate(0),n}function ry(e,t){const n=Ws(e);return n.setFullYear(n.getFullYear()+t),n.getDate()!==e.getDate()&&n.setDate(0),n}const Rc=e=>Pu(e,-1),Pc=e=>Pu(e,1),Kf=e=>Iu(e,-1),Gf=e=>Iu(e,1),Yf=e=>ry(e,-1),Jf=e=>ry(e,1),Ea=()=>{const e=new Date;return e.setHours(0,0,0,0),e};function DA(e){const t=e[0].getTime();return(e[1].getTime()-t)/(1e3*60*60*24)+1}function BA(e,t=0){const n=new Date(e.getFullYear(),e.getMonth()+1,0),r=t+e.getDate()-1,s=t+n.getDate()-1;return Math.floor(r/7)===Math.floor(s/7)}const sy=ge({},Vi,{modelValue:Xe(),filter:Function,formatter:{type:Function,default:(e,t)=>t}}),oy=Object.keys(Vi);function NA(e,t){if(e<0)return[];const n=Array(e);let r=-1;for(;++r<e;)n[r]=t(r);return n}const ay=(e,t)=>32-new Date(e,t-1,32).getDate(),Ls=(e,t,n,r,s,o)=>{const a=NA(t-e+1,i=>{const l=mn(e+i);return r(n,{text:l,value:l})});return s?s(n,a,o):a},iy=(e,t)=>e.map((n,r)=>{const s=t[r];if(s.length){const o=+s[0].value,a=+s[s.length-1].value;return mn(ht(+n,o,a))}return n}),[LA]=J("calendar-day");var MA=Y({name:LA,props:{item:gt(Object),color:String,index:Number,offset:ft(0),rowHeight:String},emits:["click","clickDisabledDate"],setup(e,{emit:t,slots:n}){const r=M(()=>{const{item:c,index:u,color:d,offset:f,rowHeight:g}=e,p={height:g};if(c.type==="placeholder")return p.width="100%",p;if(u===0&&(p.marginLeft=`${100*f/7}%`),d)switch(c.type){case"end":case"start":case"start-end":case"multiple-middle":case"multiple-selected":p.background=d;break;case"middle":p.color=d;break}return c.date&&BA(c.date,f)&&(p.marginBottom=0),p}),s=()=>{e.item.type!=="disabled"?t("click",e.item):t("clickDisabledDate",e.item)},o=()=>{const{topInfo:c}=e.item;if(c||n["top-info"])return h("div",{class:ot("top-info")},[n["top-info"]?n["top-info"](e.item):c])},a=()=>{const{bottomInfo:c}=e.item;if(c||n["bottom-info"])return h("div",{class:ot("bottom-info")},[n["bottom-info"]?n["bottom-info"](e.item):c])},i=()=>n.text?n.text(e.item):e.item.text,l=()=>{const{item:c,color:u,rowHeight:d}=e,{type:f}=c,g=[o(),i(),a()];return f==="selected"?h("div",{class:ot("selected-day"),style:{width:d,height:d,background:u}},[g]):g};return()=>{const{type:c,className:u}=e.item;return c==="placeholder"?h("div",{class:ot("day"),style:r.value},null):h("div",{role:"gridcell",style:r.value,class:[ot("day",c),u],tabindex:c==="disabled"?void 0:-1,onClick:s},[l()])}}});const[jA]=J("calendar-month"),UA={date:gt(Date),type:String,color:String,minDate:Date,maxDate:Date,showMark:Boolean,rowHeight:ee,formatter:Function,lazyRender:Boolean,currentDate:[Date,Array],allowSameDay:Boolean,showSubtitle:Boolean,showMonthTitle:Boolean,firstDayOfWeek:Number};var VA=Y({name:jA,props:UA,emits:["click","clickDisabledDate"],setup(e,{emit:t,slots:n}){const[r,s]=KC(),o=U(),a=U(),i=Vm(a),l=M(()=>$A(e.date)),c=M(()=>Ce(e.rowHeight)),u=M(()=>{const D=e.date.getDate(),E=(e.date.getDay()-D%7+8)%7;return e.firstDayOfWeek?(E+7-e.firstDayOfWeek)%7:E}),d=M(()=>ay(e.date.getFullYear(),e.date.getMonth()+1)),f=M(()=>r.value||!e.lazyRender),g=()=>l.value,p=D=>{const T=E=>e.currentDate.some(k=>Ut(k,E)===0);if(T(D)){const E=Rc(D),k=Pc(D),$=T(E),N=T(k);return $&&N?"multiple-middle":$?"end":N?"start":"multiple-selected"}return""},_=D=>{const[T,E]=e.currentDate;if(!T)return"";const k=Ut(D,T);if(!E)return k===0?"start":"";const $=Ut(D,E);return e.allowSameDay&&k===0&&$===0?"start-end":k===0?"start":$===0?"end":k>0&&$<0?"middle":""},m=D=>{const{type:T,minDate:E,maxDate:k,currentDate:$}=e;if(E&&Ut(D,E)<0||k&&Ut(D,k)>0)return"disabled";if($===null)return"";if(Array.isArray($)){if(T==="multiple")return p(D);if(T==="range")return _(D)}else if(T==="single")return Ut(D,$)===0?"selected":"";return""},w=D=>{if(e.type==="range"){if(D==="start"||D==="end")return Zn(D);if(D==="start-end")return`${Zn("start")}/${Zn("end")}`}},y=()=>{if(e.showMonthTitle)return h("div",{class:ot("month-title")},[n["month-title"]?n["month-title"]({date:e.date,text:l.value}):l.value])},v=()=>{if(e.showMark&&f.value)return h("div",{class:ot("month-mark")},[e.date.getMonth()+1])},S=M(()=>{const D=Math.ceil((d.value+u.value)/7);return Array(D).fill({type:"placeholder"})}),b=M(()=>{const D=[],T=e.date.getFullYear(),E=e.date.getMonth();for(let k=1;k<=d.value;k++){const $=new Date(T,E,k),N=m($);let L={date:$,type:N,text:k,bottomInfo:w(N)};e.formatter&&(L=e.formatter(L)),D.push(L)}return D}),x=M(()=>b.value.filter(D=>D.type==="disabled")),O=(D,T)=>{if(o.value){const E=Be(o.value),k=S.value.length,N=(Math.ceil((T.getDate()+u.value)/7)-1)*E.height/k;ri(D,E.top+N+D.scrollTop-Be(D).top)}},C=(D,T)=>h(MA,{item:D,index:T,color:e.color,offset:u.value,rowHeight:c.value,onClick:E=>t("click",E),onClickDisabledDate:E=>t("clickDisabledDate",E)},De(n,["top-info","bottom-info","text"])),R=()=>h("div",{ref:o,role:"grid",class:ot("days")},[v(),(f.value?b:S).value.map(C)]);return Re({getTitle:g,getHeight:()=>i.value,setVisible:s,scrollToDate:O,disabledDays:x}),()=>h("div",{class:ot("month"),ref:a},[y(),R()])}});const[FA]=J("calendar-header");var HA=Y({name:FA,props:{date:Date,minDate:Date,maxDate:Date,title:String,subtitle:String,showTitle:Boolean,showSubtitle:Boolean,firstDayOfWeek:Number,switchMode:ne("none")},emits:["clickSubtitle","panelChange"],setup(e,{slots:t,emit:n}){const r=M(()=>e.date&&e.minDate&&Yr(Kf(e.date),e.minDate)<0),s=M(()=>e.date&&e.minDate&&Yr(Yf(e.date),e.minDate)<0),o=M(()=>e.date&&e.maxDate&&Yr(Gf(e.date),e.maxDate)>0),a=M(()=>e.date&&e.maxDate&&Yr(Jf(e.date),e.maxDate)>0),i=()=>{if(e.showTitle){const g=e.title||Zn("title"),p=t.title?t.title():g;return h("div",{class:ot("header-title")},[p])}},l=g=>n("clickSubtitle",g),c=g=>n("panelChange",g),u=g=>{const p=e.switchMode==="year-month",_=t[g?"next-month":"prev-month"],m=t[g?"next-year":"prev-year"],w=g?o.value:r.value,y=g?a.value:s.value,v=g?"arrow":"arrow-left",S=g?"arrow-double-right":"arrow-double-left",b=()=>c((g?Gf:Kf)(e.date)),x=()=>c((g?Jf:Yf)(e.date)),O=h("view",{class:ot("header-action",{disabled:w}),onClick:w?void 0:b},[_?_({disabled:w}):h(xe,{class:{[At]:!w},name:v},null)]),C=p&&h("view",{class:ot("header-action",{disabled:y}),onClick:y?void 0:x},[m?m({disabled:y}):h(xe,{class:{[At]:!y},name:S},null)]);return g?[O,C]:[C,O]},d=()=>{if(e.showSubtitle){const g=t.subtitle?t.subtitle({date:e.date,text:e.subtitle}):e.subtitle,p=e.switchMode!=="none";return h("div",{class:ot("header-subtitle",{"with-switch":p}),onClick:l},[p?[u(),h("div",{class:ot("header-subtitle-text")},[g]),u(!0)]:g])}},f=()=>{const{firstDayOfWeek:g}=e,p=Zn("weekdays"),_=[...p.slice(g,7),...p.slice(0,g)];return h("div",{class:ot("weekdays")},[_.map(m=>h("span",{class:ot("weekday")},[m]))])};return()=>h("div",{class:ot("header")},[i(),d(),f()])}});const ly={show:Boolean,type:ne("single"),switchMode:ne("none"),title:String,color:String,round:K,readonly:Boolean,poppable:K,maxRange:ue(null),position:ne("bottom"),teleport:[String,Object],showMark:K,showTitle:K,formatter:Function,rowHeight:ee,confirmText:String,rangePrompt:String,lazyRender:K,showConfirm:K,defaultDate:[Date,Array],allowSameDay:Boolean,showSubtitle:K,closeOnPopstate:K,showRangePrompt:K,confirmDisabledText:String,closeOnClickOverlay:K,safeAreaInsetTop:Boolean,safeAreaInsetBottom:K,minDate:{type:Date,validator:Go},maxDate:{type:Date,validator:Go},firstDayOfWeek:{type:ee,default:0,validator:e=>e>=0&&e<=6}};var zA=Y({name:IA,props:ly,emits:["select","confirm","unselect","monthShow","overRange","update:show","clickSubtitle","clickDisabledDate","clickOverlay","panelChange"],setup(e,{emit:t,slots:n}){const r=M(()=>e.switchMode!=="none"),s=M(()=>!e.minDate&&!r.value?Ea():e.minDate),o=M(()=>!e.maxDate&&!r.value?Iu(Ea(),6):e.maxDate),a=(F,Q=s.value,ve=o.value)=>Q&&Ut(F,Q)===-1?Q:ve&&Ut(F,ve)===1?ve:F,i=(F=e.defaultDate)=>{const{type:Q,allowSameDay:ve}=e;if(F===null)return F;const W=Ea();if(Q==="range"){Array.isArray(F)||(F=[]),F.length===1&&Ut(F[0],W)===1&&(F=[]);const ie=s.value,P=o.value,z=a(F[0]||W,ie,P?ve?P:Rc(P):void 0),V=a(F[1]||(ve?W:Pc(W)),ie?ve?ie:Pc(ie):void 0);return[z,V]}return Q==="multiple"?Array.isArray(F)?F.map(ie=>a(ie)):[a(W)]:((!F||Array.isArray(F))&&(F=W),a(F))},l=()=>{const F=Array.isArray(d.value)?d.value[0]:d.value;return F||a(Ea())};let c;const u=U(),d=U(i()),f=U(l()),g=U(),[p,_]=na(),m=M(()=>e.firstDayOfWeek?+e.firstDayOfWeek%7:0),w=M(()=>{const F=[];if(!s.value||!o.value)return F;const Q=new Date(s.value);Q.setDate(1);do F.push(new Date(Q)),Q.setMonth(Q.getMonth()+1);while(Yr(Q,o.value)!==1);return F}),y=M(()=>{if(d.value){if(e.type==="range")return!d.value[0]||!d.value[1];if(e.type==="multiple")return!d.value.length}return!d.value}),v=()=>d.value,S=()=>{const F=nr(u.value),Q=F+c,ve=w.value.map((V,re)=>p.value[re].getHeight()),W=ve.reduce((V,re)=>V+re,0);if(Q>W&&F>0)return;let ie=0,P;const z=[-1,-1];for(let V=0;V<w.value.length;V++){const re=p.value[V];ie<=Q&&ie+ve[V]>=F&&(z[1]=V,P||(P=re,z[0]=V),p.value[V].showed||(p.value[V].showed=!0,t("monthShow",{date:re.date,title:re.getTitle()}))),ie+=ve[V]}w.value.forEach((V,re)=>{const he=re>=z[0]-1&&re<=z[1]+1;p.value[re].setVisible(he)}),P&&(g.value=P)},b=F=>{r.value?f.value=F:kt(()=>{w.value.some((Q,ve)=>Yr(Q,F)===0?(u.value&&p.value[ve].scrollToDate(u.value,F),!0):!1),S()})},x=()=>{if(!(e.poppable&&!e.show))if(d.value){const F=e.type==="single"?d.value:d.value[0];Go(F)&&b(F)}else r.value||kt(S)},O=()=>{e.poppable&&!e.show||(r.value||kt(()=>{c=Math.floor(Be(u).height)}),x())},C=(F=i())=>{d.value=F,x()},R=F=>{const{maxRange:Q,rangePrompt:ve,showRangePrompt:W}=e;return Q&&DA(F)>+Q?(W&&Jo(ve||Zn("rangePrompt",Q)),t("overRange"),!1):!0},D=F=>{f.value=F,t("panelChange",{date:F})},T=()=>{var F;return t("confirm",(F=d.value)!=null?F:qf(d.value))},E=(F,Q)=>{const ve=W=>{d.value=W,t("select",qf(W))};if(Q&&e.type==="range"&&!R(F)){ve([F[0],Pu(F[0],+e.maxRange-1)]);return}ve(F),Q&&!e.showConfirm&&T()},k=(F,Q,ve)=>{var W;return(W=F.find(ie=>Ut(Q,ie.date)===-1&&Ut(ie.date,ve)===-1))==null?void 0:W.date},$=M(()=>p.value.reduce((F,Q)=>{var ve,W;return F.push(...(W=(ve=Q.disabledDays)==null?void 0:ve.value)!=null?W:[]),F},[])),N=F=>{if(e.readonly||!F.date)return;const{date:Q}=F,{type:ve}=e;if(ve==="range"){if(!d.value){E([Q]);return}const[W,ie]=d.value;if(W&&!ie){const P=Ut(Q,W);if(P===1){const z=k($.value,W,Q);if(z){const V=Rc(z);Ut(W,V)===-1?E([W,V]):E([Q])}else E([W,Q],!0)}else P===-1?E([Q]):e.allowSameDay&&E([Q,Q],!0)}else E([Q])}else if(ve==="multiple"){if(!d.value){E([Q]);return}const W=d.value,ie=W.findIndex(P=>Ut(P,Q)===0);if(ie!==-1){const[P]=W.splice(ie,1);t("unselect",Ws(P))}else e.maxRange&&W.length>=+e.maxRange?Jo(e.rangePrompt||Zn("rangePrompt",e.maxRange)):E([...W,Q])}else E(Q,!0)},L=F=>t("clickOverlay",F),H=F=>t("update:show",F),X=(F,Q)=>{const ve=Q!==0||!e.showSubtitle;return h(VA,Oe({ref:r.value?g:_(Q),date:F,currentDate:d.value,showMonthTitle:ve,firstDayOfWeek:m.value,lazyRender:r.value?!1:e.lazyRender,maxDate:o.value,minDate:s.value},De(e,["type","color","showMark","formatter","rowHeight","showSubtitle","allowSameDay"]),{onClick:N,onClickDisabledDate:W=>t("clickDisabledDate",W)}),De(n,["top-info","bottom-info","month-title","text"]))},me=()=>{if(n.footer)return n.footer();if(e.showConfirm){const F=n["confirm-text"],Q=y.value,ve=Q?e.confirmDisabledText:e.confirmText;return h(St,{round:!0,block:!0,type:"primary",color:e.color,class:ot("confirm"),disabled:Q,nativeType:"button",onClick:T},{default:()=>[F?F({disabled:Q}):ve||Zn("confirm")]})}},Se=()=>h("div",{class:[ot("footer"),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[me()]),ae=()=>{var F,Q;return h("div",{class:ot()},[h(HA,{date:(F=g.value)==null?void 0:F.date,maxDate:o.value,minDate:s.value,title:e.title,subtitle:(Q=g.value)==null?void 0:Q.getTitle(),showTitle:e.showTitle,showSubtitle:e.showSubtitle,switchMode:e.switchMode,firstDayOfWeek:m.value,onClickSubtitle:ve=>t("clickSubtitle",ve),onPanelChange:D},De(n,["title","subtitle","prev-month","prev-year","next-month","next-year"])),h("div",{ref:u,class:ot("body"),onScroll:r.value?void 0:S},[r.value?X(f.value,0):w.value.map(X)]),Se()])};return oe(()=>e.show,O),oe(()=>[e.type,e.minDate,e.maxDate,e.switchMode],()=>C(i(d.value))),oe(()=>e.defaultDate,F=>{C(F)}),Re({reset:C,scrollToDate:b,getSelectedDate:v}),Ys(O),()=>e.poppable?h(on,{show:e.show,class:ot("popup"),round:e.round,position:e.position,closeable:e.showTitle||e.showSubtitle,teleport:e.teleport,closeOnPopstate:e.closeOnPopstate,safeAreaInsetTop:e.safeAreaInsetTop,closeOnClickOverlay:e.closeOnClickOverlay,onClickOverlay:L,"onUpdate:show":H},{default:ae}):ae()}});const cy=te(zA),[WA,ys]=J("image"),uy={src:String,alt:String,fit:String,position:String,round:Boolean,block:Boolean,width:ee,height:ee,radius:ee,lazyLoad:Boolean,iconSize:ee,showError:K,errorIcon:ne("photo-fail"),iconPrefix:String,showLoading:K,loadingIcon:ne("photo"),crossorigin:String,referrerpolicy:String,decoding:String};var qA=Y({name:WA,props:uy,emits:["load","error"],setup(e,{emit:t,slots:n}){const r=U(!1),s=U(!0),o=U(),{$Lazyload:a}=Yt().proxy,i=M(()=>{const m={width:Ce(e.width),height:Ce(e.height)};return Pe(e.radius)&&(m.overflow="hidden",m.borderRadius=Ce(e.radius)),m});oe(()=>e.src,()=>{r.value=!1,s.value=!0});const l=m=>{s.value&&(s.value=!1,t("load",m))},c=()=>{const m=new Event("load");Object.defineProperty(m,"target",{value:o.value,enumerable:!0}),l(m)},u=m=>{r.value=!0,s.value=!1,t("error",m)},d=(m,w,y)=>y?y():h(xe,{name:m,size:e.iconSize,class:w,classPrefix:e.iconPrefix},null),f=()=>{if(s.value&&e.showLoading)return h("div",{class:ys("loading")},[d(e.loadingIcon,ys("loading-icon"),n.loading)]);if(r.value&&e.showError)return h("div",{class:ys("error")},[d(e.errorIcon,ys("error-icon"),n.error)])},g=()=>{if(r.value||!e.src)return;const m={alt:e.alt,class:ys("img"),decoding:e.decoding,style:{objectFit:e.fit,objectPosition:e.position},crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy};return e.lazyLoad?mt(h("img",Oe({ref:o},m),null),[[P0("lazy"),e.src]]):h("img",Oe({ref:o,src:e.src,onLoad:l,onError:u},m),null)},p=({el:m})=>{const w=()=>{m===o.value&&s.value&&c()};o.value?w():Ae(w)},_=({el:m})=>{m===o.value&&!r.value&&u()};return a&&Vt&&(a.$on("loaded",p),a.$on("error",_),Mn(()=>{a.$off("loaded",p),a.$off("error",_)})),Ze(()=>{Ae(()=>{var m;(m=o.value)!=null&&m.complete&&!e.lazyLoad&&c()})}),()=>{var m;return h("div",{class:ys({round:e.round,block:e.block}),style:i.value},[g(),f(),(m=n.default)==null?void 0:m.call(n)])}}});const aa=te(qA),[KA,Pt]=J("card"),dy={tag:String,num:ee,desc:String,thumb:String,title:String,price:ee,centered:Boolean,lazyLoad:Boolean,currency:ne(""),thumbLink:String,originPrice:ee};var GA=Y({name:KA,props:dy,emits:["clickThumb"],setup(e,{slots:t,emit:n}){const r=()=>{if(t.title)return t.title();if(e.title)return h("div",{class:[Pt("title"),"van-multi-ellipsis--l2"]},[e.title])},s=()=>{if(t.tag||e.tag)return h("div",{class:Pt("tag")},[t.tag?t.tag():h(oa,{mark:!0,type:"primary"},{default:()=>[e.tag]})])},o=()=>t.thumb?t.thumb():h(aa,{src:e.thumb,fit:"cover",width:"100%",height:"100%",lazyLoad:e.lazyLoad},null),a=()=>{if(t.thumb||e.thumb)return h("a",{href:e.thumbLink,class:Pt("thumb"),onClick:c=>n("clickThumb",c)},[o(),s()])},i=()=>{if(t.desc)return t.desc();if(e.desc)return h("div",{class:[Pt("desc"),"van-ellipsis"]},[e.desc])},l=()=>{const c=e.price.toString().split(".");return h("div",null,[h("span",{class:Pt("price-currency")},[e.currency]),h("span",{class:Pt("price-integer")},[c[0]]),c.length>1&&h(lt,null,[ru("."),h("span",{class:Pt("price-decimal")},[c[1]])])])};return()=>{var c,u,d;const f=t.num||Pe(e.num),g=t.price||Pe(e.price),p=t["origin-price"]||Pe(e.originPrice),_=f||g||p||t.bottom,m=g&&h("div",{class:Pt("price")},[t.price?t.price():l()]),w=p&&h("div",{class:Pt("origin-price")},[t["origin-price"]?t["origin-price"]():`${e.currency} ${e.originPrice}`]),y=f&&h("div",{class:Pt("num")},[t.num?t.num():`x${e.num}`]),v=t.footer&&h("div",{class:Pt("footer")},[t.footer()]),S=_&&h("div",{class:Pt("bottom")},[(c=t["price-top"])==null?void 0:c.call(t),m,w,y,(u=t.bottom)==null?void 0:u.call(t)]);return h("div",{class:Pt()},[h("div",{class:Pt("header")},[a(),h("div",{class:Pt("content",{centered:e.centered})},[h("div",null,[r(),i(),(d=t.tags)==null?void 0:d.call(t)]),S])]),v])}}});const fy=te(GA),[YA,Fn,JA]=J("cascader"),hy={title:String,options:Xe(),closeable:K,swipeable:K,closeIcon:ne("cross"),showHeader:K,modelValue:ee,fieldNames:Object,placeholder:String,activeColor:String};var XA=Y({name:YA,props:hy,emits:["close","change","finish","clickTab","update:modelValue"],setup(e,{slots:t,emit:n}){const r=U([]),s=U(0),[o,a]=na(),{text:i,value:l,children:c}=ge({text:"text",value:"value",children:"children"},e.fieldNames),u=(b,x)=>{for(const O of b){if(O[l]===x)return[O];if(O[c]){const C=u(O[c],x);if(C)return[O,...C]}}},d=()=>{const{options:b,modelValue:x}=e;if(x!==void 0){const O=u(b,x);if(O){let C=b;r.value=O.map(R=>{const D={options:C,selected:R},T=C.find(E=>E[l]===R[l]);return T&&(C=T[c]),D}),C&&r.value.push({options:C,selected:null}),Ae(()=>{s.value=r.value.length-1});return}}r.value=[{options:b,selected:null}]},f=(b,x)=>{if(b.disabled)return;if(r.value[x].selected=b,r.value.length>x+1&&(r.value=r.value.slice(0,x+1)),b[c]){const R={options:b[c],selected:null};r.value[x+1]?r.value[x+1]=R:r.value.push(R),Ae(()=>{s.value++})}const O=r.value.map(R=>R.selected).filter(Boolean);n("update:modelValue",b[l]);const C={value:b[l],tabIndex:x,selectedOptions:O};n("change",C),b[c]||n("finish",C)},g=()=>n("close"),p=({name:b,title:x})=>n("clickTab",b,x),_=()=>e.showHeader?h("div",{class:Fn("header")},[h("h2",{class:Fn("title")},[t.title?t.title():e.title]),e.closeable?h(xe,{name:e.closeIcon,class:[Fn("close-icon"),At],onClick:g},null):null]):null,m=(b,x,O)=>{const{disabled:C}=b,R=!!(x&&b[l]===x[l]),D=b.color||(R?e.activeColor:void 0),T=t.option?t.option({option:b,selected:R}):h("span",null,[b[i]]);return h("li",{ref:R?a(O):void 0,role:"menuitemradio",class:[Fn("option",{selected:R,disabled:C}),b.className],style:{color:D},tabindex:C?void 0:R?0:-1,"aria-checked":R,"aria-disabled":C||void 0,onClick:()=>f(b,O)},[T,R?h(xe,{name:"success",class:Fn("selected-icon")},null):null])},w=(b,x,O)=>h("ul",{role:"menu",class:Fn("options")},[b.map(C=>m(C,x,O))]),y=(b,x)=>{const{options:O,selected:C}=b,R=e.placeholder||JA("select"),D=C?C[i]:R;return h(zs,{title:D,titleClass:Fn("tab",{unselected:!C})},{default:()=>{var T,E;return[(T=t["options-top"])==null?void 0:T.call(t,{tabIndex:x}),w(O,C,x),(E=t["options-bottom"])==null?void 0:E.call(t,{tabIndex:x})]}})},v=()=>h(ra,{active:s.value,"onUpdate:active":b=>s.value=b,shrink:!0,animated:!0,class:Fn("tabs"),color:e.activeColor,swipeable:e.swipeable,onClickTab:p},{default:()=>[r.value.map(y)]}),S=b=>{const x=b.parentElement;x&&(x.scrollTop=b.offsetTop-(x.offsetHeight-b.offsetHeight)/2)};return d(),oe(s,b=>{const x=o.value[b];x&&S(x)}),oe(()=>e.options,d,{deep:!0}),oe(()=>e.modelValue,b=>{b!==void 0&&r.value.map(O=>{var C;return(C=O.selected)==null?void 0:C[l]}).includes(b)||d()}),()=>h("div",{class:Fn()},[_(),v()])}});const gy=te(XA),[ZA,Xf]=J("cell-group"),my={title:String,inset:Boolean,border:K};var QA=Y({name:ZA,inheritAttrs:!1,props:my,setup(e,{slots:t,attrs:n}){const r=()=>{var o;return h("div",Oe({class:[Xf({inset:e.inset}),{[Bi]:e.border&&!e.inset}]},n,ai()),[(o=t.default)==null?void 0:o.call(t)])},s=()=>h("div",{class:Xf("title",{inset:e.inset})},[t.title?t.title():e.title]);return()=>e.title||t.title?h(lt,null,[s(),r()]):r()}});const vy=te(QA),[eO,Ta]=J("circle");let tO=0;const Zf=e=>Math.min(Math.max(+e,0),100);function nO(e,t){const n=e?1:0;return`M ${t/2} ${t/2} m 0, -500 a 500, 500 0 1, ${n} 0, 1000 a 500, 500 0 1, ${n} 0, -1000`}const yy={text:String,size:ee,fill:ne("none"),rate:ue(100),speed:ue(0),color:[String,Object],clockwise:K,layerColor:String,currentRate:ft(0),strokeWidth:ue(40),strokeLinecap:String,startPosition:ne("top")};var rO=Y({name:eO,props:yy,emits:["update:currentRate"],setup(e,{emit:t,slots:n}){const r=`van-circle-${tO++}`,s=M(()=>+e.strokeWidth+1e3),o=M(()=>nO(e.clockwise,s.value)),a=M(()=>{const f={top:0,right:90,bottom:180,left:270}[e.startPosition];if(f)return{transform:`rotate(${f}deg)`}});oe(()=>e.rate,d=>{let f;const g=Date.now(),p=e.currentRate,_=Zf(d),m=Math.abs((p-_)*1e3/+e.speed),w=()=>{const y=Date.now(),S=Math.min((y-g)/m,1)*(_-p)+p;t("update:currentRate",Zf(parseFloat(S.toFixed(1)))),(_>p?S<_:S>_)&&(f=kt(w))};e.speed?(f&&$i(f),f=kt(w)):t("update:currentRate",_)},{immediate:!0});const i=()=>{const{strokeWidth:f,currentRate:g,strokeLinecap:p}=e,_=3140*g/100,m=nn(e.color)?`url(#${r})`:e.color,w={stroke:m,strokeWidth:`${+f+1}px`,strokeLinecap:p,strokeDasharray:`${_}px 3140px`};return h("path",{d:o.value,style:w,class:Ta("hover"),stroke:m},null)},l=()=>{const d={fill:e.fill,stroke:e.layerColor,strokeWidth:`${e.strokeWidth}px`};return h("path",{class:Ta("layer"),style:d,d:o.value},null)},c=()=>{const{color:d}=e;if(!nn(d))return;const f=Object.keys(d).sort((g,p)=>parseFloat(g)-parseFloat(p)).map((g,p)=>h("stop",{key:p,offset:g,"stop-color":d[g]},null));return h("defs",null,[h("linearGradient",{id:r,x1:"100%",y1:"0%",x2:"0%",y2:"0%"},[f])])},u=()=>{if(n.default)return n.default();if(e.text)return h("div",{class:Ta("text")},[e.text])};return()=>h("div",{class:Ta(),style:lr(e.size)},[h("svg",{viewBox:`0 0 ${s.value} ${s.value}`,style:a.value},[c(),l(),i()]),u()])}});const py=te(rO),[by,sO]=J("row"),wy=Symbol(by),_y={tag:ne("div"),wrap:K,align:String,gutter:{type:[String,Number,Array],default:0},justify:String};var oO=Y({name:by,props:_y,setup(e,{slots:t}){const{children:n,linkChildren:r}=Ot(wy),s=M(()=>{const i=[[]];let l=0;return n.forEach((c,u)=>{l+=Number(c.span),l>24?(i.push([u]),l-=24):i[i.length-1].push(u)}),i}),o=M(()=>{let i=0;Array.isArray(e.gutter)?i=Number(e.gutter[0])||0:i=Number(e.gutter);const l=[];return i&&s.value.forEach(c=>{const u=i*(c.length-1)/c.length;c.forEach((d,f)=>{if(f===0)l.push({right:u});else{const g=i-l[d-1].right,p=u-g;l.push({left:g,right:p})}})}),l}),a=M(()=>{const{gutter:i}=e,l=[];if(Array.isArray(i)&&i.length>1){const c=Number(i[1])||0;if(c<=0)return l;s.value.forEach((u,d)=>{d!==s.value.length-1&&u.forEach(()=>{l.push({bottom:c})})})}return l});return r({spaces:o,verticalSpaces:a}),()=>{const{tag:i,wrap:l,align:c,justify:u}=e;return h(i,{class:sO({[`align-${c}`]:c,[`justify-${u}`]:u,nowrap:!l})},{default:()=>{var d;return[(d=t.default)==null?void 0:d.call(t)]}})}}});const[aO,iO]=J("col"),Sy={tag:ne("div"),span:ue(0),offset:ee};var lO=Y({name:aO,props:Sy,setup(e,{slots:t}){const{parent:n,index:r}=Et(wy),s=M(()=>{if(!n)return;const{spaces:o,verticalSpaces:a}=n;let i={};if(o&&o.value&&o.value[r.value]){const{left:c,right:u}=o.value[r.value];i={paddingLeft:c?`${c}px`:null,paddingRight:u?`${u}px`:null}}const{bottom:l}=a.value[r.value]||{};return ge(i,{marginBottom:l?`${l}px`:null})});return()=>{const{tag:o,span:a,offset:i}=e;return h(o,{style:s.value,class:iO({[a]:a,[`offset-${i}`]:i})},{default:()=>{var l;return[(l=t.default)==null?void 0:l.call(t)]}})}}});const Ey=te(lO),[Ty,cO]=J("collapse"),Cy=Symbol(Ty),xy={border:K,accordion:Boolean,modelValue:{type:[String,Number,Array],default:""}};var uO=Y({name:Ty,props:xy,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const{linkChildren:r,children:s}=Ot(Cy),o=c=>{t("change",c),t("update:modelValue",c)},a=(c,u)=>{const{accordion:d,modelValue:f}=e;o(d?c===f?"":c:u?f.concat(c):f.filter(g=>g!==c))},i=(c={})=>{if(e.accordion)return;typeof c=="boolean"&&(c={expanded:c});const{expanded:u,skipDisabled:d}=c,g=s.filter(p=>p.disabled&&d?p.expanded.value:u!=null?u:!p.expanded.value).map(p=>p.itemName.value);o(g)},l=c=>{const{accordion:u,modelValue:d}=e;return u?d===c:d.includes(c)};return Re({toggleAll:i}),r({toggle:a,isExpanded:l}),()=>{var c;return h("div",{class:[cO(),{[Bi]:e.border}]},[(c=n.default)==null?void 0:c.call(n)])}}});const ky=te(uO),[dO,Ca]=J("collapse-item"),fO=["icon","title","value","label","right-icon"],Ay=ge({},Fi,{name:ee,isLink:K,disabled:Boolean,readonly:Boolean,lazyRender:K});var hO=Y({name:dO,props:Ay,setup(e,{slots:t}){const n=U(),r=U(),{parent:s,index:o}=Et(Cy);if(!s)return;const a=M(()=>{var _;return(_=e.name)!=null?_:o.value}),i=M(()=>s.isExpanded(a.value)),l=U(i.value),c=Su(()=>l.value||!e.lazyRender),u=()=>{i.value?n.value&&(n.value.style.height=""):l.value=!1};oe(i,(_,m)=>{if(m===null)return;_&&(l.value=!0),(_?Ae:kt)(()=>{if(!r.value||!n.value)return;const{offsetHeight:y}=r.value;if(y){const v=`${y}px`;n.value.style.height=_?"0":v,Cr(()=>{n.value&&(n.value.style.height=_?v:"0")})}else u()})});const d=(_=!i.value)=>{s.toggle(a.value,_)},f=()=>{!e.disabled&&!e.readonly&&d()},g=()=>{const{border:_,disabled:m,readonly:w}=e,y=De(e,Object.keys(Fi));return w&&(y.isLink=!1),(m||w)&&(y.clickable=!1),h(an,Oe({role:"button",class:Ca("title",{disabled:m,expanded:i.value,borderless:!_}),"aria-expanded":String(i.value),onClick:f},y),De(t,fO))},p=c(()=>{var _;return mt(h("div",{ref:n,class:Ca("wrapper"),onTransitionend:u},[h("div",{ref:r,class:Ca("content")},[(_=t.default)==null?void 0:_.call(t)])]),[[_t,l.value]])});return Re({toggle:d,expanded:i,itemName:a}),()=>h("div",{class:[Ca({border:o.value&&e.border})]},[g(),p()])}});const Oy=te(hO),Ry=te(Ax),[gO,Qf,Nl]=J("contact-card"),Py={tel:String,name:String,type:ne("add"),addText:String,editable:K};var mO=Y({name:gO,props:Py,emits:["click"],setup(e,{emit:t}){const n=s=>{e.editable&&t("click",s)},r=()=>e.type==="add"?e.addText||Nl("addContact"):[h("div",null,[`${Nl("name")}${e.name}`]),h("div",null,[`${Nl("tel")}${e.tel}`])];return()=>h(an,{center:!0,icon:e.type==="edit"?"contact":"add-square",class:Qf([e.type]),border:!1,isLink:e.editable,titleClass:Qf("title"),onClick:n},{title:r})}});const Iy=te(mO),[vO,ps,gr]=J("contact-edit"),Ic={tel:"",name:""},$y={isEdit:Boolean,isSaving:Boolean,isDeleting:Boolean,showSetDefault:Boolean,setDefaultLabel:String,contactInfo:{type:Object,default:()=>ge({},Ic)},telValidator:{type:Function,default:Am}};var yO=Y({name:vO,props:$y,emits:["save","delete","changeDefault"],setup(e,{emit:t}){const n=Je(ge({},Ic,e.contactInfo)),r=()=>{e.isSaving||t("save",n)},s=()=>t("delete",n),o=()=>h("div",{class:ps("buttons")},[h(St,{block:!0,round:!0,type:"primary",text:gr("save"),class:ps("button"),loading:e.isSaving,nativeType:"submit"},null),e.isEdit&&h(St,{block:!0,round:!0,text:gr("delete"),class:ps("button"),loading:e.isDeleting,onClick:s},null)]),a=()=>h(qi,{modelValue:n.isDefault,"onUpdate:modelValue":l=>n.isDefault=l,onChange:l=>t("changeDefault",l)},null),i=()=>{if(e.showSetDefault)return h(an,{title:e.setDefaultLabel,class:ps("switch-cell"),border:!1},{"right-icon":a})};return oe(()=>e.contactInfo,l=>ge(n,Ic,l)),()=>h(Hi,{class:ps(),onSubmit:r},{default:()=>[h("div",{class:ps("fields")},[h(Bn,{modelValue:n.name,"onUpdate:modelValue":l=>n.name=l,clearable:!0,label:gr("name"),rules:[{required:!0,message:gr("nameEmpty")}],maxlength:"30",placeholder:gr("name")},null),h(Bn,{modelValue:n.tel,"onUpdate:modelValue":l=>n.tel=l,clearable:!0,type:"tel",label:gr("tel"),rules:[{validator:e.telValidator,message:gr("telInvalid")}],placeholder:gr("tel")},null)]),i(),o()]})}});const Dy=te(yO),[pO,Hn,bO]=J("contact-list"),By={list:Array,addText:String,modelValue:Qe,defaultTagText:String};var wO=Y({name:pO,props:By,emits:["add","edit","select","update:modelValue"],setup(e,{emit:t}){const n=(r,s)=>{const o=()=>{t("update:modelValue",r.id),t("select",r,s)},a=()=>h(Gi,{class:Hn("radio"),name:r.id,iconSize:18},null),i=()=>h(xe,{name:"edit",class:Hn("edit"),onClick:c=>{c.stopPropagation(),t("edit",r,s)}},null),l=()=>{const c=[`${r.name}${r.tel}`];return r.isDefault&&e.defaultTagText&&c.push(h(oa,{type:"primary",round:!0,class:Hn("item-tag")},{default:()=>[e.defaultTagText]})),c};return h(an,{key:r.id,isLink:!0,center:!0,class:Hn("item"),titleClass:Hn("item-title"),onClick:o},{icon:i,title:l,"right-icon":a})};return()=>h("div",{class:Hn()},[h(Ki,{modelValue:e.modelValue,class:Hn("group")},{default:()=>[e.list&&e.list.map(n)]}),h("div",{class:[Hn("bottom"),"van-safe-area-bottom"]},[h(St,{round:!0,block:!0,type:"primary",class:Hn("add"),text:e.addText||bO("addContact"),onClick:()=>t("add")},null)])])}});const Ny=te(wO);function _O(e,t){const{days:n}=t;let{hours:r,minutes:s,seconds:o,milliseconds:a}=t;if(e.includes("DD")?e=e.replace("DD",mn(n)):r+=n*24,e.includes("HH")?e=e.replace("HH",mn(r)):s+=r*60,e.includes("mm")?e=e.replace("mm",mn(s)):o+=s*60,e.includes("ss")?e=e.replace("ss",mn(o)):a+=o*1e3,e.includes("S")){const i=mn(a,3);e.includes("SSS")?e=e.replace("SSS",i):e.includes("SS")?e=e.replace("SS",i.slice(0,2)):e=e.replace("S",i.charAt(0))}return e}const[SO,EO]=J("count-down"),Ly={time:ue(0),format:ne("HH:mm:ss"),autoStart:K,millisecond:Boolean};var TO=Y({name:SO,props:Ly,emits:["change","finish"],setup(e,{emit:t,slots:n}){const{start:r,pause:s,reset:o,current:a}=ZC({time:+e.time,millisecond:e.millisecond,onChange:c=>t("change",c),onFinish:()=>t("finish")}),i=M(()=>_O(e.format,a.value)),l=()=>{o(+e.time),e.autoStart&&r()};return oe(()=>e.time,l,{immediate:!0}),Re({start:r,pause:s,reset:l}),()=>h("div",{role:"timer",class:EO()},[n.default?n.default(a.value):i.value])}});const My=te(TO);function eh(e){const t=new Date(e*1e3);return`${t.getFullYear()}.${mn(t.getMonth()+1)}.${mn(t.getDate())}`}const CO=e=>(e/10).toFixed(e%10===0?0:1),th=e=>(e/100).toFixed(e%100===0?0:e%10===0?1:2),[xO,An,Ll]=J("coupon");var kO=Y({name:xO,props:{chosen:Boolean,coupon:gt(Object),disabled:Boolean,currency:ne("")},setup(e){const t=M(()=>{const{startAt:s,endAt:o}=e.coupon;return`${eh(s)} - ${eh(o)}`}),n=M(()=>{const{coupon:s,currency:o}=e;if(s.valueDesc)return[s.valueDesc,h("span",null,[s.unitDesc||""])];if(s.denominations){const a=th(s.denominations);return[h("span",null,[o]),` ${a}`]}return s.discount?Ll("discount",CO(s.discount)):""}),r=M(()=>{const s=th(e.coupon.originCondition||0);return s==="0"?Ll("unlimited"):Ll("condition",s)});return()=>{const{chosen:s,coupon:o,disabled:a}=e,i=a&&o.reason||o.description;return h("div",{class:An({disabled:a})},[h("div",{class:An("content")},[h("div",{class:An("head")},[h("h2",{class:An("amount")},[n.value]),h("p",{class:An("condition")},[o.condition||r.value])]),h("div",{class:An("body")},[h("p",{class:An("name")},[o.name]),h("p",{class:An("valid")},[t.value]),!a&&h(Yi,{class:An("corner"),modelValue:s},null)])]),i&&h("p",{class:An("description")},[i])])}}});const ii=te(kO),[AO,nh,$c]=J("coupon-cell"),jy={title:String,border:K,editable:K,coupons:Xe(),currency:ne(""),chosenCoupon:{type:[Number,Array],default:-1}},OO=e=>{const{value:t,denominations:n}=e;return Pe(t)?t:Pe(n)?n:0};function RO({coupons:e,chosenCoupon:t,currency:n}){let r=0,s=!1;return(Array.isArray(t)?t:[t]).forEach(o=>{const a=e[+o];a&&(s=!0,r+=OO(a))}),s?`-${n} ${(r/100).toFixed(2)}`:e.length===0?$c("noCoupon"):$c("count",e.length)}var PO=Y({name:AO,props:jy,setup(e){return()=>{const t=Array.isArray(e.chosenCoupon)?e.chosenCoupon.length:e.coupons[+e.chosenCoupon];return h(an,{class:nh(),value:RO(e),title:e.title||$c("title"),border:e.border,isLink:e.editable,valueClass:nh("value",{selected:t})},null)}}});const Uy=te(PO),[IO,xa]=J("empty"),Vy={image:ne("default"),imageSize:[Number,String,Array],description:String};var $O=Y({name:IO,props:Vy,setup(e,{slots:t}){const n=()=>{const w=t.description?t.description():e.description;if(w)return h("p",{class:xa("description")},[w])},r=()=>{if(t.default)return h("div",{class:xa("bottom")},[t.default()])},s=Zs(),o=w=>`${s}-${w}`,a=w=>`url(#${o(w)})`,i=(w,y,v)=>h("stop",{"stop-color":w,offset:`${y}%`,"stop-opacity":v},null),l=(w,y)=>[i(w,0),i(y,100)],c=w=>[h("defs",null,[h("radialGradient",{id:o(w),cx:"50%",cy:"54%",fx:"50%",fy:"54%",r:"297%",gradientTransform:"matrix(-.16 0 0 -.33 .58 .72)","data-allow-mismatch":"attribute"},[i("#EBEDF0",0),i("#F2F3F5",100,.3)])]),h("ellipse",{fill:a(w),opacity:".8",cx:"80",cy:"140",rx:"46",ry:"8","data-allow-mismatch":"attribute"},null)],u=()=>[h("defs",null,[h("linearGradient",{id:o("a"),x1:"64%",y1:"100%",x2:"64%","data-allow-mismatch":"attribute"},[i("#FFF",0,.5),i("#F2F3F5",100)])]),h("g",{opacity:".8","data-allow-mismatch":"children"},[h("path",{d:"M36 131V53H16v20H2v58h34z",fill:a("a")},null),h("path",{d:"M123 15h22v14h9v77h-31V15z",fill:a("a")},null)])],d=()=>[h("defs",null,[h("linearGradient",{id:o("b"),x1:"64%",y1:"97%",x2:"64%",y2:"0%","data-allow-mismatch":"attribute"},[i("#F2F3F5",0,.3),i("#F2F3F5",100)])]),h("g",{opacity:".8","data-allow-mismatch":"children"},[h("path",{d:"M87 6c3 0 7 3 8 6a8 8 0 1 1-1 16H80a7 7 0 0 1-8-6c0-4 3-7 6-7 0-5 4-9 9-9Z",fill:a("b")},null),h("path",{d:"M19 23c2 0 3 1 4 3 2 0 4 2 4 4a4 4 0 0 1-4 3v1h-7v-1l-1 1c-2 0-3-2-3-4 0-1 1-3 3-3 0-2 2-4 4-4Z",fill:a("b")},null)])],f=()=>h("svg",{viewBox:"0 0 160 160"},[h("defs",{"data-allow-mismatch":"children"},[h("linearGradient",{id:o(1),x1:"64%",y1:"100%",x2:"64%"},[i("#FFF",0,.5),i("#F2F3F5",100)]),h("linearGradient",{id:o(2),x1:"50%",x2:"50%",y2:"84%"},[i("#EBEDF0",0),i("#DCDEE0",100,0)]),h("linearGradient",{id:o(3),x1:"100%",x2:"100%",y2:"100%"},[l("#EAEDF0","#DCDEE0")]),h("radialGradient",{id:o(4),cx:"50%",cy:"0%",fx:"50%",fy:"0%",r:"100%",gradientTransform:"matrix(0 1 -.54 0 .5 -.5)"},[i("#EBEDF0",0),i("#FFF",100,0)])]),h("g",{fill:"none"},[u(),h("path",{fill:a(4),d:"M0 139h160v21H0z","data-allow-mismatch":"attribute"},null),h("path",{d:"M80 54a7 7 0 0 1 3 13v27l-2 2h-2a2 2 0 0 1-2-2V67a7 7 0 0 1 3-13z",fill:a(2),"data-allow-mismatch":"attribute"},null),h("g",{opacity:".6","stroke-linecap":"round","stroke-width":"7","data-allow-mismatch":"children"},[h("path",{d:"M64 47a19 19 0 0 0-5 13c0 5 2 10 5 13",stroke:a(3)},null),h("path",{d:"M53 36a34 34 0 0 0 0 48",stroke:a(3)},null),h("path",{d:"M95 73a19 19 0 0 0 6-13c0-5-2-9-6-13",stroke:a(3)},null),h("path",{d:"M106 84a34 34 0 0 0 0-48",stroke:a(3)},null)]),h("g",{transform:"translate(31 105)"},[h("rect",{fill:"#EBEDF0",width:"98",height:"34",rx:"2"},null),h("rect",{fill:"#FFF",x:"9",y:"8",width:"80",height:"18",rx:"1.1"},null),h("rect",{fill:"#EBEDF0",x:"15",y:"12",width:"18",height:"6",rx:"1.1"},null)])])]),g=()=>h("svg",{viewBox:"0 0 160 160"},[h("defs",{"data-allow-mismatch":"children"},[h("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:o(5)},[l("#F2F3F5","#DCDEE0")]),h("linearGradient",{x1:"95%",y1:"48%",x2:"5.5%",y2:"51%",id:o(6)},[l("#EAEDF1","#DCDEE0")]),h("linearGradient",{y1:"45%",x2:"100%",y2:"54%",id:o(7)},[l("#EAEDF1","#DCDEE0")])]),u(),d(),h("g",{transform:"translate(36 50)",fill:"none"},[h("g",{transform:"translate(8)"},[h("rect",{fill:"#EBEDF0",opacity:".6",x:"38",y:"13",width:"36",height:"53",rx:"2"},null),h("rect",{fill:a(5),width:"64",height:"66",rx:"2","data-allow-mismatch":"attribute"},null),h("rect",{fill:"#FFF",x:"6",y:"6",width:"52",height:"55",rx:"1"},null),h("g",{transform:"translate(15 17)",fill:a(6),"data-allow-mismatch":"attribute"},[h("rect",{width:"34",height:"6",rx:"1"},null),h("path",{d:"M0 14h34v6H0z"},null),h("rect",{y:"28",width:"34",height:"6",rx:"1"},null)])]),h("rect",{fill:a(7),y:"61",width:"88",height:"28",rx:"1","data-allow-mismatch":"attribute"},null),h("rect",{fill:"#F7F8FA",x:"29",y:"72",width:"30",height:"6",rx:"1"},null)])]),p=()=>h("svg",{viewBox:"0 0 160 160"},[h("defs",null,[h("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:o(8),"data-allow-mismatch":"attribute"},[l("#EAEDF1","#DCDEE0")])]),u(),d(),c("c"),h("path",{d:"m59 60 21 21 21-21h3l9 9v3L92 93l21 21v3l-9 9h-3l-21-21-21 21h-3l-9-9v-3l21-21-21-21v-3l9-9h3Z",fill:a(8),"data-allow-mismatch":"attribute"},null)]),_=()=>h("svg",{viewBox:"0 0 160 160"},[h("defs",{"data-allow-mismatch":"children"},[h("linearGradient",{x1:"50%",y1:"100%",x2:"50%",id:o(9)},[l("#EEE","#D8D8D8")]),h("linearGradient",{x1:"100%",y1:"50%",y2:"50%",id:o(10)},[l("#F2F3F5","#DCDEE0")]),h("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:o(11)},[l("#F2F3F5","#DCDEE0")]),h("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:o(12)},[l("#FFF","#F7F8FA")])]),u(),d(),c("d"),h("g",{transform:"rotate(-45 113 -4)",fill:"none","data-allow-mismatch":"children"},[h("rect",{fill:a(9),x:"24",y:"52.8",width:"5.8",height:"19",rx:"1"},null),h("rect",{fill:a(10),x:"22.1",y:"67.3",width:"9.9",height:"28",rx:"1"},null),h("circle",{stroke:a(11),"stroke-width":"8",cx:"27",cy:"27",r:"27"},null),h("circle",{fill:a(12),cx:"27",cy:"27",r:"16"},null),h("path",{d:"M37 7c-8 0-15 5-16 12",stroke:a(11),"stroke-width":"3",opacity:".5","stroke-linecap":"round",transform:"rotate(45 29 13)"},null)])]),m=()=>{var w;if(t.image)return t.image();const y={error:p,search:_,network:f,default:g};return((w=y[e.image])==null?void 0:w.call(y))||h("img",{src:e.image},null)};return()=>h("div",{class:xa()},[h("div",{class:xa("image"),style:lr(e.imageSize)},[m()]),n(),r()])}});const $u=te($O),[DO,On,bs]=J("coupon-list"),Fy={code:ne(""),coupons:Xe(),currency:ne(""),showCount:K,emptyImage:String,enabledTitle:String,disabledTitle:String,disabledCoupons:Xe(),showExchangeBar:K,showCloseButton:K,closeButtonText:String,inputPlaceholder:String,exchangeMinLength:ft(1),exchangeButtonText:String,displayedCouponIndex:ft(-1),exchangeButtonLoading:Boolean,exchangeButtonDisabled:Boolean,chosenCoupon:{type:[Number,Array],default:-1}};var BO=Y({name:DO,props:Fy,emits:["change","exchange","update:code"],setup(e,{emit:t,slots:n}){const[r,s]=na(),o=U(),a=U(),i=U(0),l=U(0),c=U(e.code),u=M(()=>!e.exchangeButtonLoading&&(e.exchangeButtonDisabled||!c.value||c.value.length<e.exchangeMinLength)),d=()=>{const v=Be(o).height,S=Be(a).height+44;l.value=(v>S?v:en.value)-S},f=()=>{t("exchange",c.value),e.code||(c.value="")},g=y=>{Ae(()=>{var v;return(v=r.value[y])==null?void 0:v.scrollIntoView()})},p=()=>h($u,{image:e.emptyImage},{default:()=>[h("p",{class:On("empty-tip")},[bs("noCoupon")])]}),_=()=>{if(e.showExchangeBar)return h("div",{ref:a,class:On("exchange-bar")},[h(Bn,{modelValue:c.value,"onUpdate:modelValue":y=>c.value=y,clearable:!0,border:!1,class:On("field"),placeholder:e.inputPlaceholder||bs("placeholder"),maxlength:"20"},null),h(St,{plain:!0,type:"primary",class:On("exchange"),text:e.exchangeButtonText||bs("exchange"),loading:e.exchangeButtonLoading,disabled:u.value,onClick:f},null)])},m=()=>{const{coupons:y,chosenCoupon:v}=e,S=e.showCount?` (${y.length})`:"",b=(e.enabledTitle||bs("enable"))+S,x=(O=[],C=0)=>O.includes(C)?O.filter(R=>R!==C):[...O,C];return h(zs,{title:b},{default:()=>{var O;return[h("div",{class:On("list",{"with-bottom":e.showCloseButton}),style:{height:`${l.value}px`}},[y.map((C,R)=>h(ii,{key:C.id,ref:s(R),coupon:C,chosen:Array.isArray(v)?v.includes(R):R===v,currency:e.currency,onClick:()=>t("change",Array.isArray(v)?x(v,R):R)},null)),!y.length&&p(),(O=n["list-footer"])==null?void 0:O.call(n)])]}})},w=()=>{const{disabledCoupons:y}=e,v=e.showCount?` (${y.length})`:"",S=(e.disabledTitle||bs("disabled"))+v;return h(zs,{title:S},{default:()=>{var b;return[h("div",{class:On("list",{"with-bottom":e.showCloseButton}),style:{height:`${l.value}px`}},[y.map(x=>h(ii,{disabled:!0,key:x.id,coupon:x,currency:e.currency},null)),!y.length&&p(),(b=n["disabled-list-footer"])==null?void 0:b.call(n)])]}})};return oe(()=>e.code,y=>{c.value=y}),oe(en,d),oe(c,y=>t("update:code",y)),oe(()=>e.displayedCouponIndex,g),Ze(()=>{d(),g(e.displayedCouponIndex)}),()=>h("div",{ref:o,class:On()},[_(),h(ra,{active:i.value,"onUpdate:active":y=>i.value=y,class:On("tab")},{default:()=>[m(),w()]}),h("div",{class:On("bottom")},[n["list-button"]?n["list-button"]():mt(h(St,{round:!0,block:!0,type:"primary",class:On("close"),text:e.closeButtonText||bs("close"),onClick:()=>t("change",Array.isArray(e.chosenCoupon)?[]:-1)},null),[[_t,e.showCloseButton]])])])}});const Hy=te(BO),rh=new Date().getFullYear(),[NO]=J("date-picker"),zy=ge({},sy,{columnsType:{type:Array,default:()=>["year","month","day"]},minDate:{type:Date,default:()=>new Date(rh-10,0,1),validator:Go},maxDate:{type:Date,default:()=>new Date(rh+10,11,31),validator:Go}});var LO=Y({name:NO,props:zy,emits:["confirm","cancel","change","update:modelValue"],setup(e,{emit:t,slots:n}){const r=U(e.modelValue),s=U(!1),o=U(),a=M(()=>s.value?e.modelValue:r.value),i=b=>b===e.minDate.getFullYear(),l=b=>b===e.maxDate.getFullYear(),c=b=>b===e.minDate.getMonth()+1,u=b=>b===e.maxDate.getMonth()+1,d=b=>{const{minDate:x,columnsType:O}=e,C=O.indexOf(b),R=a.value[C];if(R)return+R;switch(b){case"year":return x.getFullYear();case"month":return x.getMonth()+1;case"day":return x.getDate()}},f=()=>{const b=e.minDate.getFullYear(),x=e.maxDate.getFullYear();return Ls(b,x,"year",e.formatter,e.filter,a.value)},g=()=>{const b=d("year"),x=i(b)?e.minDate.getMonth()+1:1,O=l(b)?e.maxDate.getMonth()+1:12;return Ls(x,O,"month",e.formatter,e.filter,a.value)},p=()=>{const b=d("year"),x=d("month"),O=i(b)&&c(x)?e.minDate.getDate():1,C=l(b)&&u(x)?e.maxDate.getDate():ay(b,x);return Ls(O,C,"day",e.formatter,e.filter,a.value)},_=()=>{var b;return(b=o.value)==null?void 0:b.confirm()},m=()=>r.value,w=M(()=>e.columnsType.map(b=>{switch(b){case"year":return f();case"month":return g();case"day":return p();default:return[]}}));oe(r,b=>{Dn(b,e.modelValue)||t("update:modelValue",b)}),oe(()=>e.modelValue,(b,x)=>{s.value=Dn(x,r.value),b=iy(b,w.value),Dn(b,r.value)||(r.value=b),s.value=!1},{immediate:!0});const y=(...b)=>t("change",...b),v=(...b)=>t("cancel",...b),S=(...b)=>t("confirm",...b);return Re({confirm:_,getSelectedDate:m}),()=>h(sa,Oe({ref:o,modelValue:r.value,"onUpdate:modelValue":b=>r.value=b,columns:w.value,onChange:y,onCancel:v,onConfirm:S},De(e,oy)),n)}});const Wy=te(LO),[MO,ln,ka]=J("dialog"),qy=ge({},Xs,{title:String,theme:String,width:ee,message:[String,Function],callback:Function,allowHtml:Boolean,className:Qe,transition:ne("van-dialog-bounce"),messageAlign:String,closeOnPopstate:K,showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,cancelButtonDisabled:Boolean,confirmButtonText:String,confirmButtonColor:String,confirmButtonDisabled:Boolean,showConfirmButton:K,closeOnClickOverlay:Boolean,keyboardEnabled:K,destroyOnClose:Boolean}),jO=[..._u,"transition","closeOnPopstate","destroyOnClose"];var Ky=Y({name:MO,props:qy,emits:["confirm","cancel","keydown","update:show"],setup(e,{emit:t,slots:n}){const r=U(),s=Je({confirm:!1,cancel:!1}),o=w=>t("update:show",w),a=w=>{var y;o(!1),(y=e.callback)==null||y.call(e,w)},i=w=>()=>{e.show&&(t(w),e.beforeClose?(s[w]=!0,Pr(e.beforeClose,{args:[w],done(){a(w),s[w]=!1},canceled(){s[w]=!1}})):a(w))},l=i("cancel"),c=i("confirm"),u=W_(w=>{var y,v;if(!e.keyboardEnabled||w.target!==((v=(y=r.value)==null?void 0:y.popupRef)==null?void 0:v.value))return;({Enter:e.showConfirmButton?c:Ec,Escape:e.showCancelButton?l:Ec})[w.key](),t("keydown",w)},["enter","esc"]),d=()=>{const w=n.title?n.title():e.title;if(w)return h("div",{class:ln("header",{isolated:!e.message&&!n.default})},[w])},f=w=>{const{message:y,allowHtml:v,messageAlign:S}=e,b=ln("message",{"has-title":w,[S]:S}),x=Hs(y)?y():y;return v&&typeof x=="string"?h("div",{class:b,innerHTML:x},null):h("div",{class:b},[x])},g=()=>{if(n.default)return h("div",{class:ln("content")},[n.default()]);const{title:w,message:y,allowHtml:v}=e;if(y){const S=!!(w||n.title);return h("div",{key:v?1:0,class:ln("content",{isolated:!S})},[f(S)])}},p=()=>h("div",{class:[Nm,ln("footer")]},[e.showCancelButton&&h(St,{size:"large",text:e.cancelButtonText||ka("cancel"),class:ln("cancel"),style:{color:e.cancelButtonColor},loading:s.cancel,disabled:e.cancelButtonDisabled,onClick:l},null),e.showConfirmButton&&h(St,{size:"large",text:e.confirmButtonText||ka("confirm"),class:[ln("confirm"),{[Lm]:e.showCancelButton}],style:{color:e.confirmButtonColor},loading:s.confirm,disabled:e.confirmButtonDisabled,onClick:c},null)]),_=()=>h(wu,{class:ln("footer")},{default:()=>[e.showCancelButton&&h(oi,{type:"warning",text:e.cancelButtonText||ka("cancel"),class:ln("cancel"),color:e.cancelButtonColor,loading:s.cancel,disabled:e.cancelButtonDisabled,onClick:l},null),e.showConfirmButton&&h(oi,{type:"danger",text:e.confirmButtonText||ka("confirm"),class:ln("confirm"),color:e.confirmButtonColor,loading:s.confirm,disabled:e.confirmButtonDisabled,onClick:c},null)]}),m=()=>n.footer?n.footer():e.theme==="round-button"?_():p();return()=>{const{width:w,title:y,theme:v,message:S,className:b}=e;return h(on,Oe({ref:r,role:"dialog",class:[ln([v]),b],style:{width:Ce(w)},tabindex:0,"aria-labelledby":y||S,onKeydown:u,"onUpdate:show":o},De(e,jO)),{default:()=>[d(),g(),m()]})}}});let Dc;const UO={title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,cancelButtonDisabled:!1,confirmButtonText:"",confirmButtonColor:null,confirmButtonDisabled:!1,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1,destroyOnClose:!1};let VO=ge({},UO);function FO(){({instance:Dc}=Wi({setup(){const{state:t,toggle:n}=zi();return()=>h(Ky,Oe(t,{"onUpdate:show":n}),null)}}))}function Gy(e){return Vt?new Promise((t,n)=>{Dc||FO(),Dc.open(ge({},VO,e,{callback:r=>{(r==="confirm"?t:n)(r)}}))}):Promise.resolve(void 0)}const HO=e=>Gy(ge({showCancelButton:!0},e)),Yy=te(Ky),[zO,WO]=J("divider"),Jy={dashed:Boolean,hairline:K,vertical:Boolean,contentPosition:ne("center")};var qO=Y({name:zO,props:Jy,setup(e,{slots:t}){return()=>{var n;return h("div",{role:"separator",class:WO({dashed:e.dashed,hairline:e.hairline,vertical:e.vertical,[`content-${e.contentPosition}`]:!!t.default&&!e.vertical})},[!e.vertical&&((n=t.default)==null?void 0:n.call(t))])}}});const Xy=te(qO),[Zy,Aa]=J("dropdown-menu"),Qy={overlay:K,zIndex:ee,duration:ue(.2),direction:ne("down"),activeColor:String,autoLocate:Boolean,closeOnClickOutside:K,closeOnClickOverlay:K,swipeThreshold:ee},ep=Symbol(Zy);var KO=Y({name:Zy,props:Qy,setup(e,{slots:t}){const n=Zs(),r=U(),s=U(),o=U(0),{children:a,linkChildren:i}=Ot(ep),l=Js(r),c=M(()=>a.some(y=>y.state.showWrapper)),u=M(()=>e.swipeThreshold&&a.length>+e.swipeThreshold),d=M(()=>{if(c.value&&Pe(e.zIndex))return{zIndex:+e.zIndex+1}}),f=()=>{a.forEach(y=>{y.toggle(!1)})},g=()=>{e.closeOnClickOutside&&f()},p=()=>{if(s.value){const y=Be(s);e.direction==="down"?o.value=y.bottom:o.value=en.value-y.top}},_=()=>{c.value&&p()},m=y=>{a.forEach((v,S)=>{S===y?v.toggle():v.state.showPopup&&v.toggle(!1,{immediate:!0})})},w=(y,v)=>{const{showPopup:S}=y.state,{disabled:b,titleClass:x}=y;return h("div",{id:`${n}-${v}`,role:"button",tabindex:b?void 0:0,"data-allow-mismatch":"attribute",class:[Aa("item",{disabled:b,grow:u.value}),{[At]:!b}],onClick:()=>{b||m(v)}},[h("span",{class:[Aa("title",{down:S===(e.direction==="down"),active:S}),x],style:{color:S?e.activeColor:""}},[h("div",{class:"van-ellipsis"},[y.renderTitle()])])])};return Re({close:f,opened:c}),i({id:n,props:e,offset:o,opened:c,updateOffset:p}),Di(r,g),at("scroll",_,{target:l,passive:!0}),()=>{var y;return h("div",{ref:r,class:Aa()},[h("div",{ref:s,style:d.value,class:Aa("bar",{opened:c.value,scrollable:u.value})},[a.map(w)]),(y=t.default)==null?void 0:y.call(t)])}}});const[GO,Oa]=J("dropdown-item"),tp={title:String,options:Xe(),disabled:Boolean,teleport:[String,Object],lazyRender:K,modelValue:Qe,titleClass:Qe};var YO=Y({name:GO,inheritAttrs:!1,props:tp,emits:["open","opened","close","closed","change","update:modelValue"],setup(e,{emit:t,slots:n,attrs:r}){const s=Je({showPopup:!1,transition:!0,showWrapper:!1}),o=U(),{parent:a,index:i}=Et(ep);if(!a)return;const l=y=>()=>t(y),c=l("open"),u=l("close"),d=l("opened"),f=()=>{s.showWrapper=!1,t("closed")},g=y=>{e.teleport&&y.stopPropagation()},p=(y=!s.showPopup,v={})=>{y!==s.showPopup&&(s.showPopup=y,s.transition=!v.immediate,y&&(a.updateOffset(),s.showWrapper=!0))},_=()=>{if(n.title)return n.title();if(e.title)return e.title;const y=e.options.find(v=>v.value===e.modelValue);return y?y.text:""},m=y=>{const{activeColor:v}=a.props,{disabled:S}=y,b=y.value===e.modelValue,x=()=>{S||(s.showPopup=!1,y.value!==e.modelValue&&(t("update:modelValue",y.value),t("change",y.value)))},O=()=>{if(b)return h(xe,{class:Oa("icon"),color:S?void 0:v,name:"success"},null)};return h(an,{role:"menuitem",key:String(y.value),icon:y.icon,title:y.text,class:Oa("option",{active:b,disabled:S}),style:{color:b?v:""},tabindex:b?0:-1,clickable:!S,onClick:x},{value:O})},w=()=>{const{offset:y}=a,{autoLocate:v,zIndex:S,overlay:b,duration:x,direction:O,closeOnClickOverlay:C}=a.props,R=cr(S);let D=y.value;if(v&&o.value){const T=ox(o.value);T&&(D-=Be(T).top)}return O==="down"?R.top=`${D}px`:R.bottom=`${D}px`,mt(h("div",Oe({ref:o,style:R,class:Oa([O]),onClick:g},r),[h(on,{show:s.showPopup,"onUpdate:show":T=>s.showPopup=T,role:"menu",class:Oa("content"),overlay:b,overlayProps:{duration:s.transition&&!a.opened.value?x:0},position:O==="down"?"top":"bottom",duration:s.transition?x:0,lazyRender:e.lazyRender,overlayStyle:{position:"absolute"},"aria-labelledby":`${a.id}-${i.value}`,"data-allow-mismatch":"attribute",closeOnClickOverlay:C,onOpen:c,onClose:u,onOpened:d,onClosed:f},{default:()=>{var T;return[e.options.map(m),(T=n.default)==null?void 0:T.call(n)]}})]),[[_t,s.showWrapper]])};return Re({state:s,toggle:p,renderTitle:_}),()=>e.teleport?h(ts,{to:e.teleport},{default:()=>[w()]}):w()}});const np=te(YO),rp=te(KO),sp={gap:{type:[Number,Object],default:24},icon:String,axis:ne("y"),magnetic:String,offset:Object,teleport:{type:[String,Object],default:"body"}},[JO,sh]=J("floating-bubble");var XO=Y({name:JO,inheritAttrs:!1,props:sp,emits:["click","update:offset","offsetChange"],setup(e,{slots:t,emit:n,attrs:r}){const s=U(),o=U({x:0,y:0,width:0,height:0}),a=M(()=>nn(e.gap)?e.gap.x:e.gap),i=M(()=>nn(e.gap)?e.gap.y:e.gap),l=M(()=>({top:i.value,right:pn.value-o.value.width-a.value,bottom:en.value-o.value.height-i.value,left:a.value})),c=U(!1);let u=!1;const d=M(()=>{const b={},x=Ce(o.value.x),O=Ce(o.value.y);return b.transform=`translate3d(${x}, ${O}, 0)`,(c.value||!u)&&(b.transition="none"),b}),f=()=>{if(!S.value)return;const{width:b,height:x}=Be(s.value),{offset:O}=e;o.value={x:O?O.x:pn.value-b-a.value,y:O?O.y:en.value-x-i.value,width:b,height:x}},g=sn();let p=0,_=0;const m=b=>{g.start(b),c.value=!0,p=o.value.x,_=o.value.y};at("touchmove",b=>{if(b.preventDefault(),g.move(b),e.axis!=="lock"&&!g.isTap.value){if(e.axis==="x"||e.axis==="xy"){let O=p+g.deltaX.value;O<l.value.left&&(O=l.value.left),O>l.value.right&&(O=l.value.right),o.value.x=O}if(e.axis==="y"||e.axis==="xy"){let O=_+g.deltaY.value;O<l.value.top&&(O=l.value.top),O>l.value.bottom&&(O=l.value.bottom),o.value.y=O}const x=De(o.value,["x","y"]);n("update:offset",x)}},{target:s});const y=()=>{c.value=!1,Ae(()=>{if(e.magnetic==="x"){const b=si([l.value.left,l.value.right],o.value.x);o.value.x=b}if(e.magnetic==="y"){const b=si([l.value.top,l.value.bottom],o.value.y);o.value.y=b}if(!g.isTap.value){const b=De(o.value,["x","y"]);n("update:offset",b),(p!==b.x||_!==b.y)&&n("offsetChange",b)}})},v=b=>{g.isTap.value?n("click",b):b.stopPropagation()};Ze(()=>{f(),Ae(()=>{u=!0})}),oe([pn,en,a,i,()=>e.offset],f,{deep:!0});const S=U(!0);return Nn(()=>{S.value=!0}),Ln(()=>{e.teleport&&(S.value=!1)}),()=>{const b=mt(h("div",Oe({class:sh(),ref:s,onTouchstartPassive:m,onTouchend:y,onTouchcancel:y,onClickCapture:v,style:d.value},r),[t.default?t.default():h(Ix,{name:e.icon,class:sh("icon")},null)]),[[_t,S.value]]);return e.teleport?h(ts,{to:e.teleport},{default:()=>[b]}):b}}});const op=te(XO),ap={height:ue(0),anchors:Xe(),duration:ue(.3),magnetic:K,contentDraggable:K,lockScroll:Boolean,safeAreaInsetBottom:K},[ZO,Ra]=J("floating-panel");var QO=Y({name:ZO,props:ap,emits:["heightChange","update:height"],setup(e,{emit:t,slots:n}){const s=U(),o=U(),a=Tu(()=>+e.height,v=>t("update:height",v)),i=M(()=>{var v,S;return{min:(v=e.anchors[0])!=null?v:100,max:(S=e.anchors[e.anchors.length-1])!=null?S:Math.round(en.value*.6)}}),l=M(()=>e.anchors.length>=2?e.anchors:[i.value.min,i.value.max]),c=U(!1),u=M(()=>({height:Ce(i.value.max),transform:`translateY(calc(100% + ${Ce(-a.value)}))`,transition:c.value?"none":`transform ${e.duration}s cubic-bezier(0.18, 0.89, 0.32, 1.28)`})),d=v=>{const S=Math.abs(v),{min:b,max:x}=i.value;return S>x?-(x+(S-x)*.2):S<b?-(b-(b-S)*.2):v};let f,g=-1;const p=sn(),_=v=>{p.start(v),c.value=!0,f=-a.value,g=-1},m=v=>{var S;p.move(v);const b=v.target;if(o.value===b||(S=o.value)!=null&&S.contains(b)){const{scrollTop:O}=o.value;if(g=Math.max(g,O),!e.contentDraggable)return;if(-f<i.value.max)Ke(v,!0);else if(!(O<=0&&p.deltaY.value>0)||g>0)return}const x=p.deltaY.value+f;a.value=-d(x)},w=()=>{if(g=-1,c.value=!1,e.magnetic)a.value=si(l.value,a.value);else{const{min:v,max:S}=i.value;a.value=Math.max(v,Math.min(S,a.value))}a.value!==-f&&t("heightChange",{height:a.value})};oe(i,()=>{a.value=si(l.value,a.value)},{immediate:!0}),nv(s,()=>e.lockScroll||c.value),at("touchmove",m,{target:s});const y=()=>n.header?n.header():h("div",{class:Ra("header")},[h("div",{class:Ra("header-bar")},null)]);return()=>{var v;return h("div",{class:[Ra(),{"van-safe-area-bottom":e.safeAreaInsetBottom}],ref:s,style:u.value,onTouchstartPassive:_,onTouchend:w,onTouchcancel:w},[y(),h("div",{class:Ra("content"),ref:o,style:{paddingBottom:Ce(i.value.max-a.value)}},[(v=n.default)==null?void 0:v.call(n)])])}}});const ip=te(QO),[lp,eR]=J("grid"),cp={square:Boolean,center:K,border:K,gutter:ee,reverse:Boolean,iconSize:ee,direction:String,clickable:Boolean,columnNum:ue(4)},up=Symbol(lp);var tR=Y({name:lp,props:cp,setup(e,{slots:t}){const{linkChildren:n}=Ot(up);return n({props:e}),()=>{var r;return h("div",{style:{paddingLeft:Ce(e.gutter)},class:[eR(),{[Nm]:e.border&&!e.gutter}]},[(r=t.default)==null?void 0:r.call(t)])}}});const dp=te(tR),[nR,Pa]=J("grid-item"),fp=ge({},Ir,{dot:Boolean,text:String,icon:String,badge:ee,iconColor:String,iconPrefix:String,badgeProps:Object});var rR=Y({name:nR,props:fp,setup(e,{slots:t}){const{parent:n,index:r}=Et(up),s=rs();if(!n)return;const o=M(()=>{const{square:u,gutter:d,columnNum:f}=n.props,g=`${100/+f}%`,p={flexBasis:g};if(u)p.paddingTop=g;else if(d){const _=Ce(d);p.paddingRight=_,r.value>=+f&&(p.marginTop=_)}return p}),a=M(()=>{const{square:u,gutter:d}=n.props;if(u&&d){const f=Ce(d);return{right:f,bottom:f,height:"auto"}}}),i=()=>{if(t.icon)return h($r,Oe({dot:e.dot,content:e.badge},e.badgeProps),{default:t.icon});if(e.icon)return h(xe,{dot:e.dot,name:e.icon,size:n.props.iconSize,badge:e.badge,class:Pa("icon"),color:e.iconColor,badgeProps:e.badgeProps,classPrefix:e.iconPrefix},null)},l=()=>{if(t.text)return t.text();if(e.text)return h("span",{class:Pa("text")},[e.text])},c=()=>t.default?t.default():[i(),l()];return()=>{const{center:u,border:d,square:f,gutter:g,reverse:p,direction:_,clickable:m}=n.props,w=[Pa("content",[_,{center:u,square:f,reverse:p,clickable:m,surround:d&&g}]),{[ur]:d}];return h("div",{class:[Pa({square:f})],style:o.value},[h("div",{role:m?"button":void 0,class:w,style:a.value,tabindex:m?0:void 0,onClick:s},[c()])])}}});const hp=te(rR),[sR,oh]=J("highlight"),gp={autoEscape:K,caseSensitive:Boolean,highlightClass:String,highlightTag:ne("span"),keywords:gt([String,Array]),sourceString:ne(""),tag:ne("div"),unhighlightClass:String,unhighlightTag:ne("span")};var oR=Y({name:sR,props:gp,setup(e){const t=M(()=>{const{autoEscape:r,caseSensitive:s,keywords:o,sourceString:a}=e,i=s?"g":"gi";let c=(Array.isArray(o)?o:[o]).filter(d=>d).reduce((d,f)=>{r&&(f=f.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"));const g=new RegExp(f,i);let p;for(;p=g.exec(a);){const _=p.index,m=g.lastIndex;if(_>=m){g.lastIndex++;continue}d.push({start:_,end:m,highlight:!0})}return d},[]);c=c.sort((d,f)=>d.start-f.start).reduce((d,f)=>{const g=d[d.length-1];if(!g||f.start>g.end){const p=g?g.end:0,_=f.start;p!==_&&d.push({start:p,end:_,highlight:!1}),d.push(f)}else g.end=Math.max(g.end,f.end);return d},[]);const u=c[c.length-1];return u||c.push({start:0,end:a.length,highlight:!1}),u&&u.end<a.length&&c.push({start:u.end,end:a.length,highlight:!1}),c}),n=()=>{const{sourceString:r,highlightClass:s,unhighlightClass:o,highlightTag:a,unhighlightTag:i}=e;return t.value.map(l=>{const{start:c,end:u,highlight:d}=l,f=r.slice(c,u);return d?h(a,{class:[oh("tag"),s]},{default:()=>[f]}):h(i,{class:o},{default:()=>[f]})})};return()=>{const{tag:r}=e;return h(r,{class:oh()},{default:()=>[n()]})}}});const mp=te(oR),ah=e=>Math.sqrt(el(e[0].clientX-e[1].clientX,2)+el(e[0].clientY-e[1].clientY,2)),aR=e=>({x:(e[0].clientX+e[1].clientX)/2,y:(e[0].clientY+e[1].clientY)/2}),Ml=J("image-preview")[1],ih=2.6,iR={src:String,show:Boolean,active:Number,minZoom:gt(ee),maxZoom:gt(ee),rootWidth:gt(Number),rootHeight:gt(Number),disableZoom:Boolean,doubleScale:Boolean,closeOnClickImage:Boolean,closeOnClickOverlay:Boolean,vertical:Boolean};var lR=Y({props:iR,emits:["scale","close","longPress"],setup(e,{emit:t,slots:n}){const r=Je({scale:1,moveX:0,moveY:0,moving:!1,zooming:!1,initializing:!1,imageRatio:0}),s=sn(),o=U(),a=U(),i=U(!1),l=U(!1);let c=0;const u=M(()=>{const{scale:L,moveX:H,moveY:X,moving:me,zooming:Se,initializing:ae}=r,F={transitionDuration:Se||me||ae?"0s":".3s"};return(L!==1||l.value)&&(F.transform=`matrix(${L}, 0, 0, ${L}, ${H}, ${X})`),F}),d=M(()=>{if(r.imageRatio){const{rootWidth:L,rootHeight:H}=e,X=i.value?H/r.imageRatio:L;return Math.max(0,(r.scale*X-L)/2)}return 0}),f=M(()=>{if(r.imageRatio){const{rootWidth:L,rootHeight:H}=e,X=i.value?H:L*r.imageRatio;return Math.max(0,(r.scale*X-H)/2)}return 0}),g=(L,H)=>{var X;if(L=ht(L,+e.minZoom,+e.maxZoom+1),L!==r.scale){const me=L/r.scale;if(r.scale=L,H){const Se=Be((X=o.value)==null?void 0:X.$el),ae={x:Se.width*.5,y:Se.height*.5},F=r.moveX-(H.x-Se.left-ae.x)*(me-1),Q=r.moveY-(H.y-Se.top-ae.y)*(me-1);r.moveX=ht(F,-d.value,d.value),r.moveY=ht(Q,-f.value,f.value)}else r.moveX=0,r.moveY=l.value?c:0;t("scale",{scale:L,index:e.active})}},p=()=>{g(1)},_=()=>{const L=r.scale>1?1:2;g(L,L===2||l.value?{x:s.startX.value,y:s.startY.value}:void 0)};let m,w,y,v,S,b,x,O,C=!1;const R=L=>{const{touches:H}=L;if(m=H.length,m===2&&e.disableZoom)return;const{offsetX:X}=s;s.start(L),w=r.moveX,y=r.moveY,O=Date.now(),C=!1,r.moving=m===1&&(r.scale!==1||l.value),r.zooming=m===2&&!X.value,r.zooming&&(v=r.scale,S=ah(H))},D=L=>{const{touches:H}=L;if(s.move(L),r.moving){const{deltaX:X,deltaY:me}=s,Se=X.value+w,ae=me.value+y;if((e.vertical?s.isVertical()&&Math.abs(ae)>f.value:s.isHorizontal()&&Math.abs(Se)>d.value)&&!C){r.moving=!1;return}C=!0,Ke(L,!0),r.moveX=ht(Se,-d.value,d.value),r.moveY=ht(ae,-f.value,f.value)}if(r.zooming&&(Ke(L,!0),H.length===2)){const X=ah(H),me=v*X/S;b=aR(H),g(me,b)}},T=L=>{var H;const X=(H=a.value)==null?void 0:H.$el;if(!X)return;const me=X.firstElementChild,Se=L.target===X,ae=me==null?void 0:me.contains(L.target);!e.closeOnClickImage&&ae||!e.closeOnClickOverlay&&Se||t("close")},E=L=>{if(m>1)return;const H=Date.now()-O,X=250;s.isTap.value&&(H<X?e.doubleScale?x?(clearTimeout(x),x=null,_()):x=setTimeout(()=>{T(L),x=null},X):T(L):H>jm&&t("longPress"))},k=L=>{let H=!1;if((r.moving||r.zooming)&&(H=!0,r.moving&&w===r.moveX&&y===r.moveY&&(H=!1),!L.touches.length)){r.zooming&&(r.moveX=ht(r.moveX,-d.value,d.value),r.moveY=ht(r.moveY,-f.value,f.value),r.zooming=!1),r.moving=!1,w=0,y=0,v=1,r.scale<1&&p();const X=+e.maxZoom;r.scale>X&&g(X,b)}Ke(L,H),E(L),s.reset()},$=()=>{const{rootWidth:L,rootHeight:H}=e,X=H/L,{imageRatio:me}=r;i.value=r.imageRatio>X&&me<ih,l.value=r.imageRatio>X&&me>=ih,l.value&&(c=(me*L-H)/2,r.moveY=c,r.initializing=!0,kt(()=>{r.initializing=!1})),p()},N=L=>{const{naturalWidth:H,naturalHeight:X}=L.target;r.imageRatio=X/H,$()};return oe(()=>e.active,p),oe(()=>e.show,L=>{L||p()}),oe(()=>[e.rootWidth,e.rootHeight],$),at("touchmove",D,{target:M(()=>{var L;return(L=a.value)==null?void 0:L.$el})}),Re({resetScale:p}),()=>{const L={loading:()=>h(rn,{type:"spinner"},null)};return h(Ui,{ref:a,class:Ml("swipe-item"),onTouchstartPassive:R,onTouchend:k,onTouchcancel:k},{default:()=>[n.image?h("div",{class:Ml("image-wrap")},[n.image({src:e.src,onLoad:N,style:u.value})]):h(aa,{ref:o,src:e.src,fit:"contain",class:Ml("image",{vertical:i.value}),style:u.value,onLoad:N},L)]})}}});const[cR,ws]=J("image-preview"),uR=["show","teleport","transition","overlayStyle","closeOnPopstate"],vp={show:Boolean,loop:K,images:Xe(),minZoom:ue(1/3),maxZoom:ue(3),overlay:K,vertical:Boolean,closeable:Boolean,showIndex:K,className:Qe,closeIcon:ne("clear"),transition:String,beforeClose:Function,doubleScale:K,overlayClass:Qe,overlayStyle:Object,swipeDuration:ue(300),startPosition:ue(0),showIndicators:Boolean,closeOnPopstate:K,closeOnClickImage:K,closeOnClickOverlay:K,closeIconPosition:ne("top-right"),teleport:[String,Object]};var yp=Y({name:cR,props:vp,emits:["scale","close","closed","change","longPress","update:show"],setup(e,{emit:t,slots:n}){const r=U(),s=U(),o=Je({active:0,rootWidth:0,rootHeight:0,disableZoom:!1}),a=()=>{if(r.value){const v=Be(r.value.$el);o.rootWidth=v.width,o.rootHeight=v.height,r.value.resize()}},i=v=>t("scale",v),l=v=>t("update:show",v),c=()=>{Pr(e.beforeClose,{args:[o.active],done:()=>l(!1)})},u=v=>{v!==o.active&&(o.active=v,t("change",v))},d=()=>{if(e.showIndex)return h("div",{class:ws("index")},[n.index?n.index({index:o.active}):`${o.active+1} / ${e.images.length}`])},f=()=>{if(n.cover)return h("div",{class:ws("cover")},[n.cover()])},g=()=>{o.disableZoom=!0},p=()=>{o.disableZoom=!1},_=()=>h(ji,{ref:r,lazyRender:!0,loop:e.loop,class:ws("swipe"),vertical:e.vertical,duration:e.swipeDuration,initialSwipe:e.startPosition,showIndicators:e.showIndicators,indicatorColor:"white",onChange:u,onDragEnd:p,onDragStart:g},{default:()=>[e.images.map((v,S)=>h(lR,{ref:b=>{S===o.active&&(s.value=b)},src:v,show:e.show,active:o.active,maxZoom:e.maxZoom,minZoom:e.minZoom,rootWidth:o.rootWidth,rootHeight:o.rootHeight,disableZoom:o.disableZoom,doubleScale:e.doubleScale,closeOnClickImage:e.closeOnClickImage,closeOnClickOverlay:e.closeOnClickOverlay,vertical:e.vertical,onScale:i,onClose:c,onLongPress:()=>t("longPress",{index:S})},{image:n.image}))]}),m=()=>{if(e.closeable)return h(xe,{role:"button",name:e.closeIcon,class:[ws("close-icon",e.closeIconPosition),At],onClick:c},null)},w=()=>t("closed"),y=(v,S)=>{var b;return(b=r.value)==null?void 0:b.swipeTo(v,S)};return Re({resetScale:()=>{var v;(v=s.value)==null||v.resetScale()},swipeTo:y}),Ze(a),oe([pn,en],a),oe(()=>e.startPosition,v=>u(+v)),oe(()=>e.show,v=>{const{images:S,startPosition:b}=e;v?(u(+b),Ae(()=>{a(),y(+b,{immediate:!0})})):t("close",{index:o.active,url:S[o.active]})}),()=>h(on,Oe({class:[ws(),e.className],overlayClass:[ws("overlay"),e.overlayClass],onClosed:w,"onUpdate:show":l},De(e,uR)),{default:()=>[m(),_(),d(),f()]})}});let Va;const dR={loop:!0,images:[],maxZoom:3,minZoom:1/3,onScale:void 0,onClose:void 0,onChange:void 0,vertical:!1,teleport:"body",className:"",showIndex:!0,closeable:!1,closeIcon:"clear",transition:void 0,beforeClose:void 0,doubleScale:!0,overlayStyle:void 0,overlayClass:void 0,startPosition:0,swipeDuration:300,showIndicators:!1,closeOnPopstate:!0,closeOnClickOverlay:!0,closeIconPosition:"top-right"};function fR(){({instance:Va}=Wi({setup(){const{state:e,toggle:t}=zi(),n=()=>{e.images=[]};return()=>h(yp,Oe(e,{onClosed:n,"onUpdate:show":t}),null)}}))}const pp=(e,t=0)=>{if(Vt)return Va||fR(),e=Array.isArray(e)?{images:e,startPosition:t}:e,Va.open(ge({},dR,e)),Va},bp=te(yp);function hR(){return Array(26).fill("").map((n,r)=>String.fromCharCode(65+r))}const[wp,jl]=J("index-bar"),_p={sticky:K,zIndex:ee,teleport:[String,Object],highlightColor:String,stickyOffsetTop:ft(0),indexList:{type:Array,default:hR}},Sp=Symbol(wp);var gR=Y({name:wp,props:_p,emits:["select","change"],setup(e,{emit:t,slots:n}){const r=U(),s=U(),o=U(""),a=sn(),i=Js(r),{children:l,linkChildren:c}=Ot(Sp);let u;c({props:e});const d=M(()=>{if(Pe(e.zIndex))return{zIndex:+e.zIndex+1}}),f=M(()=>{if(e.highlightColor)return{color:e.highlightColor}}),g=(C,R)=>{for(let D=l.length-1;D>=0;D--){const T=D>0?R[D-1].height:0,E=e.sticky?T+e.stickyOffsetTop:0;if(C+E>=R[D].top)return D}return-1},p=C=>l.find(R=>String(R.index)===C),_=()=>{if(es(r))return;const{sticky:C,indexList:R}=e,D=nr(i.value),T=Be(i),E=l.map($=>$.getRect(i.value,T));let k=-1;if(u){const $=p(u);if($){const N=$.getRect(i.value,T);e.sticky&&e.stickyOffsetTop?k=g(N.top-e.stickyOffsetTop,E):k=g(N.top,E)}}else k=g(D,E);o.value=R[k],C&&l.forEach(($,N)=>{const{state:L,$el:H}=$;if(N===k||N===k-1){const X=H.getBoundingClientRect();L.left=X.left,L.width=X.width}else L.left=null,L.width=null;if(N===k)L.active=!0,L.top=Math.max(e.stickyOffsetTop,E[N].top-D)+T.top;else if(N===k-1&&u===""){const X=E[k].top-D;L.active=X>0,L.top=X+T.top-E[N].height}else L.active=!1}),u=""},m=()=>{Ae(_)};at("scroll",_,{target:i,passive:!0}),Ze(m),oe(()=>e.indexList,m),oe(o,C=>{C&&t("change",C)});const w=()=>e.indexList.map(C=>{const R=C===o.value;return h("span",{class:jl("index",{active:R}),style:R?f.value:void 0,"data-index":C},[C])}),y=C=>{u=String(C);const R=p(u);if(R){const D=nr(i.value),T=Be(i),{offsetHeight:E}=document.documentElement;if(R.$el.scrollIntoView(),D===E-T.height){_();return}e.sticky&&e.stickyOffsetTop&&(Zr()===E-T.height?Yo(Zr()):Yo(Zr()-e.stickyOffsetTop)),t("select",R.index)}},v=C=>{const{index:R}=C.dataset;R&&y(R)},S=C=>{v(C.target)};let b;const x=C=>{if(a.move(C),a.isVertical()){Ke(C);const{clientX:R,clientY:D}=C.touches[0],T=document.elementFromPoint(R,D);if(T){const{index:E}=T.dataset;E&&b!==E&&(b=E,v(T))}}},O=()=>h("div",{ref:s,class:jl("sidebar"),style:d.value,onClick:S,onTouchstartPassive:a.start},[w()]);return Re({scrollTo:y}),at("touchmove",x,{target:s}),()=>{var C;return h("div",{ref:r,class:jl()},[e.teleport?h(ts,{to:e.teleport},{default:()=>[O()]}):O(),(C=n.default)==null?void 0:C.call(n)])}}});const[mR,vR]=J("index-anchor"),Ep={index:ee};var yR=Y({name:mR,props:Ep,setup(e,{slots:t}){const n=Je({top:0,left:null,rect:{top:0,height:0},width:null,active:!1}),r=U(),{parent:s}=Et(Sp);if(!s)return;const o=()=>n.active&&s.props.sticky,a=M(()=>{const{zIndex:l,highlightColor:c}=s.props;if(o())return ge(cr(l),{left:n.left?`${n.left}px`:void 0,width:n.width?`${n.width}px`:void 0,transform:n.top?`translate3d(0, ${n.top}px, 0)`:void 0,color:c})});return Re({state:n,getRect:(l,c)=>{const u=Be(r);return n.rect.height=u.height,l===window||l===document.body?n.rect.top=u.top+Zr():n.rect.top=u.top+nr(l)-c.top,n.rect}}),()=>{const l=o();return h("div",{ref:r,style:{height:l?`${n.rect.height}px`:void 0}},[h("div",{style:a.value,class:[vR({sticky:l}),{[pu]:l}]},[t.default?t.default():e.index])])}}});const Tp=te(yR),Cp=te(gR),[pR,_s,bR]=J("list"),xp={error:Boolean,offset:ue(300),loading:Boolean,disabled:Boolean,finished:Boolean,scroller:Object,errorText:String,direction:ne("down"),loadingText:{type:String,default:""},finishedText:String,immediateCheck:K};var wR=Y({name:pR,props:xp,emits:["load","update:error","update:loading"],setup(e,{emit:t,slots:n}){const r=U(e.loading),s=U(),o=U(),a=xu(),i=Js(s),l=M(()=>e.scroller||i.value),c=()=>{Ae(()=>{if(r.value||e.finished||e.disabled||e.error||(a==null?void 0:a.value)===!1)return;const{direction:p}=e,_=+e.offset,m=Be(l);if(!m.height||es(s))return;let w=!1;const y=Be(o);p==="up"?w=m.top-y.top<=_:w=y.bottom-m.bottom<=_,w&&(r.value=!0,t("update:loading",!0),t("load"))})},u=()=>{if(e.finished){const p=n.finished?n.finished():e.finishedText;if(p)return h("div",{class:_s("finished-text")},[p])}},d=()=>{t("update:error",!1),c()},f=()=>{if(e.error){const p=n.error?n.error():e.errorText;if(p)return h("div",{role:"button",class:_s("error-text"),tabindex:0,onClick:d},[p])}},g=()=>{if(r.value&&!e.finished&&!e.disabled)return h("div",{class:_s("loading")},[n.loading?n.loading():e.loadingText!=null&&h(rn,{class:_s("loading-icon")},{default:()=>[e.loadingText||bR("loading")]})])};return oe(()=>[e.loading,e.finished,e.error],c),a&&oe(a,p=>{p&&c()}),Sg(()=>{r.value=e.loading}),Ze(()=>{e.immediateCheck&&c()}),Re({check:c}),at("scroll",c,{target:l,passive:!0}),()=>{var p;const _=(p=n.default)==null?void 0:p.call(n),m=h("div",{ref:o,class:_s("placeholder")},null);return h("div",{ref:s,role:"feed",class:_s(),"aria-busy":r.value},[e.direction==="down"?_:m,g(),u(),f(),e.direction==="up"?_:m])}}});const kp=te(wR),[_R,zn]=J("nav-bar"),Ap={title:String,fixed:Boolean,zIndex:ee,border:K,leftText:String,rightText:String,leftDisabled:Boolean,rightDisabled:Boolean,leftArrow:Boolean,placeholder:Boolean,safeAreaInsetTop:Boolean,clickable:K};var SR=Y({name:_R,props:Ap,emits:["clickLeft","clickRight"],setup(e,{emit:t,slots:n}){const r=U(),s=Li(r,zn),o=u=>{e.leftDisabled||t("clickLeft",u)},a=u=>{e.rightDisabled||t("clickRight",u)},i=()=>n.left?n.left():[e.leftArrow&&h(xe,{class:zn("arrow"),name:"arrow-left"},null),e.leftText&&h("span",{class:zn("text")},[e.leftText])],l=()=>n.right?n.right():h("span",{class:zn("text")},[e.rightText]),c=()=>{const{title:u,fixed:d,border:f,zIndex:g}=e,p=cr(g),_=e.leftArrow||e.leftText||n.left,m=e.rightText||n.right;return h("div",{ref:r,style:p,class:[zn({fixed:d}),{[pu]:f,"van-safe-area-top":e.safeAreaInsetTop}]},[h("div",{class:zn("content")},[_&&h("div",{class:[zn("left",{disabled:e.leftDisabled}),e.clickable&&!e.leftDisabled?At:""],onClick:o},[i()]),h("div",{class:[zn("title"),"van-ellipsis"]},[n.title?n.title():u]),m&&h("div",{class:[zn("right",{disabled:e.rightDisabled}),e.clickable&&!e.rightDisabled?At:""],onClick:a},[l()])])])};return()=>e.fixed&&e.placeholder?s(c):c()}});const Op=te(SR),[ER,ao]=J("notice-bar"),Rp={text:String,mode:String,color:String,delay:ue(1),speed:ue(60),leftIcon:String,wrapable:Boolean,background:String,scrollable:{type:Boolean,default:null}};var TR=Y({name:ER,props:Rp,emits:["close","replay"],setup(e,{emit:t,slots:n}){let r=0,s=0,o;const a=U(),i=U(),l=Je({show:!0,offset:0,duration:0}),c=()=>{if(n["left-icon"])return n["left-icon"]();if(e.leftIcon)return h(xe,{class:ao("left-icon"),name:e.leftIcon},null)},u=()=>{if(e.mode==="closeable")return"cross";if(e.mode==="link")return"arrow"},d=m=>{e.mode==="closeable"&&(l.show=!1,t("close",m))},f=()=>{if(n["right-icon"])return n["right-icon"]();const m=u();if(m)return h(xe,{name:m,class:ao("right-icon"),onClick:d},null)},g=()=>{l.offset=r,l.duration=0,kt(()=>{Cr(()=>{l.offset=-s,l.duration=(s+r)/+e.speed,t("replay")})})},p=()=>{const m=e.scrollable===!1&&!e.wrapable,w={transform:l.offset?`translateX(${l.offset}px)`:"",transitionDuration:`${l.duration}s`};return h("div",{ref:a,role:"marquee",class:ao("wrap")},[h("div",{ref:i,style:w,class:[ao("content"),{"van-ellipsis":m}],onTransitionend:g},[n.default?n.default():e.text])])},_=()=>{const{delay:m,speed:w,scrollable:y}=e,v=Pe(m)?+m*1e3:0;r=0,s=0,l.offset=0,l.duration=0,clearTimeout(o),o=setTimeout(()=>{if(!a.value||!i.value||y===!1)return;const S=Be(a).width,b=Be(i).width;(y||b>S)&&Cr(()=>{r=S,s=b,l.offset=-s,l.duration=s/+w})},v)};return Ni(_),Ys(_),at("pageshow",_),Re({reset:_}),oe(()=>[e.text,e.scrollable],_),()=>{const{color:m,wrapable:w,background:y}=e;return mt(h("div",{role:"alert",class:ao({wrapable:w}),style:{color:m,background:y}},[c(),p(),f()]),[[_t,l.show]])}}});const Pp=te(TR),[CR,xR]=J("notify"),kR=["lockScroll","position","show","teleport","zIndex"],Ip=ge({},Xs,{type:ne("danger"),color:String,message:ee,position:ne("top"),className:Qe,background:String,lockScroll:Boolean});var $p=Y({name:CR,props:Ip,emits:["update:show"],setup(e,{emit:t,slots:n}){const r=s=>t("update:show",s);return()=>h(on,Oe({class:[xR([e.type]),e.className],style:{color:e.color,background:e.background},overlay:!1,duration:.2,"onUpdate:show":r},De(e,kR)),{default:()=>[n.default?n.default():e.message]})}});let lh,Ms;const AR=e=>nn(e)?e:{message:e};function OR(){({instance:Ms}=Wi({setup(){const{state:e,toggle:t}=zi();return()=>h($p,Oe(e,{"onUpdate:show":t}),null)}}))}const RR=()=>({type:"danger",color:void 0,message:"",onClose:void 0,onClick:void 0,onOpened:void 0,duration:3e3,position:void 0,className:"",lockScroll:!1,background:void 0});let PR=RR();const Dp=()=>{Ms&&Ms.toggle(!1)};function Bp(e){if(Vt)return Ms||OR(),e=ge({},PR,AR(e)),Ms.open(e),clearTimeout(lh),e.duration>0&&(lh=setTimeout(Dp,e.duration)),Ms}const Np=te($p),[IR,Oo]=J("key"),$R=h("svg",{class:Oo("collapse-icon"),viewBox:"0 0 30 24"},[h("path",{d:"M26 13h-2v2h2v-2zm-8-3h2V8h-2v2zm2-4h2V4h-2v2zm2 4h4V4h-2v4h-2v2zm-7 14 3-3h-6l3 3zM6 13H4v2h2v-2zm16 0H8v2h14v-2zm-12-3h2V8h-2v2zM28 0l1 1 1 1v15l-1 2H1l-1-2V2l1-1 1-1zm0 2H2v15h26V2zM6 4v2H4V4zm10 2h2V4h-2v2zM8 9v1H4V8zm8 0v1h-2V8zm-6-5v2H8V4zm4 0v2h-2V4z",fill:"currentColor"},null)]),DR=h("svg",{class:Oo("delete-icon"),viewBox:"0 0 32 22"},[h("path",{d:"M28 0a4 4 0 0 1 4 4v14a4 4 0 0 1-4 4H10.4a2 2 0 0 1-1.4-.6L1 13.1c-.6-.5-.9-1.3-.9-2 0-1 .3-1.7.9-2.2L9 .6a2 2 0 0 1 1.4-.6zm0 2H10.4l-8.2 8.3a1 1 0 0 0-.3.7c0 .3.1.5.3.7l8.2 8.4H28a2 2 0 0 0 2-2V4c0-1.1-.9-2-2-2zm-5 4a1 1 0 0 1 .7.3 1 1 0 0 1 0 1.4L20.4 11l3.3 3.3c.2.2.3.5.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3L19 12.4l-3.4 3.3a1 1 0 0 1-.6.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.2.1-.5.3-.7l3.3-3.3-3.3-3.3A1 1 0 0 1 14 7c0-.3.1-.5.3-.7A1 1 0 0 1 15 6a1 1 0 0 1 .6.3L19 9.6l3.3-3.3A1 1 0 0 1 23 6z",fill:"currentColor"},null)]);var Ul=Y({name:IR,props:{type:String,text:ee,color:String,wider:Boolean,large:Boolean,loading:Boolean},emits:["press"],setup(e,{emit:t,slots:n}){const r=U(!1),s=sn(),o=c=>{s.start(c),r.value=!0},a=c=>{s.move(c),s.direction.value&&(r.value=!1)},i=c=>{r.value&&(n.default||Ke(c),r.value=!1,t("press",e.text,e.type))},l=()=>{if(e.loading)return h(rn,{class:Oo("loading-icon")},null);const c=n.default?n.default():e.text;switch(e.type){case"delete":return c||DR;case"extra":return c||$R;default:return c}};return()=>h("div",{class:Oo("wrapper",{wider:e.wider}),onTouchstartPassive:o,onTouchmovePassive:a,onTouchend:i,onTouchcancel:i},[h("div",{role:"button",tabindex:0,class:Oo([e.color,{large:e.large,active:r.value,delete:e.type==="delete"}])},[l()])])}});const[BR,mr]=J("number-keyboard"),Lp={show:Boolean,title:String,theme:ne("default"),zIndex:ee,teleport:[String,Object],maxlength:ue(1/0),modelValue:ne(""),transition:K,blurOnClose:K,showDeleteKey:K,randomKeyOrder:Boolean,closeButtonText:String,deleteButtonText:String,closeButtonLoading:Boolean,hideOnClickOutside:K,safeAreaInsetBottom:K,extraKey:{type:[String,Array],default:""}};function NR(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}return e}var LR=Y({name:BR,inheritAttrs:!1,props:Lp,emits:["show","hide","blur","input","close","delete","update:modelValue"],setup(e,{emit:t,slots:n,attrs:r}){const s=U(),o=()=>{const m=Array(9).fill("").map((w,y)=>({text:y+1}));return e.randomKeyOrder&&NR(m),m},a=()=>[...o(),{text:e.extraKey,type:"extra"},{text:0},{text:e.showDeleteKey?e.deleteButtonText:"",type:e.showDeleteKey?"delete":""}],i=()=>{const m=o(),{extraKey:w}=e,y=Array.isArray(w)?w:[w];return y.length===0?m.push({text:0,wider:!0}):y.length===1?m.push({text:0,wider:!0},{text:y[0],type:"extra"}):y.length===2&&m.push({text:y[0],type:"extra"},{text:0},{text:y[1],type:"extra"}),m},l=M(()=>e.theme==="custom"?i():a()),c=()=>{e.show&&t("blur")},u=()=>{t("close"),e.blurOnClose&&c()},d=()=>t(e.show?"show":"hide"),f=(m,w)=>{if(m===""){w==="extra"&&c();return}const y=e.modelValue;w==="delete"?(t("delete"),t("update:modelValue",y.slice(0,y.length-1))):w==="close"?u():y.length<+e.maxlength&&(t("input",m),t("update:modelValue",y+m))},g=()=>{const{title:m,theme:w,closeButtonText:y}=e,v=n["title-left"],S=y&&w==="default";if(m||S||v)return h("div",{class:mr("header")},[v&&h("span",{class:mr("title-left")},[v()]),m&&h("h2",{class:mr("title")},[m]),S&&h("button",{type:"button",class:[mr("close"),At],onClick:u},[y])])},p=()=>l.value.map(m=>{const w={};return m.type==="delete"&&(w.default=n.delete),m.type==="extra"&&(w.default=n["extra-key"]),h(Ul,{key:m.text,text:m.text,type:m.type,wider:m.wider,color:m.color,onPress:f},w)}),_=()=>{if(e.theme==="custom")return h("div",{class:mr("sidebar")},[e.showDeleteKey&&h(Ul,{large:!0,text:e.deleteButtonText,type:"delete",onPress:f},{default:n.delete}),h(Ul,{large:!0,text:e.closeButtonText,type:"close",color:"blue",loading:e.closeButtonLoading,onPress:f},null)])};return oe(()=>e.show,m=>{e.transition||t(m?"show":"hide")}),e.hideOnClickOutside&&Di(s,c,{eventName:"touchstart"}),()=>{const m=g(),w=h(Gs,{name:e.transition?"van-slide-up":""},{default:()=>[mt(h("div",Oe({ref:s,style:cr(e.zIndex),class:mr({unfit:!e.safeAreaInsetBottom,"with-title":!!m}),onAnimationend:d,onTouchstartPassive:mu},r),[m,h("div",{class:mr("body")},[h("div",{class:mr("keys")},[p()]),_()])]),[[_t,e.show]])]});return e.teleport?h(ts,{to:e.teleport},{default:()=>[w]}):w}}});const Mp=te(LR),[MR,Ss,ch]=J("pagination"),Vl=(e,t,n)=>({number:e,text:t,active:n}),jp={mode:ne("multi"),prevText:String,nextText:String,pageCount:ue(0),modelValue:ft(0),totalItems:ue(0),showPageSize:ue(5),itemsPerPage:ue(10),forceEllipses:Boolean,showPrevButton:K,showNextButton:K};var jR=Y({name:MR,props:jp,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const r=M(()=>{const{pageCount:u,totalItems:d,itemsPerPage:f}=e,g=+u||Math.ceil(+d/+f);return Math.max(1,g)}),s=M(()=>{const u=[],d=r.value,f=+e.showPageSize,{modelValue:g,forceEllipses:p}=e;let _=1,m=d;const w=f<d;w&&(_=Math.max(g-Math.floor(f/2),1),m=_+f-1,m>d&&(m=d,_=m-f+1));for(let y=_;y<=m;y++){const v=Vl(y,y,y===g);u.push(v)}if(w&&f>0&&p){if(_>1){const y=Vl(_-1,"...");u.unshift(y)}if(m<d){const y=Vl(m+1,"...");u.push(y)}}return u}),o=(u,d)=>{u=ht(u,1,r.value),e.modelValue!==u&&(t("update:modelValue",u),d&&t("change",u))};Ks(()=>o(e.modelValue));const a=()=>h("li",{class:Ss("page-desc")},[n.pageDesc?n.pageDesc():`${e.modelValue}/${r.value}`]),i=()=>{const{mode:u,modelValue:d,showPrevButton:f}=e;if(!f)return;const g=n["prev-text"],p=d===1;return h("li",{class:[Ss("item",{disabled:p,border:u==="simple",prev:!0}),ko]},[h("button",{type:"button",disabled:p,onClick:()=>o(d-1,!0)},[g?g():e.prevText||ch("prev")])])},l=()=>{const{mode:u,modelValue:d,showNextButton:f}=e;if(!f)return;const g=n["next-text"],p=d===r.value;return h("li",{class:[Ss("item",{disabled:p,border:u==="simple",next:!0}),ko]},[h("button",{type:"button",disabled:p,onClick:()=>o(d+1,!0)},[g?g():e.nextText||ch("next")])])},c=()=>s.value.map(u=>h("li",{class:[Ss("item",{active:u.active,page:!0}),ko]},[h("button",{type:"button","aria-current":u.active||void 0,onClick:()=>o(u.number,!0)},[n.page?n.page(u):u.text])]));return()=>h("nav",{role:"navigation",class:Ss()},[h("ul",{class:Ss("items")},[i(),e.mode==="simple"?a():c(),l()])])}});const Up=te(jR),[UR,io]=J("password-input"),Vp={info:String,mask:K,value:ne(""),gutter:ee,length:ue(6),focused:Boolean,errorInfo:String};var VR=Y({name:UR,props:Vp,emits:["focus"],setup(e,{emit:t}){const n=s=>{s.stopPropagation(),t("focus",s)},r=()=>{const s=[],{mask:o,value:a,gutter:i,focused:l}=e,c=+e.length;for(let u=0;u<c;u++){const d=a[u],f=u!==0&&!i,g=l&&u===a.length;let p;u!==0&&i&&(p={marginLeft:Ce(i)}),s.push(h("li",{class:[{[Lm]:f},io("item",{focus:g})],style:p},[o?h("i",{style:{visibility:d?"visible":"hidden"}},null):d,g&&h("div",{class:io("cursor")},null)]))}return s};return()=>{const s=e.errorInfo||e.info;return h("div",{class:io()},[h("ul",{class:[io("security"),{[ko]:!e.gutter}],onTouchstartPassive:n},[r()]),s&&h("div",{class:io(e.errorInfo?"error-info":"info")},[s])])}}});const Fp=te(VR),Hp=te(kk);function En(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Du(e){var t=En(e).Element;return e instanceof t||e instanceof Element}function bn(e){var t=En(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function zp(e){if(typeof ShadowRoot=="undefined")return!1;var t=En(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var qs=Math.round;function Bc(){var e=navigator.userAgentData;return e!=null&&e.brands?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function FR(){return!/^((?!chrome|android).)*safari/i.test(Bc())}function li(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),s=1,o=1;t&&bn(e)&&(s=e.offsetWidth>0&&qs(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&qs(r.height)/e.offsetHeight||1);var a=Du(e)?En(e):window,i=a.visualViewport,l=!FR()&&n,c=(r.left+(l&&i?i.offsetLeft:0))/s,u=(r.top+(l&&i?i.offsetTop:0))/o,d=r.width/s,f=r.height/o;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c,x:c,y:u}}function Wp(e){var t=En(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function HR(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function zR(e){return e===En(e)||!bn(e)?Wp(e):HR(e)}function rr(e){return e?(e.nodeName||"").toLowerCase():null}function Ji(e){return((Du(e)?e.ownerDocument:e.document)||window.document).documentElement}function WR(e){return li(Ji(e)).left+Wp(e).scrollLeft}function sr(e){return En(e).getComputedStyle(e)}function Bu(e){var t=sr(e),n=t.overflow,r=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function qR(e){var t=e.getBoundingClientRect(),n=qs(t.width)/e.offsetWidth||1,r=qs(t.height)/e.offsetHeight||1;return n!==1||r!==1}function KR(e,t,n){n===void 0&&(n=!1);var r=bn(t),s=bn(t)&&qR(t),o=Ji(t),a=li(e,s,n),i={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((rr(t)!=="body"||Bu(o))&&(i=zR(t)),bn(t)?(l=li(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=WR(o))),{x:a.left+i.scrollLeft-l.x,y:a.top+i.scrollTop-l.y,width:a.width,height:a.height}}function GR(e){var t=li(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Nu(e){return rr(e)==="html"?e:e.assignedSlot||e.parentNode||(zp(e)?e.host:null)||Ji(e)}function qp(e){return["html","body","#document"].indexOf(rr(e))>=0?e.ownerDocument.body:bn(e)&&Bu(e)?e:qp(Nu(e))}function Fa(e,t){var n;t===void 0&&(t=[]);var r=qp(e),s=r===((n=e.ownerDocument)==null?void 0:n.body),o=En(r),a=s?[o].concat(o.visualViewport||[],Bu(r)?r:[]):r,i=t.concat(a);return s?i:i.concat(Fa(Nu(a)))}function YR(e){return["table","td","th"].indexOf(rr(e))>=0}function uh(e){return!bn(e)||sr(e).position==="fixed"?null:e.offsetParent}function JR(e){var t=/firefox/i.test(Bc()),n=/Trident/i.test(Bc());if(n&&bn(e)){var r=sr(e);if(r.position==="fixed")return null}var s=Nu(e);for(zp(s)&&(s=s.host);bn(s)&&["html","body"].indexOf(rr(s))<0;){var o=sr(s);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return s;s=s.parentNode}return null}function Kp(e){for(var t=En(e),n=uh(e);n&&YR(n)&&sr(n).position==="static";)n=uh(n);return n&&(rr(n)==="html"||rr(n)==="body"&&sr(n).position==="static")?t:n||JR(e)||t}var js="top",ci="bottom",Xo="right",Qr="left",Gp="auto",XR=[js,ci,Xo,Qr],Yp="start",ui="end",ZR=[].concat(XR,[Gp]).reduce(function(e,t){return e.concat([t,t+"-"+Yp,t+"-"+ui])},[]),QR="beforeRead",eP="read",tP="afterRead",nP="beforeMain",rP="main",sP="afterMain",oP="beforeWrite",aP="write",iP="afterWrite",Nc=[QR,eP,tP,nP,rP,sP,oP,aP,iP];function lP(e){var t=new Map,n=new Set,r=[];e.forEach(function(o){t.set(o.name,o)});function s(o){n.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(i){if(!n.has(i)){var l=t.get(i);l&&s(l)}}),r.push(o)}return e.forEach(function(o){n.has(o.name)||s(o)}),r}function cP(e){var t=lP(e);return Nc.reduce(function(n,r){return n.concat(t.filter(function(s){return s.phase===r}))},[])}function uP(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function vr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return[].concat(n).reduce(function(s,o){return s.replace(/%s/,o)},e)}var Ur='Popper: modifier "%s" provided an invalid %s property, expected %s but got %s',dP='Popper: modifier "%s" requires "%s", but "%s" modifier is not available',dh=["name","enabled","phase","fn","effect","requires","options"];function fP(e){e.forEach(function(t){[].concat(Object.keys(t),dh).filter(function(n,r,s){return s.indexOf(n)===r}).forEach(function(n){switch(n){case"name":typeof t.name!="string"&&console.error(vr(Ur,String(t.name),'"name"','"string"','"'+String(t.name)+'"'));break;case"enabled":typeof t.enabled!="boolean"&&console.error(vr(Ur,t.name,'"enabled"','"boolean"','"'+String(t.enabled)+'"'));break;case"phase":Nc.indexOf(t.phase)<0&&console.error(vr(Ur,t.name,'"phase"',"either "+Nc.join(", "),'"'+String(t.phase)+'"'));break;case"fn":typeof t.fn!="function"&&console.error(vr(Ur,t.name,'"fn"','"function"','"'+String(t.fn)+'"'));break;case"effect":t.effect!=null&&typeof t.effect!="function"&&console.error(vr(Ur,t.name,'"effect"','"function"','"'+String(t.fn)+'"'));break;case"requires":t.requires!=null&&!Array.isArray(t.requires)&&console.error(vr(Ur,t.name,'"requires"','"array"','"'+String(t.requires)+'"'));break;case"requiresIfExists":Array.isArray(t.requiresIfExists)||console.error(vr(Ur,t.name,'"requiresIfExists"','"array"','"'+String(t.requiresIfExists)+'"'));break;case"options":case"data":break;default:console.error('PopperJS: an invalid property has been provided to the "'+t.name+'" modifier, valid properties are '+dh.map(function(r){return'"'+r+'"'}).join(", ")+'; but "'+n+'" was provided.')}t.requires&&t.requires.forEach(function(r){e.find(function(s){return s.name===r})==null&&console.error(vr(dP,String(t.name),r,r))})})})}function hP(e,t){var n=new Set;return e.filter(function(r){var s=t(r);if(!n.has(s))return n.add(s),!0})}function Xi(e){return e.split("-")[0]}function gP(e){var t=e.reduce(function(n,r){var s=n[r.name];return n[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}function Jp(e){return e.split("-")[1]}function mP(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function vP(e){var t=e.reference,n=e.element,r=e.placement,s=r?Xi(r):null,o=r?Jp(r):null,a=t.x+t.width/2-n.width/2,i=t.y+t.height/2-n.height/2,l;switch(s){case js:l={x:a,y:t.y-n.height};break;case ci:l={x:a,y:t.y+t.height};break;case Xo:l={x:t.x+t.width,y:i};break;case Qr:l={x:t.x-n.width,y:i};break;default:l={x:t.x,y:t.y}}var c=s?mP(s):null;if(c!=null){var u=c==="y"?"height":"width";switch(o){case Yp:l[c]=l[c]-(t[u]/2-n[u]/2);break;case ui:l[c]=l[c]+(t[u]/2-n[u]/2);break}}return l}var fh="Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.",yP="Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.",hh={placement:"bottom",modifiers:[],strategy:"absolute"};function gh(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function pP(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,s=t.defaultOptions,o=s===void 0?hh:s;return function(i,l,c){c===void 0&&(c=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},hh,o),modifiersData:{},elements:{reference:i,popper:l},attributes:{},styles:{}},d=[],f=!1,g={state:u,setOptions:function(w){var y=typeof w=="function"?w(u.options):w;_(),u.options=Object.assign({},o,u.options,y),u.scrollParents={reference:Du(i)?Fa(i):i.contextElement?Fa(i.contextElement):[],popper:Fa(l)};var v=cP(gP([].concat(r,u.options.modifiers)));u.orderedModifiers=v.filter(function(T){return T.enabled});{var S=hP([].concat(v,u.options.modifiers),function(T){var E=T.name;return E});if(fP(S),Xi(u.options.placement)===Gp){var b=u.orderedModifiers.find(function(T){var E=T.name;return E==="flip"});b||console.error(['Popper: "auto" placements require the "flip" modifier be',"present and enabled to work."].join(" "))}var x=sr(l),O=x.marginTop,C=x.marginRight,R=x.marginBottom,D=x.marginLeft;[O,C,R,D].some(function(T){return parseFloat(T)})&&console.warn(['Popper: CSS "margin" styles cannot be used to apply padding',"between the popper and its reference element or boundary.","To replicate margin, use the `offset` modifier, as well as","the `padding` option in the `preventOverflow` and `flip`","modifiers."].join(" "))}return p(),g.update()},forceUpdate:function(){if(!f){var w=u.elements,y=w.reference,v=w.popper;if(!gh(y,v)){console.error(fh);return}u.rects={reference:KR(y,Kp(v),u.options.strategy==="fixed"),popper:GR(v)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(T){return u.modifiersData[T.name]=Object.assign({},T.data)});for(var S=0,b=0;b<u.orderedModifiers.length;b++){if(S+=1,S>100){console.error(yP);break}if(u.reset===!0){u.reset=!1,b=-1;continue}var x=u.orderedModifiers[b],O=x.fn,C=x.options,R=C===void 0?{}:C,D=x.name;typeof O=="function"&&(u=O({state:u,options:R,name:D,instance:g})||u)}}},update:uP(function(){return new Promise(function(m){g.forceUpdate(),m(u)})}),destroy:function(){_(),f=!0}};if(!gh(i,l))return console.error(fh),g;g.setOptions(c).then(function(m){!f&&c.onFirstUpdate&&c.onFirstUpdate(m)});function p(){u.orderedModifiers.forEach(function(m){var w=m.name,y=m.options,v=y===void 0?{}:y,S=m.effect;if(typeof S=="function"){var b=S({state:u,name:w,instance:g,options:v}),x=function(){};d.push(b||x)}})}function _(){d.forEach(function(m){return m()}),d=[]}return g}}var Ia={passive:!0};function bP(e){var t=e.state,n=e.instance,r=e.options,s=r.scroll,o=s===void 0?!0:s,a=r.resize,i=a===void 0?!0:a,l=En(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach(function(u){u.addEventListener("scroll",n.update,Ia)}),i&&l.addEventListener("resize",n.update,Ia),function(){o&&c.forEach(function(u){u.removeEventListener("scroll",n.update,Ia)}),i&&l.removeEventListener("resize",n.update,Ia)}}var wP={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:bP,data:{}};function _P(e){var t=e.state,n=e.name;t.modifiersData[n]=vP({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}var SP={name:"popperOffsets",enabled:!0,phase:"read",fn:_P,data:{}},EP={top:"auto",right:"auto",bottom:"auto",left:"auto"};function TP(e){var t=e.x,n=e.y,r=window,s=r.devicePixelRatio||1;return{x:qs(t*s)/s||0,y:qs(n*s)/s||0}}function mh(e){var t,n=e.popper,r=e.popperRect,s=e.placement,o=e.variation,a=e.offsets,i=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,f=a.x,g=f===void 0?0:f,p=a.y,_=p===void 0?0:p,m=typeof u=="function"?u({x:g,y:_}):{x:g,y:_};g=m.x,_=m.y;var w=a.hasOwnProperty("x"),y=a.hasOwnProperty("y"),v=Qr,S=js,b=window;if(c){var x=Kp(n),O="clientHeight",C="clientWidth";if(x===En(n)&&(x=Ji(n),sr(x).position!=="static"&&i==="absolute"&&(O="scrollHeight",C="scrollWidth")),x=x,s===js||(s===Qr||s===Xo)&&o===ui){S=ci;var R=d&&x===b&&b.visualViewport?b.visualViewport.height:x[O];_-=R-r.height,_*=l?1:-1}if(s===Qr||(s===js||s===ci)&&o===ui){v=Xo;var D=d&&x===b&&b.visualViewport?b.visualViewport.width:x[C];g-=D-r.width,g*=l?1:-1}}var T=Object.assign({position:i},c&&EP),E=u===!0?TP({x:g,y:_}):{x:g,y:_};if(g=E.x,_=E.y,l){var k;return Object.assign({},T,(k={},k[S]=y?"0":"",k[v]=w?"0":"",k.transform=(b.devicePixelRatio||1)<=1?"translate("+g+"px, "+_+"px)":"translate3d("+g+"px, "+_+"px, 0)",k))}return Object.assign({},T,(t={},t[S]=y?_+"px":"",t[v]=w?g+"px":"",t.transform="",t))}function CP(e){var t=e.state,n=e.options,r=n.gpuAcceleration,s=r===void 0?!0:r,o=n.adaptive,a=o===void 0?!0:o,i=n.roundOffsets,l=i===void 0?!0:i;{var c=sr(t.elements.popper).transitionProperty||"";a&&["transform","top","right","bottom","left"].some(function(d){return c.indexOf(d)>=0})&&console.warn(["Popper: Detected CSS transitions on at least one of the following",'CSS properties: "transform", "top", "right", "bottom", "left".',`

`,'Disable the "computeStyles" modifier\'s `adaptive` option to allow',"for smooth transitions, or remove these properties from the CSS","transition declaration on the popper element if only transitioning","opacity or background-color for example.",`

`,"We recommend using the popper element as a wrapper around an inner","element that can have any CSS property transitioned for animations."].join(" "))}var u={placement:Xi(t.placement),variation:Jp(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,mh(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,mh(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var xP={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:CP,data:{}};function kP(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},s=t.attributes[n]||{},o=t.elements[n];!bn(o)||!rr(o)||(Object.assign(o.style,r),Object.keys(s).forEach(function(a){var i=s[a];i===!1?o.removeAttribute(a):o.setAttribute(a,i===!0?"":i)}))})}function AP(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var s=t.elements[r],o=t.attributes[r]||{},a=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),i=a.reduce(function(l,c){return l[c]="",l},{});!bn(s)||!rr(s)||(Object.assign(s.style,i),Object.keys(o).forEach(function(l){s.removeAttribute(l)}))})}}var OP={name:"applyStyles",enabled:!0,phase:"write",fn:kP,effect:AP,requires:["computeStyles"]},RP=[wP,SP,xP,OP],PP=pP({defaultModifiers:RP});function IP(e,t,n){var r=Xi(e),s=[Qr,js].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,a=o[0],i=o[1];return a=a||0,i=(i||0)*s,[Qr,Xo].indexOf(r)>=0?{x:i,y:a}:{x:a,y:i}}function $P(e){var t=e.state,n=e.options,r=e.name,s=n.offset,o=s===void 0?[0,0]:s,a=ZR.reduce(function(u,d){return u[d]=IP(d,t.rects,o),u},{}),i=a[t.placement],l=i.x,c=i.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=a}var DP={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:$P};const[BP,Vr]=J("popover"),NP=["overlay","duration","teleport","overlayStyle","overlayClass","closeOnClickOverlay"],Xp={show:Boolean,theme:ne("light"),overlay:Boolean,actions:Xe(),actionsDirection:ne("vertical"),trigger:ne("click"),duration:ee,showArrow:K,placement:ne("bottom"),iconPrefix:String,overlayClass:Qe,overlayStyle:Object,closeOnClickAction:K,closeOnClickOverlay:K,closeOnClickOutside:K,offset:{type:Array,default:()=>[0,8]},teleport:{type:[String,Object],default:"body"}};var LP=Y({name:BP,props:Xp,emits:["select","touchstart","update:show"],setup(e,{emit:t,slots:n,attrs:r}){let s;const o=U(),a=U(),i=U(),l=Tu(()=>e.show,y=>t("update:show",y)),c=()=>({placement:e.placement,modifiers:[{name:"computeStyles",options:{adaptive:!1,gpuAcceleration:!1}},ge({},DP,{options:{offset:e.offset}})]}),u=()=>a.value&&i.value?PP(a.value,i.value.popupRef.value,c()):null,d=()=>{Ae(()=>{l.value&&(s?s.setOptions(c()):(s=u(),Vt&&(window.addEventListener("animationend",d),window.addEventListener("transitionend",d))))})},f=y=>{l.value=y},g=()=>{e.trigger==="click"&&(l.value=!l.value)},p=(y,v)=>{y.disabled||(t("select",y,v),e.closeOnClickAction&&(l.value=!1))},_=()=>{l.value&&e.closeOnClickOutside&&(!e.overlay||e.closeOnClickOverlay)&&(l.value=!1)},m=(y,v)=>n.action?n.action({action:y,index:v}):[y.icon&&h(xe,{name:y.icon,classPrefix:e.iconPrefix,class:Vr("action-icon")},null),h("div",{class:[Vr("action-text"),{[pu]:e.actionsDirection==="vertical"}]},[y.text])],w=(y,v)=>{const{icon:S,color:b,disabled:x,className:O}=y;return h("div",{role:"menuitem",class:[Vr("action",{disabled:x,"with-icon":S}),{[px]:e.actionsDirection==="horizontal"},O],style:{color:b},tabindex:x?void 0:0,"aria-disabled":x||void 0,onClick:()=>p(y,v)},[m(y,v)])};return Ze(()=>{d(),Ks(()=>{var y;o.value=(y=i.value)==null?void 0:y.popupRef.value})}),Mn(()=>{s&&(Vt&&(window.removeEventListener("animationend",d),window.removeEventListener("transitionend",d)),s.destroy(),s=null)}),oe(()=>[l.value,e.offset,e.placement],d),Di([a,o],_,{eventName:"touchstart"}),()=>{var y;return h(lt,null,[h("span",{ref:a,class:Vr("wrapper"),onClick:g},[(y=n.reference)==null?void 0:y.call(n)]),h(on,Oe({ref:i,show:l.value,class:Vr([e.theme]),position:"",transition:"van-popover-zoom",lockScroll:!1,"onUpdate:show":f},r,ai(),De(e,NP)),{default:()=>[e.showArrow&&h("div",{class:Vr("arrow")},null),h("div",{role:"menu",class:Vr("content",e.actionsDirection)},[n.default?n.default():e.actions.map(w)])]})])}}});const Zp=te(LP),[MP,Fl]=J("progress"),Qp={color:String,inactive:Boolean,pivotText:String,textColor:String,showPivot:K,pivotColor:String,trackColor:String,strokeWidth:ee,percentage:{type:ee,default:0,validator:e=>+e>=0&&+e<=100}};var jP=Y({name:MP,props:Qp,setup(e){const t=M(()=>e.inactive?void 0:e.color),n=s=>Math.min(Math.max(+s,0),100),r=()=>{const{textColor:s,pivotText:o,pivotColor:a,percentage:i}=e,l=n(i),c=o!=null?o:`${i}%`;if(e.showPivot&&c){const u={color:s,left:`${l}%`,transform:`translate(-${l}%,-50%)`,background:a||t.value};return h("span",{style:u,class:Fl("pivot",{inactive:e.inactive})},[c])}};return()=>{const{trackColor:s,percentage:o,strokeWidth:a}=e,i=n(o),l={background:s,height:Ce(a)},c={width:`${i}%`,background:t.value};return h("div",{class:Fl(),style:l},[h("span",{class:Fl("portion",{inactive:e.inactive}),style:c},null),r()])}}});const eb=te(jP),[UP,lo,VP]=J("pull-refresh"),tb=50,FP=["pulling","loosing","success"],nb={disabled:Boolean,modelValue:Boolean,headHeight:ue(tb),successText:String,pullingText:String,loosingText:String,loadingText:String,pullDistance:ee,successDuration:ue(500),animationDuration:ue(300)};var HP=Y({name:UP,props:nb,emits:["change","refresh","update:modelValue"],setup(e,{emit:t,slots:n}){let r;const s=U(),o=U(),a=Js(s),i=Je({status:"normal",distance:0,duration:0}),l=sn(),c=()=>{if(e.headHeight!==tb)return{height:`${e.headHeight}px`}},u=()=>i.status!=="loading"&&i.status!=="success"&&!e.disabled,d=S=>{const b=+(e.pullDistance||e.headHeight);return S>b&&(S<b*2?S=b+(S-b)/2:S=b*1.5+(S-b*2)/4),Math.round(S)},f=(S,b)=>{const x=+(e.pullDistance||e.headHeight);i.distance=S,b?i.status="loading":S===0?i.status="normal":S<x?i.status="pulling":i.status="loosing",t("change",{status:i.status,distance:S})},g=()=>{const{status:S}=i;return S==="normal"?"":e[`${S}Text`]||VP(S)},p=()=>{const{status:S,distance:b}=i;if(n[S])return n[S]({distance:b});const x=[];return FP.includes(S)&&x.push(h("div",{class:lo("text")},[g()])),S==="loading"&&x.push(h(rn,{class:lo("loading")},{default:g})),x},_=()=>{i.status="success",setTimeout(()=>{f(0)},+e.successDuration)},m=S=>{r=nr(a.value)===0,r&&(i.duration=0,l.start(S))},w=S=>{u()&&m(S)},y=S=>{if(u()){r||m(S);const{deltaY:b}=l;l.move(S),r&&b.value>=0&&l.isVertical()&&(Ke(S),f(d(b.value)))}},v=()=>{r&&l.deltaY.value&&u()&&(i.duration=+e.animationDuration,i.status==="loosing"?(f(+e.headHeight,!0),t("update:modelValue",!0),Ae(()=>t("refresh"))):f(0))};return oe(()=>e.modelValue,S=>{i.duration=+e.animationDuration,S?f(+e.headHeight,!0):n.success||e.successText?_():f(0,!1)}),at("touchmove",y,{target:o}),()=>{var S;const b={transitionDuration:`${i.duration}ms`,transform:i.distance?`translate3d(0,${i.distance}px, 0)`:""};return h("div",{ref:s,class:lo()},[h("div",{ref:o,class:lo("track"),style:b,onTouchstartPassive:w,onTouchend:v,onTouchcancel:v},[h("div",{class:lo("head"),style:c()},[p()]),(S=n.default)==null?void 0:S.call(n)])])}}});const rb=te(HP),[zP,$a]=J("rate");function WP(e,t,n,r){return e>=t?{status:"full",value:1}:e+.5>=t&&n&&!r?{status:"half",value:.5}:e+1>=t&&n&&r?{status:"half",value:Math.round((e-t+1)*1e10)/1e10}:{status:"void",value:0}}const sb={size:ee,icon:ne("star"),color:String,count:ue(5),gutter:ee,clearable:Boolean,readonly:Boolean,disabled:Boolean,voidIcon:ne("star-o"),allowHalf:Boolean,voidColor:String,touchable:K,iconPrefix:String,modelValue:ft(0),disabledColor:String};var qP=Y({name:zP,props:sb,emits:["change","update:modelValue"],setup(e,{emit:t}){const n=sn(),[r,s]=na(),o=U(),a=M(()=>e.readonly||e.disabled),i=M(()=>a.value||!e.touchable),l=M(()=>Array(+e.count).fill("").map((v,S)=>WP(e.modelValue,S+1,e.allowHalf,e.readonly)));let c,u,d=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;const g=()=>{u=Be(o);const v=r.value.map(Be);c=[],v.forEach((S,b)=>{d=Math.min(S.top,d),f=Math.max(S.top,f),e.allowHalf?c.push({score:b+.5,left:S.left,top:S.top,height:S.height},{score:b+1,left:S.left+S.width/2,top:S.top,height:S.height}):c.push({score:b+1,left:S.left,top:S.top,height:S.height})})},p=(v,S)=>{for(let b=c.length-1;b>0;b--)if(S>=u.top&&S<=u.bottom){if(v>c[b].left&&S>=c[b].top&&S<=c[b].top+c[b].height)return c[b].score}else{const x=S<u.top?d:f;if(v>c[b].left&&c[b].top===x)return c[b].score}return e.allowHalf?.5:1},_=v=>{a.value||v===e.modelValue||(t("update:modelValue",v),t("change",v))},m=v=>{i.value||(n.start(v),g())},w=v=>{if(!i.value&&(n.move(v),n.isHorizontal()&&!n.isTap.value)){const{clientX:S,clientY:b}=v.touches[0];Ke(v),_(p(S,b))}},y=(v,S)=>{const{icon:b,size:x,color:O,count:C,gutter:R,voidIcon:D,disabled:T,voidColor:E,allowHalf:k,iconPrefix:$,disabledColor:N}=e,L=S+1,H=v.status==="full",X=v.status==="void",me=k&&v.value>0&&v.value<1;let Se;R&&L!==+C&&(Se={paddingRight:Ce(R)});const ae=F=>{g();let Q=k?p(F.clientX,F.clientY):L;e.clearable&&n.isTap.value&&Q===e.modelValue&&(Q=0),_(Q)};return h("div",{key:S,ref:s(S),role:"radio",style:Se,class:$a("item"),tabindex:T?void 0:0,"aria-setsize":C,"aria-posinset":L,"aria-checked":!X,onClick:ae},[h(xe,{size:x,name:H?b:D,class:$a("icon",{disabled:T,full:H}),color:T?N:H?O:E,classPrefix:$},null),me&&h(xe,{size:x,style:{width:v.value+"em"},name:X?D:b,class:$a("icon",["half",{disabled:T,full:!X}]),color:T?N:X?E:O,classPrefix:$},null)])};return Rr(()=>e.modelValue),at("touchmove",w,{target:o}),()=>h("div",{ref:o,role:"radiogroup",class:$a({readonly:e.readonly,disabled:e.disabled}),tabindex:e.disabled?void 0:0,"aria-disabled":e.disabled,"aria-readonly":e.readonly,onTouchstartPassive:m},[l.value.map(y)])}});const ob=te(qP),KP={figureArr:Xe(),delay:Number,duration:ft(2),isStart:Boolean,direction:ne("down"),height:ft(40)},[GP,Hl]=J("rolling-text-item");var YP=Y({name:GP,props:KP,setup(e){const t=M(()=>e.direction==="down"?e.figureArr.slice().reverse():e.figureArr),n=M(()=>`-${e.height*(e.figureArr.length-1)}px`),r=M(()=>({lineHeight:Ce(e.height)})),s=M(()=>({height:Ce(e.height),"--van-translate":n.value,"--van-duration":e.duration+"s","--van-delay":e.delay+"s"}));return()=>h("div",{class:Hl([e.direction]),style:s.value},[h("div",{class:Hl("box",{animate:e.isStart})},[Array.isArray(t.value)&&t.value.map(o=>h("div",{class:Hl("item"),style:r.value},[o]))])])}});const[JP,XP]=J("rolling-text"),ab={startNum:ft(0),targetNum:Number,textList:Xe(),duration:ft(2),autoStart:K,direction:ne("down"),stopOrder:ne("ltr"),height:ft(40)},ZP=2;var QP=Y({name:JP,props:ab,setup(e){const t=M(()=>Array.isArray(e.textList)&&e.textList.length),n=M(()=>t.value?e.textList[0].length:`${Math.max(e.startNum,e.targetNum)}`.length),r=d=>{const f=[];for(let g=0;g<e.textList.length;g++)f.push(e.textList[g][d]);return f},s=M(()=>t.value?new Array(n.value).fill(""):mn(e.targetNum,n.value).split("")),o=M(()=>mn(e.startNum,n.value).split("")),a=d=>{const f=+o.value[d],g=+s.value[d],p=[];for(let _=f;_<=9;_++)p.push(_);for(let _=0;_<=ZP;_++)for(let m=0;m<=9;m++)p.push(m);for(let _=0;_<=g;_++)p.push(_);return p},i=(d,f)=>e.stopOrder==="ltr"?.2*d:.2*(f-1-d),l=U(e.autoStart),c=()=>{l.value=!0},u=()=>{l.value=!1,e.autoStart&&kt(()=>c())};return oe(()=>e.autoStart,d=>{d&&c()}),Re({start:c,reset:u}),()=>h("div",{class:XP()},[s.value.map((d,f)=>h(YP,{figureArr:t.value?r(f):a(f),duration:e.duration,direction:e.direction,isStart:l.value,height:e.height,delay:i(f,n.value)},null))])}});const ib=te(QP),lb=te(oO),[eI,co,tI]=J("search"),cb=ge({},Au,{label:String,shape:ne("square"),leftIcon:ne("search"),clearable:K,actionText:String,background:String,showAction:Boolean});var nI=Y({name:eI,props:cb,emits:["blur","focus","clear","search","cancel","clickInput","clickLeftIcon","clickRightIcon","update:modelValue"],setup(e,{emit:t,slots:n,attrs:r}){const s=Zs(),o=U(),a=()=>{n.action||(t("update:modelValue",""),t("cancel"))},i=b=>{b.keyCode===13&&(Ke(b),t("search",e.modelValue))},l=()=>e.id||`${s}-input`,c=()=>{if(n.label||e.label)return h("label",{class:co("label"),for:l(),"data-allow-mismatch":"attribute"},[n.label?n.label():e.label])},u=()=>{if(e.showAction){const b=e.actionText||tI("cancel");return h("div",{class:co("action"),role:"button",tabindex:0,onClick:a},[n.action?n.action():b])}},d=()=>{var b;return(b=o.value)==null?void 0:b.blur()},f=()=>{var b;return(b=o.value)==null?void 0:b.focus()},g=b=>t("blur",b),p=b=>t("focus",b),_=b=>t("clear",b),m=b=>t("clickInput",b),w=b=>t("clickLeftIcon",b),y=b=>t("clickRightIcon",b),v=Object.keys(Au),S=()=>{const b=ge({},r,De(e,v),{id:l()}),x=O=>t("update:modelValue",O);return h(Bn,Oe({ref:o,type:"search",class:co("field",{"with-message":b.errorMessage}),border:!1,labelAlign:"left",onBlur:g,onFocus:p,onClear:_,onKeypress:i,onClickInput:m,onClickLeftIcon:w,onClickRightIcon:y,"onUpdate:modelValue":x},b),De(n,["left-icon","right-icon"]))};return Re({focus:f,blur:d}),()=>{var b;return h("div",{class:co({"show-action":e.showAction}),style:{background:e.background}},[(b=n.left)==null?void 0:b.call(n),h("div",{class:co("content",e.shape)},[c(),S()]),u()])}}});const ub=te(nI),rI=e=>e==null?void 0:e.includes("/"),sI=[..._u,"round","closeOnPopstate","safeAreaInsetBottom"],oI={qq:"qq",link:"link-o",weibo:"weibo",qrcode:"qr",poster:"photo-o",wechat:"wechat","weapp-qrcode":"miniprogram-o","wechat-moments":"wechat-moments"},[aI,cn,iI]=J("share-sheet"),db=ge({},Xs,{title:String,round:K,options:Xe(),cancelText:String,description:String,closeOnPopstate:K,safeAreaInsetBottom:K});var lI=Y({name:aI,props:db,emits:["cancel","select","update:show"],setup(e,{emit:t,slots:n}){const r=f=>t("update:show",f),s=()=>{r(!1),t("cancel")},o=(f,g)=>t("select",f,g),a=()=>{const f=n.title?n.title():e.title,g=n.description?n.description():e.description;if(f||g)return h("div",{class:cn("header")},[f&&h("h2",{class:cn("title")},[f]),g&&h("span",{class:cn("description")},[g])])},i=f=>rI(f)?h("img",{src:f,class:cn("image-icon")},null):h("div",{class:cn("icon",[f])},[h(xe,{name:oI[f]||f},null)]),l=(f,g)=>{const{name:p,icon:_,className:m,description:w}=f;return h("div",{role:"button",tabindex:0,class:[cn("option"),m,At],onClick:()=>o(f,g)},[i(_),p&&h("span",{class:cn("name")},[p]),w&&h("span",{class:cn("option-description")},[w])])},c=(f,g)=>h("div",{class:cn("options",{border:g})},[f.map(l)]),u=()=>{const{options:f}=e;return Array.isArray(f[0])?f.map((g,p)=>c(g,p!==0)):c(f)},d=()=>{var f;const g=(f=e.cancelText)!=null?f:iI("cancel");if(n.cancel||g)return h("button",{type:"button",class:cn("cancel"),onClick:s},[n.cancel?n.cancel():g])};return()=>h(on,Oe({class:cn(),position:"bottom","onUpdate:show":r},De(e,sI)),{default:()=>[a(),u(),d()]})}});const fb=te(lI),[hb,cI]=J("sidebar"),gb=Symbol(hb),mb={modelValue:ue(0)};var uI=Y({name:hb,props:mb,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const{linkChildren:r}=Ot(gb),s=()=>+e.modelValue;return r({getActive:s,setActive:a=>{a!==s()&&(t("update:modelValue",a),t("change",a))}}),()=>{var a;return h("div",{role:"tablist",class:cI()},[(a=n.default)==null?void 0:a.call(n)])}}});const Lu=te(uI),[dI,vh]=J("sidebar-item"),vb=ge({},Ir,{dot:Boolean,title:String,badge:ee,disabled:Boolean,badgeProps:Object});var fI=Y({name:dI,props:vb,emits:["click"],setup(e,{emit:t,slots:n}){const r=rs(),{parent:s,index:o}=Et(gb);if(!s)return;const a=()=>{e.disabled||(t("click",o.value),s.setActive(o.value),r())};return()=>{const{dot:i,badge:l,title:c,disabled:u}=e,d=o.value===s.getActive();return h("div",{role:"tab",class:vh({select:d,disabled:u}),tabindex:u?void 0:0,"aria-selected":d,onClick:a},[h($r,Oe({dot:i,class:vh("text"),content:l},e.badgeProps),{default:()=>[n.title?n.title():c]})])}}});const Mu=te(fI),[hI,zl,yh]=J("signature"),gI={tips:String,type:ne("png"),penColor:ne("#000"),lineWidth:ft(3),clearButtonText:String,backgroundColor:ne(""),confirmButtonText:String},mI=()=>{var e;const t=document.createElement("canvas");return!!((e=t.getContext)!=null&&e.call(t,"2d"))};var vI=Y({name:hI,props:gI,emits:["submit","clear","start","end","signing"],setup(e,{emit:t,slots:n}){const r=U(),s=U(),o=M(()=>r.value?r.value.getContext("2d"):null),a=Vt?mI():!0;let i=0,l=0,c;const u=()=>{if(!o.value)return!1;o.value.beginPath(),o.value.lineWidth=e.lineWidth,o.value.strokeStyle=e.penColor,c=Be(r),t("start")},d=v=>{if(!o.value)return!1;Ke(v);const S=v.touches[0],b=S.clientX-((c==null?void 0:c.left)||0),x=S.clientY-((c==null?void 0:c.top)||0);o.value.lineCap="round",o.value.lineJoin="round",o.value.lineTo(b,x),o.value.stroke(),t("signing",v)},f=v=>{Ke(v),t("end")},g=v=>{const S=document.createElement("canvas");if(S.width=v.width,S.height=v.height,e.backgroundColor){const b=S.getContext("2d");p(b)}return v.toDataURL()===S.toDataURL()},p=v=>{v&&e.backgroundColor&&(v.fillStyle=e.backgroundColor,v.fillRect(0,0,i,l))},_=()=>{var v,S;const b=r.value;if(!b)return;const O=g(b)?"":((S=(v={jpg:()=>b.toDataURL("image/jpeg",.8),jpeg:()=>b.toDataURL("image/jpeg",.8)})[e.type])==null?void 0:S.call(v))||b.toDataURL(`image/${e.type}`);t("submit",{image:O,canvas:b})},m=()=>{o.value&&(o.value.clearRect(0,0,i,l),o.value.closePath(),p(o.value)),t("clear")},w=()=>{var v,S,b;if(a&&r.value){const x=r.value,O=Vt?window.devicePixelRatio:1;i=x.width=(((v=s.value)==null?void 0:v.offsetWidth)||0)*O,l=x.height=(((S=s.value)==null?void 0:S.offsetHeight)||0)*O,(b=o.value)==null||b.scale(O,O),p(o.value)}},y=()=>{if(o.value){const v=o.value.getImageData(0,0,i,l);w(),o.value.putImageData(v,0,0)}};return oe(pn,y),Ze(w),Re({resize:y,clear:m,submit:_}),()=>h("div",{class:zl()},[h("div",{class:zl("content"),ref:s},[a?h("canvas",{ref:r,onTouchstartPassive:u,onTouchmove:d,onTouchend:f},null):n.tips?n.tips():h("p",null,[e.tips])]),h("div",{class:zl("footer")},[h(St,{size:"small",onClick:m},{default:()=>[e.clearButtonText||yh("clear")]}),h(St,{type:"primary",size:"small",onClick:_},{default:()=>[e.confirmButtonText||yh("confirm")]})])])}});const yb=te(vI),[yI,pI]=J("skeleton-title"),pb={round:Boolean,titleWidth:ee};var bI=Y({name:yI,props:pb,setup(e){return()=>h("h3",{class:pI([{round:e.round}]),style:{width:Ce(e.titleWidth)}},null)}});const ju=te(bI);var wI=ju;const[_I,SI]=J("skeleton-avatar"),bb={avatarSize:ee,avatarShape:ne("round")};var EI=Y({name:_I,props:bb,setup(e){return()=>h("div",{class:SI([e.avatarShape]),style:lr(e.avatarSize)},null)}});const Uu=te(EI);var TI=Uu;const Zi="100%",wb={round:Boolean,rowWidth:{type:ee,default:Zi}},[CI,xI]=J("skeleton-paragraph");var kI=Y({name:CI,props:wb,setup(e){return()=>h("div",{class:xI([{round:e.round}]),style:{width:e.rowWidth}},null)}});const Vu=te(kI);var AI=Vu;const[OI,ph]=J("skeleton"),RI="60%",_b={row:ue(0),round:Boolean,title:Boolean,titleWidth:ee,avatar:Boolean,avatarSize:ee,avatarShape:ne("round"),loading:K,animate:K,rowWidth:{type:[Number,String,Array],default:Zi}};var PI=Y({name:OI,inheritAttrs:!1,props:_b,setup(e,{slots:t,attrs:n}){const r=()=>{if(e.avatar)return h(TI,{avatarShape:e.avatarShape,avatarSize:e.avatarSize},null)},s=()=>{if(e.title)return h(wI,{round:e.round,titleWidth:e.titleWidth},null)},o=l=>{const{rowWidth:c}=e;return c===Zi&&l===+e.row-1?RI:Array.isArray(c)?c[l]:c},a=()=>Array(+e.row).fill("").map((l,c)=>h(AI,{key:c,round:e.round,rowWidth:Ce(o(c))},null)),i=()=>t.template?t.template():h(lt,null,[r(),h("div",{class:ph("content")},[s(),a()])]);return()=>{var l;return e.loading?h("div",Oe({class:ph({animate:e.animate,round:e.round})},n),[i()]):(l=t.default)==null?void 0:l.call(t)}}});const Sb=te(PI),[II,bh]=J("skeleton-image"),Eb={imageSize:ee,imageShape:ne("square")};var $I=Y({name:II,props:Eb,setup(e){return()=>h("div",{class:bh([e.imageShape]),style:lr(e.imageSize)},[h(xe,{name:"photo",class:bh("icon")},null)])}});const Tb=te($I),[DI,uo]=J("slider"),Cb={min:ue(0),max:ue(100),step:ue(1),range:Boolean,reverse:Boolean,disabled:Boolean,readonly:Boolean,vertical:Boolean,barHeight:ee,buttonSize:ee,activeColor:String,inactiveColor:String,modelValue:{type:[Number,Array],default:0}};var BI=Y({name:DI,props:Cb,emits:["change","dragEnd","dragStart","update:modelValue"],setup(e,{emit:t,slots:n}){let r,s,o;const a=U(),i=[U(),U()],l=U(),c=sn(),u=M(()=>Number(e.max)-Number(e.min)),d=M(()=>{const T=e.vertical?"width":"height";return{background:e.inactiveColor,[T]:Ce(e.barHeight)}}),f=T=>e.range&&Array.isArray(T),g=()=>{const{modelValue:T,min:E}=e;return f(T)?`${(T[1]-T[0])*100/u.value}%`:`${(T-Number(E))*100/u.value}%`},p=()=>{const{modelValue:T,min:E}=e;return f(T)?`${(T[0]-Number(E))*100/u.value}%`:"0%"},_=M(()=>{const E={[e.vertical?"height":"width"]:g(),background:e.activeColor};l.value&&(E.transition="none");const k=()=>e.vertical?e.reverse?"bottom":"top":e.reverse?"right":"left";return E[k()]=p(),E}),m=T=>{const E=+e.min,k=+e.max,$=+e.step;T=ht(T,E,k);const N=Math.round((T-E)/$)*$;return Dm(E,N)},w=()=>{const T=e.modelValue;f(T)?o=T.map(m):o=m(T)},y=T=>{var E,k;const $=(E=T[0])!=null?E:Number(e.min),N=(k=T[1])!=null?k:Number(e.max);return $>N?[N,$]:[$,N]},v=(T,E)=>{f(T)?T=y(T).map(m):T=m(T),Dn(T,e.modelValue)||t("update:modelValue",T),E&&!Dn(T,o)&&t("change",T)},S=T=>{if(T.stopPropagation(),e.disabled||e.readonly)return;w();const{min:E,reverse:k,vertical:$,modelValue:N}=e,L=Be(a),H=()=>$?k?L.bottom-T.clientY:T.clientY-L.top:k?L.right-T.clientX:T.clientX-L.left,X=$?L.height:L.width,me=Number(E)+H()/X*u.value;if(f(N)){const[Se,ae]=N,F=(Se+ae)/2;me<=F?v([me,ae],!0):v([Se,me],!0)}else v(me,!0)},b=T=>{e.disabled||e.readonly||(c.start(T),s=e.modelValue,w(),l.value="start")},x=T=>{if(e.disabled||e.readonly)return;l.value==="start"&&t("dragStart",T),Ke(T,!0),c.move(T),l.value="dragging";const E=Be(a),k=e.vertical?c.deltaY.value:c.deltaX.value,$=e.vertical?E.height:E.width;let N=k/$*u.value;if(e.reverse&&(N=-N),f(o)){const L=e.reverse?1-r:r;s[L]=o[L]+N}else s=o+N;v(s)},O=T=>{e.disabled||e.readonly||(l.value==="dragging"&&(v(s,!0),t("dragEnd",T)),l.value="")},C=T=>typeof T=="number"?uo("button-wrapper",["left","right"][T]):uo("button-wrapper",e.reverse?"left":"right"),R=(T,E)=>{const k=l.value==="dragging";if(typeof E=="number"){const $=n[E===0?"left-button":"right-button"];let N;if(k&&Array.isArray(s)&&(N=s[0]>s[1]?r^1:r),$)return $({value:T,dragging:k,dragIndex:N})}return n.button?n.button({value:T,dragging:k}):h("div",{class:uo("button"),style:lr(e.buttonSize)},null)},D=T=>{const E=typeof T=="number"?e.modelValue[T]:e.modelValue;return h("div",{ref:i[T!=null?T:0],role:"slider",class:C(T),tabindex:e.disabled?void 0:0,"aria-valuemin":e.min,"aria-valuenow":E,"aria-valuemax":e.max,"aria-disabled":e.disabled||void 0,"aria-readonly":e.readonly||void 0,"aria-orientation":e.vertical?"vertical":"horizontal",onTouchstartPassive:k=>{typeof T=="number"&&(r=T),b(k)},onTouchend:O,onTouchcancel:O,onClick:mu},[R(E,T)])};return v(e.modelValue),Rr(()=>e.modelValue),i.forEach(T=>{at("touchmove",x,{target:T})}),()=>h("div",{ref:a,style:d.value,class:uo({vertical:e.vertical,disabled:e.disabled}),onClick:S},[h("div",{class:uo("bar"),style:_.value},[e.range?[D(0),D(1)]:D()])])}});const xb=te(BI),[wh,NI]=J("space"),kb={align:String,direction:{type:String,default:"horizontal"},size:{type:[Number,String,Array],default:8},wrap:Boolean,fill:Boolean};function Ab(e=[]){const t=[];return e.forEach(n=>{Array.isArray(n)?t.push(...n):n.type===lt?t.push(...Ab(n.children)):t.push(n)}),t.filter(n=>{var r;return!(n&&(n.type===bt||n.type===lt&&((r=n.children)==null?void 0:r.length)===0||n.type===Qo&&n.children.trim()===""))})}var LI=Y({name:wh,props:kb,setup(e,{slots:t}){const n=M(()=>{var o;return(o=e.align)!=null?o:e.direction==="horizontal"?"center":""}),r=o=>typeof o=="number"?o+"px":o,s=o=>{const a={},i=`${r(Array.isArray(e.size)?e.size[0]:e.size)}`,l=`${r(Array.isArray(e.size)?e.size[1]:e.size)}`;return o?e.wrap?{marginBottom:l}:{}:(e.direction==="horizontal"&&(a.marginRight=i),(e.direction==="vertical"||e.wrap)&&(a.marginBottom=l),a)};return()=>{var o;const a=Ab((o=t.default)==null?void 0:o.call(t));return h("div",{class:[NI({[e.direction]:e.direction,[`align-${n.value}`]:n.value,wrap:e.wrap,fill:e.fill})]},[a.map((i,l)=>h("div",{key:`item-${l}`,class:`${wh}-item`,style:s(l===a.length-1)},[i]))])}}});const Ob=te(LI),[Rb,_h]=J("steps"),Pb={active:ue(0),direction:ne("horizontal"),activeIcon:ne("checked"),iconPrefix:String,finishIcon:String,activeColor:String,inactiveIcon:String,inactiveColor:String},Ib=Symbol(Rb);var MI=Y({name:Rb,props:Pb,emits:["clickStep"],setup(e,{emit:t,slots:n}){const{linkChildren:r}=Ot(Ib);return r({props:e,onClickStep:o=>t("clickStep",o)}),()=>{var o;return h("div",{class:_h([e.direction])},[h("div",{class:_h("items")},[(o=n.default)==null?void 0:o.call(n)])])}}});const[jI,yr]=J("step");var UI=Y({name:jI,setup(e,{slots:t}){const{parent:n,index:r}=Et(Ib);if(!n)return;const s=n.props,o=()=>{const d=+s.active;return r.value<d?"finish":r.value===d?"process":"waiting"},a=()=>o()==="process",i=M(()=>({background:o()==="finish"?s.activeColor:s.inactiveColor})),l=M(()=>{if(a())return{color:s.activeColor};if(o()==="waiting")return{color:s.inactiveColor}}),c=()=>n.onClickStep(r.value),u=()=>{const{iconPrefix:d,finishIcon:f,activeIcon:g,activeColor:p,inactiveIcon:_}=s;return a()?t["active-icon"]?t["active-icon"]():h(xe,{class:yr("icon","active"),name:g,color:p,classPrefix:d},null):o()==="finish"&&(f||t["finish-icon"])?t["finish-icon"]?t["finish-icon"]():h(xe,{class:yr("icon","finish"),name:f,color:p,classPrefix:d},null):t["inactive-icon"]?t["inactive-icon"]():_?h(xe,{class:yr("icon"),name:_,classPrefix:d},null):h("i",{class:yr("circle"),style:i.value},null)};return()=>{var d;const f=o();return h("div",{class:[ur,yr([s.direction,{[f]:f}])]},[h("div",{class:yr("title",{active:a()}),style:l.value,onClick:c},[(d=t.default)==null?void 0:d.call(t)]),h("div",{class:yr("circle-container"),onClick:c},[u()]),h("div",{class:yr("line"),style:i.value},null)])}}});const $b=te(UI),[VI,Da]=J("stepper"),FI=200,Ba=(e,t)=>String(e)===String(t),Db={min:ue(1),max:ue(1/0),name:ue(""),step:ue(1),theme:String,integer:Boolean,disabled:Boolean,showPlus:K,showMinus:K,showInput:K,longPress:K,autoFixed:K,allowEmpty:Boolean,modelValue:ee,inputWidth:ee,buttonSize:ee,placeholder:String,disablePlus:Boolean,disableMinus:Boolean,disableInput:Boolean,beforeChange:Function,defaultValue:ue(1),decimalLength:ee};var HI=Y({name:VI,props:Db,emits:["plus","blur","minus","focus","change","overlimit","update:modelValue"],setup(e,{emit:t}){const n=(C,R=!0)=>{const{min:D,max:T,allowEmpty:E,decimalLength:k}=e;return E&&C===""||(typeof C=="number"&&String(C).includes("e")&&(C=C.toFixed(k?+k:17)),C=kc(String(C),!e.integer),C=C===""?0:+C,C=Number.isNaN(C)?+D:C,C=R?Math.max(Math.min(+T,C),+D):C,Pe(k)&&(C=C.toFixed(+k))),C},r=()=>{var C;const R=(C=e.modelValue)!=null?C:e.defaultValue,D=n(R);return Ba(D,e.modelValue)||t("update:modelValue",D),D};let s;const o=U(),a=U(r()),i=M(()=>e.disabled||e.disableMinus||+a.value<=+e.min),l=M(()=>e.disabled||e.disablePlus||+a.value>=+e.max),c=M(()=>({width:Ce(e.inputWidth),height:Ce(e.buttonSize)})),u=M(()=>lr(e.buttonSize)),d=()=>{const C=n(a.value);Ba(C,a.value)||(a.value=C)},f=C=>{e.beforeChange?Pr(e.beforeChange,{args:[C],done(){a.value=C}}):a.value=C},g=()=>{if(s==="plus"&&l.value||s==="minus"&&i.value){t("overlimit",s);return}const C=s==="minus"?-e.step:+e.step,R=n(Dm(+a.value,C));f(R),t(s)},p=C=>{const R=C.target,{value:D}=R,{decimalLength:T}=e;let E=kc(String(D),!e.integer);if(Pe(T)&&E.includes(".")){const $=E.split(".");E=`${$[0]}.${$[1].slice(0,+T)}`}e.beforeChange?R.value=String(a.value):Ba(D,E)||(R.value=E);const k=E===String(+E);f(k?+E:E)},_=C=>{var R;e.disableInput?(R=o.value)==null||R.blur():t("focus",C)},m=C=>{const R=C.target,D=n(R.value,e.autoFixed);R.value=String(D),a.value=D,Ae(()=>{t("blur",C),Im()})};let w,y;const v=()=>{y=setTimeout(()=>{g(),v()},FI)},S=()=>{e.longPress&&(w=!1,clearTimeout(y),y=setTimeout(()=>{w=!0,g(),v()},jm))},b=C=>{e.longPress&&(clearTimeout(y),w&&Ke(C))},x=C=>{e.disableInput&&Ke(C)},O=C=>({onClick:R=>{Ke(R),s=C,g()},onTouchstartPassive:()=>{s=C,S()},onTouchend:b,onTouchcancel:b});return oe(()=>[e.max,e.min,e.integer,e.decimalLength],d),oe(()=>e.modelValue,C=>{Ba(C,a.value)||(a.value=n(C))}),oe(a,C=>{t("update:modelValue",C),t("change",C,{name:e.name})}),Rr(()=>e.modelValue),()=>h("div",{role:"group",class:Da([e.theme])},[mt(h("button",Oe({type:"button",style:u.value,class:[Da("minus",{disabled:i.value}),{[At]:!i.value}],"aria-disabled":i.value||void 0},O("minus")),null),[[_t,e.showMinus]]),mt(h("input",{ref:o,type:e.integer?"tel":"text",role:"spinbutton",class:Da("input"),value:a.value,style:c.value,disabled:e.disabled,readonly:e.disableInput,inputmode:e.integer?"numeric":"decimal",placeholder:e.placeholder,autocomplete:"off","aria-valuemax":e.max,"aria-valuemin":e.min,"aria-valuenow":a.value,onBlur:m,onInput:p,onFocus:_,onMousedown:x},null),[[_t,e.showInput]]),mt(h("button",Oe({type:"button",style:u.value,class:[Da("plus",{disabled:l.value}),{[At]:!l.value}],"aria-disabled":l.value||void 0},O("plus")),null),[[_t,e.showPlus]])])}});const Bb=te(HI),Nb=te(MI),[zI,un,WI]=J("submit-bar"),Lb={tip:String,label:String,price:Number,tipIcon:String,loading:Boolean,currency:ne(""),disabled:Boolean,textAlign:String,buttonText:String,buttonType:ne("danger"),buttonColor:String,suffixLabel:String,placeholder:Boolean,decimalLength:ue(2),safeAreaInsetBottom:K};var qI=Y({name:zI,props:Lb,emits:["submit"],setup(e,{emit:t,slots:n}){const r=U(),s=Li(r,un),o=()=>{const{price:u,label:d,currency:f,textAlign:g,suffixLabel:p,decimalLength:_}=e;if(typeof u=="number"){const m=(u/100).toFixed(+_).split("."),w=_?`.${m[1]}`:"";return h("div",{class:un("text"),style:{textAlign:g}},[h("span",null,[d||WI("label")]),h("span",{class:un("price")},[f,h("span",{class:un("price-integer")},[m[0]]),w]),p&&h("span",{class:un("suffix-label")},[p])])}},a=()=>{var u;const{tip:d,tipIcon:f}=e;if(n.tip||d)return h("div",{class:un("tip")},[f&&h(xe,{class:un("tip-icon"),name:f},null),d&&h("span",{class:un("tip-text")},[d]),(u=n.tip)==null?void 0:u.call(n)])},i=()=>t("submit"),l=()=>n.button?n.button():h(St,{round:!0,type:e.buttonType,text:e.buttonText,class:un("button",e.buttonType),color:e.buttonColor,loading:e.loading,disabled:e.disabled,onClick:i},null),c=()=>{var u,d;return h("div",{ref:r,class:[un(),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[(u=n.top)==null?void 0:u.call(n),a(),h("div",{class:un("bar")},[(d=n.default)==null?void 0:d.call(n),o(),l()])])};return()=>e.placeholder?s(c):c()}});const Mb=te(qI),[KI,Wl]=J("swipe-cell"),jb={name:ue(""),disabled:Boolean,leftWidth:ee,rightWidth:ee,beforeClose:Function,stopPropagation:Boolean};var GI=Y({name:KI,props:jb,emits:["open","close","click"],setup(e,{emit:t,slots:n}){let r,s,o,a;const i=U(),l=U(),c=U(),u=Je({offset:0,dragging:!1}),d=sn(),f=C=>C.value?Be(C).width:0,g=M(()=>Pe(e.leftWidth)?+e.leftWidth:f(l)),p=M(()=>Pe(e.rightWidth)?+e.rightWidth:f(c)),_=C=>{u.offset=C==="left"?g.value:-p.value,r||(r=!0,t("open",{name:e.name,position:C}))},m=C=>{u.offset=0,r&&(r=!1,t("close",{name:e.name,position:C}))},w=C=>{const R=Math.abs(u.offset),D=.15,T=r?1-D:D,E=C==="left"?g.value:p.value;E&&R>E*T?_(C):m(C)},y=C=>{e.disabled||(o=u.offset,d.start(C))},v=C=>{if(e.disabled)return;const{deltaX:R}=d;d.move(C),d.isHorizontal()&&(s=!0,u.dragging=!0,(!r||R.value*o<0)&&Ke(C,e.stopPropagation),u.offset=ht(R.value+o,-p.value,g.value))},S=()=>{u.dragging&&(u.dragging=!1,w(u.offset>0?"left":"right"),setTimeout(()=>{s=!1},0))},b=(C="outside",R)=>{a||(t("click",C),r&&!s&&(a=!0,Pr(e.beforeClose,{args:[{event:R,name:e.name,position:C}],done:()=>{a=!1,m(C)},canceled:()=>a=!1,error:()=>a=!1})))},x=C=>R=>{(s||r)&&R.stopPropagation(),!s&&b(C,R)},O=(C,R)=>{const D=n[C];if(D)return h("div",{ref:R,class:Wl(C),onClick:x(C)},[D()])};return Re({open:_,close:m}),Di(i,C=>b("outside",C),{eventName:"touchstart"}),at("touchmove",v,{target:i}),()=>{var C;const R={transform:`translate3d(${u.offset}px, 0, 0)`,transitionDuration:u.dragging?"0s":".6s"};return h("div",{ref:i,class:Wl(),onClick:x("cell"),onTouchstartPassive:y,onTouchend:S,onTouchcancel:S},[h("div",{class:Wl("wrapper"),style:R},[O("left",l),(C=n.default)==null?void 0:C.call(n),O("right",c)])])}}});const Ub=te(GI),[Vb,Sh]=J("tabbar"),Fb={route:Boolean,fixed:K,border:K,zIndex:ee,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:ue(0),safeAreaInsetBottom:{type:Boolean,default:null}},Hb=Symbol(Vb);var YI=Y({name:Vb,props:Fb,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const r=U(),{linkChildren:s}=Ot(Hb),o=Li(r,Sh),a=()=>{var c;return(c=e.safeAreaInsetBottom)!=null?c:e.fixed},i=()=>{var c;const{fixed:u,zIndex:d,border:f}=e;return h("div",{ref:r,role:"tablist",style:cr(d),class:[Sh({fixed:u}),{[Bi]:f,"van-safe-area-bottom":a()}]},[(c=n.default)==null?void 0:c.call(n)])};return s({props:e,setActive:(c,u)=>{Pr(e.beforeChange,{args:[c],done(){t("update:modelValue",c),t("change",c),u()}})}}),()=>e.fixed&&e.placeholder?o(i):i()}});const zb=te(YI),[JI,ql]=J("tabbar-item"),Wb=ge({},Ir,{dot:Boolean,icon:String,name:ee,badge:ee,badgeProps:Object,iconPrefix:String});var XI=Y({name:JI,props:Wb,emits:["click"],setup(e,{emit:t,slots:n}){const r=rs(),s=Yt().proxy,{parent:o,index:a}=Et(Hb);if(!o)return;const i=M(()=>{var u;const{route:d,modelValue:f}=o.props;if(d&&"$route"in s){const{$route:g}=s,{to:p}=e,_=nn(p)?p:{path:p};return g.matched.some(m=>{const w="path"in _&&_.path===m.path,y="name"in _&&_.name===m.name;return w||y})}return((u=e.name)!=null?u:a.value)===f}),l=u=>{var d;i.value||o.setActive((d=e.name)!=null?d:a.value,r),t("click",u)},c=()=>{if(n.icon)return n.icon({active:i.value});if(e.icon)return h(xe,{name:e.icon,classPrefix:e.iconPrefix},null)};return()=>{var u;const{dot:d,badge:f}=e,{activeColor:g,inactiveColor:p}=o.props,_=i.value?g:p;return h("div",{role:"tab",class:ql({active:i.value}),style:{color:_},tabindex:0,"aria-selected":i.value,onClick:l},[h($r,Oe({dot:d,class:ql("icon"),content:f},e.badgeProps),{default:c}),h("div",{class:ql("text")},[(u=n.default)==null?void 0:u.call(n,{active:i.value})])])}}});const qb=te(XI),[ZI,Eh]=J("text-ellipsis"),Kb={rows:ue(1),dots:ne("..."),content:ne(""),expandText:ne(""),collapseText:ne(""),position:ne("end")};var QI=Y({name:ZI,props:Kb,emits:["clickAction"],setup(e,{emit:t,slots:n}){const r=U(e.content),s=U(!1),o=U(!1),a=U(),i=U();let l=!1;const c=M(()=>s.value?e.collapseText:e.expandText),u=w=>{if(!w)return 0;const y=w.match(/^\d*(\.\d*)?/);return y?Number(y[0]):0},d=()=>{if(!a.value||!a.value.isConnected)return;const w=window.getComputedStyle(a.value),y=document.createElement("div");return Array.prototype.slice.apply(w).forEach(S=>{y.style.setProperty(S,w.getPropertyValue(S))}),y.style.position="fixed",y.style.zIndex="-9999",y.style.top="-9999px",y.style.height="auto",y.style.minHeight="auto",y.style.maxHeight="auto",y.innerText=e.content,document.body.appendChild(y),y},f=(w,y)=>{var v,S;const{content:b,position:x,dots:O}=e,C=b.length,R=0+C>>1,D=n.action?(S=(v=i.value)==null?void 0:v.outerHTML)!=null?S:"":e.expandText,T=()=>{const k=($,N)=>{if(N-$<=1)return x==="end"?b.slice(0,$)+O:O+b.slice(N,C);const L=Math.round(($+N)/2);return x==="end"?w.innerText=b.slice(0,L)+O:w.innerText=O+b.slice(L,C),w.innerHTML+=D,w.offsetHeight>y?x==="end"?k($,L):k(L,N):x==="end"?k(L,N):k($,L)};return k(0,C)},E=(k,$)=>{if(k[1]-k[0]<=1&&$[1]-$[0]<=1)return b.slice(0,k[0])+O+b.slice($[1],C);const N=Math.floor((k[0]+k[1])/2),L=Math.ceil(($[0]+$[1])/2);return w.innerText=e.content.slice(0,N)+e.dots+e.content.slice(L,C),w.innerHTML+=D,w.offsetHeight>=y?E([k[0],N],[L,$[1]]):E([N,k[1]],[$[0],L])};return e.position==="middle"?E([0,R],[R,C]):T()},g=()=>{const w=d();if(!w){l=!0;return}const{paddingBottom:y,paddingTop:v,lineHeight:S}=w.style,b=Math.ceil((Number(e.rows)+.5)*u(S)+u(v)+u(y));b<w.offsetHeight?(o.value=!0,r.value=f(w,b)):(o.value=!1,r.value=e.content),document.body.removeChild(w)},p=(w=!s.value)=>{s.value=w},_=w=>{p(),t("clickAction",w)},m=()=>{const w=n.action?n.action({expanded:s.value}):c.value;return h("span",{ref:i,class:Eh("action"),onClick:_},[w])};return Ze(()=>{g(),n.action&&Ae(g)}),Nn(()=>{l&&(l=!1,g())}),oe([pn,()=>[e.content,e.rows,e.position]],g),Re({toggle:p}),()=>h("div",{ref:a,class:Eh()},[s.value?e.content:r.value,o.value?m():null])}});const Gb=te(QI),[e1]=J("time-picker"),Th=e=>/^([01]\d|2[0-3]):([0-5]\d):([0-5]\d)$/.test(e),t1=["hour","minute","second"],Yb=ge({},sy,{minHour:ue(0),maxHour:ue(23),minMinute:ue(0),maxMinute:ue(59),minSecond:ue(0),maxSecond:ue(59),minTime:{type:String,validator:Th},maxTime:{type:String,validator:Th},columnsType:{type:Array,default:()=>["hour","minute"]}});var n1=Y({name:e1,props:Yb,emits:["confirm","cancel","change","update:modelValue"],setup(e,{emit:t,slots:n}){const r=U(e.modelValue),s=U(),o=f=>{const g=f.split(":");return t1.map((p,_)=>e.columnsType.includes(p)?g[_]:"00")},a=()=>{var f;return(f=s.value)==null?void 0:f.confirm()},i=()=>r.value,l=M(()=>{let{minHour:f,maxHour:g,minMinute:p,maxMinute:_,minSecond:m,maxSecond:w}=e;if(e.minTime||e.maxTime){const y={hour:0,minute:0,second:0};e.columnsType.forEach((b,x)=>{var O;y[b]=(O=r.value[x])!=null?O:0});const{hour:v,minute:S}=y;if(e.minTime){const[b,x,O]=o(e.minTime);f=b,p=+v<=+f?x:"00",m=+v<=+f&&+S<=+p?O:"00"}if(e.maxTime){const[b,x,O]=o(e.maxTime);g=b,_=+v>=+g?x:"59",w=+v>=+g&&+S>=+_?O:"59"}}return e.columnsType.map(y=>{const{filter:v,formatter:S}=e;switch(y){case"hour":return Ls(+f,+g,y,S,v,r.value);case"minute":return Ls(+p,+_,y,S,v,r.value);case"second":return Ls(+m,+w,y,S,v,r.value);default:return[]}})});oe(r,f=>{Dn(f,e.modelValue)||t("update:modelValue",f)}),oe(()=>e.modelValue,f=>{f=iy(f,l.value),Dn(f,r.value)||(r.value=f)},{immediate:!0});const c=(...f)=>t("change",...f),u=(...f)=>t("cancel",...f),d=(...f)=>t("confirm",...f);return Re({confirm:a,getSelectedTime:i}),()=>h(sa,Oe({ref:s,modelValue:r.value,"onUpdate:modelValue":f=>r.value=f,columns:l.value,onChange:c,onCancel:u,onConfirm:d},De(e,oy)),n)}});const Jb=te(n1),[r1,Es]=J("tree-select"),Xb={max:ue(1/0),items:Xe(),height:ue(300),selectedIcon:ne("success"),mainActiveIndex:ue(0),activeId:{type:[Number,String,Array],default:0}};var s1=Y({name:r1,props:Xb,emits:["clickNav","clickItem","update:activeId","update:mainActiveIndex"],setup(e,{emit:t,slots:n}){const r=c=>Array.isArray(e.activeId)?e.activeId.includes(c):e.activeId===c,s=c=>{const u=()=>{if(c.disabled)return;let d;if(Array.isArray(e.activeId)){d=e.activeId.slice();const f=d.indexOf(c.id);f!==-1?d.splice(f,1):d.length<+e.max&&d.push(c.id)}else d=c.id;t("update:activeId",d),t("clickItem",c)};return h("div",{key:c.id,class:["van-ellipsis",Es("item",{active:r(c.id),disabled:c.disabled})],onClick:u},[c.text,r(c.id)&&h(xe,{name:e.selectedIcon,class:Es("selected")},null)])},o=c=>{t("update:mainActiveIndex",c)},a=c=>t("clickNav",c),i=()=>{const c=e.items.map(u=>h(Mu,{dot:u.dot,badge:u.badge,class:[Es("nav-item"),u.className],disabled:u.disabled,onClick:a},{title:()=>n["nav-text"]?n["nav-text"](u):u.text}));return h(Lu,{class:Es("nav"),modelValue:e.mainActiveIndex,onChange:o},{default:()=>[c]})},l=()=>{if(n.content)return n.content();const c=e.items[+e.mainActiveIndex]||{};if(c.children)return c.children.map(s)};return()=>h("div",{class:Es(),style:{height:Ce(e.height)}},[i(),h("div",{class:Es("content")},[l()])])}});const Zb=te(s1),[o1,dt,a1]=J("uploader");function Ch(e,t){return new Promise(n=>{if(t==="file"){n();return}const r=new FileReader;r.onload=s=>{n(s.target.result)},t==="dataUrl"?r.readAsDataURL(e):t==="text"&&r.readAsText(e)})}function Qb(e,t){return ni(e).some(n=>n.file?Hs(t)?t(n.file):n.file.size>+t:!1)}function i1(e,t){const n=[],r=[];return e.forEach(s=>{Qb(s,t)?r.push(s):n.push(s)}),{valid:n,invalid:r}}const l1=/\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg|avif)/i,c1=e=>l1.test(e);function ew(e){return e.isImage?!0:e.file&&e.file.type?e.file.type.indexOf("image")===0:e.url?c1(e.url):typeof e.content=="string"?e.content.indexOf("data:image")===0:!1}var u1=Y({props:{name:ee,item:gt(Object),index:Number,imageFit:String,lazyLoad:Boolean,deletable:Boolean,reupload:Boolean,previewSize:[Number,String,Array],beforeDelete:Function},emits:["delete","preview","reupload"],setup(e,{emit:t,slots:n}){const r=()=>{const{status:u,message:d}=e.item;if(u==="uploading"||u==="failed"){const f=u==="failed"?h(xe,{name:"close",class:dt("mask-icon")},null):h(rn,{class:dt("loading")},null),g=Pe(d)&&d!=="";return h("div",{class:dt("mask")},[f,g&&h("div",{class:dt("mask-message")},[d])])}},s=u=>{const{name:d,item:f,index:g,beforeDelete:p}=e;u.stopPropagation(),Pr(p,{args:[f,{name:d,index:g}],done:()=>t("delete")})},o=()=>t("preview"),a=()=>t("reupload"),i=()=>{if(e.deletable&&e.item.status!=="uploading"){const u=n["preview-delete"];return h("div",{role:"button",class:dt("preview-delete",{shadow:!u}),tabindex:0,"aria-label":a1("delete"),onClick:s},[u?u():h(xe,{name:"cross",class:dt("preview-delete-icon")},null)])}},l=()=>{if(n["preview-cover"]){const{index:u,item:d}=e;return h("div",{class:dt("preview-cover")},[n["preview-cover"](ge({index:u},d))])}},c=()=>{const{item:u,lazyLoad:d,imageFit:f,previewSize:g,reupload:p}=e;return ew(u)?h(aa,{fit:f,src:u.objectUrl||u.content||u.url,class:dt("preview-image"),width:Array.isArray(g)?g[0]:g,height:Array.isArray(g)?g[1]:g,lazyLoad:d,onClick:p?a:o},{default:l}):h("div",{class:dt("file"),style:lr(e.previewSize)},[h(xe,{class:dt("file-icon"),name:"description"},null),h("div",{class:[dt("file-name"),"van-ellipsis"]},[u.file?u.file.name:u.url]),l()])};return()=>h("div",{class:dt("preview")},[c(),r(),i()])}});const tw={name:ue(""),accept:ne("image/*"),capture:String,multiple:Boolean,disabled:Boolean,readonly:Boolean,lazyLoad:Boolean,maxCount:ue(1/0),imageFit:ne("cover"),resultType:ne("dataUrl"),uploadIcon:ne("photograph"),uploadText:String,deletable:K,reupload:Boolean,afterRead:Function,showUpload:K,modelValue:Xe(),beforeRead:Function,beforeDelete:Function,previewSize:[Number,String,Array],previewImage:K,previewOptions:Object,previewFullImage:K,maxSize:{type:[Number,String,Function],default:1/0}};var d1=Y({name:o1,props:tw,emits:["delete","oversize","clickUpload","closePreview","clickPreview","clickReupload","update:modelValue"],setup(e,{emit:t,slots:n}){const r=U(),s=[],o=U(-1),a=U(!1),i=(C=e.modelValue.length)=>({name:e.name,index:C}),l=()=>{r.value&&(r.value.value="")},c=C=>{if(l(),Qb(C,e.maxSize))if(Array.isArray(C)){const R=i1(C,e.maxSize);if(C=R.valid,t("oversize",R.invalid,i()),!C.length)return}else{t("oversize",C,i());return}if(C=Je(C),o.value>-1){const R=[...e.modelValue];R.splice(o.value,1,C),t("update:modelValue",R),o.value=-1}else t("update:modelValue",[...e.modelValue,...ni(C)]);e.afterRead&&e.afterRead(C,i())},u=C=>{const{maxCount:R,modelValue:D,resultType:T}=e;if(Array.isArray(C)){const E=+R-D.length;C.length>E&&(C=C.slice(0,E)),Promise.all(C.map(k=>Ch(k,T))).then(k=>{const $=C.map((N,L)=>{const H={file:N,status:"",message:"",objectUrl:URL.createObjectURL(N)};return k[L]&&(H.content=k[L]),H});c($)})}else Ch(C,T).then(E=>{const k={file:C,status:"",message:"",objectUrl:URL.createObjectURL(C)};E&&(k.content=E),c(k)})},d=C=>{const{files:R}=C.target;if(e.disabled||!R||!R.length)return;const D=R.length===1?R[0]:[].slice.call(R);if(e.beforeRead){const T=e.beforeRead(D,i());if(!T){l();return}if(hu(T)){T.then(E=>{u(E||D)}).catch(l);return}}u(D)};let f;const g=()=>t("closePreview"),p=C=>{if(e.previewFullImage){const R=e.modelValue.filter(ew),D=R.map(T=>(T.objectUrl&&!T.url&&T.status!=="failed"&&(T.url=T.objectUrl,s.push(T.url)),T.url)).filter(Boolean);f=pp(ge({images:D,startPosition:R.indexOf(C),onClose:g},e.previewOptions))}},_=()=>{f&&f.close()},m=(C,R)=>{const D=e.modelValue.slice(0);D.splice(R,1),t("update:modelValue",D),t("delete",C,i(R))},w=C=>{a.value=!0,o.value=C,Ae(()=>O())},y=()=>{a.value||(o.value=-1),a.value=!1},v=(C,R)=>{const D=["imageFit","deletable","reupload","previewSize","beforeDelete"],T=ge(De(e,D),De(C,D,!0));return h(u1,Oe({item:C,index:R,onClick:()=>t(e.reupload?"clickReupload":"clickPreview",C,i(R)),onDelete:()=>m(C,R),onPreview:()=>p(C),onReupload:()=>w(R)},De(e,["name","lazyLoad"]),T),De(n,["preview-cover","preview-delete"]))},S=()=>{if(e.previewImage)return e.modelValue.map(v)},b=C=>t("clickUpload",C),x=()=>{const C=e.modelValue.length<+e.maxCount,R=e.readonly?null:h("input",{ref:r,type:"file",class:dt("input"),accept:e.accept,capture:e.capture,multiple:e.multiple&&o.value===-1,disabled:e.disabled,onChange:d,onClick:y},null);return n.default?mt(h("div",{class:dt("input-wrapper"),onClick:b},[n.default(),R]),[[_t,C]]):mt(h("div",{class:dt("upload",{readonly:e.readonly}),style:lr(e.previewSize),onClick:b},[h(xe,{name:e.uploadIcon,class:dt("upload-icon")},null),e.uploadText&&h("span",{class:dt("upload-text")},[e.uploadText]),R]),[[_t,e.showUpload&&C]])},O=()=>{r.value&&!e.disabled&&r.value.click()};return Mn(()=>{s.forEach(C=>URL.revokeObjectURL(C))}),Re({chooseFile:O,reuploadFile:w,closeImagePreview:_}),Rr(()=>e.modelValue),()=>h("div",{class:dt()},[h("div",{class:dt("wrapper",{disabled:e.disabled})},[S(),x()])])}});const nw=te(d1),[f1,xh]=J("watermark"),rw={gapX:ft(0),gapY:ft(0),image:String,width:ft(100),height:ft(100),rotate:ue(-22),zIndex:ee,content:String,opacity:ee,fullPage:K,textColor:ne("#dcdee0")};var h1=Y({name:f1,props:rw,setup(e,{slots:t}){const n=U(),r=U(""),s=U(""),o=()=>{const u={transformOrigin:"center",transform:`rotate(${e.rotate}deg)`},d=()=>e.image&&!t.content?h("image",{href:s.value,"xlink:href":s.value,x:"0",y:"0",width:e.width,height:e.height,style:u},null):h("foreignObject",{x:"0",y:"0",width:e.width,height:e.height},[h("div",{xmlns:"http://www.w3.org/1999/xhtml",style:u},[t.content?t.content():h("span",{style:{color:e.textColor}},[e.content])])]),f=e.width+e.gapX,g=e.height+e.gapY;return h("svg",{viewBox:`0 0 ${f} ${g}`,width:f,height:g,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",style:{padding:`0 ${e.gapX}px ${e.gapY}px 0`,opacity:e.opacity}},[d()])},a=u=>{const d=document.createElement("canvas"),f=new Image;f.crossOrigin="anonymous",f.referrerPolicy="no-referrer",f.onload=()=>{d.width=f.naturalWidth,d.height=f.naturalHeight;const g=d.getContext("2d");g==null||g.drawImage(f,0,0),s.value=d.toDataURL()},f.src=u},i=u=>{const d=new Blob([u],{type:"image/svg+xml"});return URL.createObjectURL(d)},l=()=>{r.value&&URL.revokeObjectURL(r.value)},c=()=>{n.value&&(l(),r.value=i(n.value.innerHTML))};return Ks(()=>{e.image&&a(e.image)}),oe(()=>[e.content,e.textColor,e.height,e.width,e.rotate,e.gapX,e.gapY],c),oe(s,()=>{Ae(c)}),Ze(c),ns(l),()=>{const u=ge({backgroundImage:`url(${r.value})`},cr(e.zIndex));return h("div",{class:xh({full:e.fullPage}),style:u},[h("div",{class:xh("wrapper"),ref:n},[o()])])}}});const sw=te(h1),ow="4.9.22";function aw(e){[wu,oi,tv,av,Uv,Zv,ku,ey,$r,ny,St,cy,fy,gy,an,vy,Yi,Ou,py,Ey,ky,Oy,Ry,Iy,Dy,Ny,My,ii,Uy,Hy,Wy,Yy,Xy,np,rp,$u,Bn,op,ip,Hi,dp,hp,mp,xe,aa,bp,Tp,Cp,kp,rn,yu,Op,Pp,Np,Mp,Eu,Up,Fp,sa,Hp,Zp,on,eb,rb,Gi,Ki,ob,ib,lb,ub,fb,Lu,Mu,yb,Sb,Uu,Tb,Vu,ju,xb,Ob,$b,Bb,Nb,Cu,Mb,ji,Ub,Ui,qi,zs,zb,qb,ra,oa,Gb,Jb,Nv,Zb,nw,sw].forEach(n=>{n.install?e.use(n):n.name&&e.component(n.name,n)})}var iw={install:aw,version:ow};const q1=Object.freeze(Object.defineProperty({__proto__:null,ActionBar:wu,ActionBarButton:oi,ActionBarIcon:tv,ActionSheet:av,AddressEdit:Uv,AddressList:Zv,Area:ku,BackTop:ey,Badge:$r,Barrage:ny,Button:St,Calendar:cy,Card:fy,Cascader:gy,Cell:an,CellGroup:vy,Checkbox:Yi,CheckboxGroup:Ou,Circle:py,Col:Ey,Collapse:ky,CollapseItem:Oy,ConfigProvider:Ry,ContactCard:Iy,ContactEdit:Dy,ContactList:Ny,CountDown:My,Coupon:ii,CouponCell:Uy,CouponList:Hy,DEFAULT_ROW_WIDTH:Zi,DatePicker:Wy,Dialog:Yy,Divider:Xy,DropdownItem:np,DropdownMenu:rp,Empty:$u,Field:Bn,FloatingBubble:op,FloatingPanel:ip,Form:Hi,Grid:dp,GridItem:hp,Highlight:mp,Icon:xe,Image:aa,ImagePreview:bp,IndexAnchor:Tp,IndexBar:Cp,List:kp,Loading:rn,Locale:yu,NavBar:Op,NoticeBar:Pp,Notify:Np,NumberKeyboard:Mp,Overlay:Eu,Pagination:Up,PasswordInput:Fp,Picker:sa,PickerGroup:Hp,Popover:Zp,Popup:on,Progress:eb,PullRefresh:rb,Radio:Gi,RadioGroup:Ki,Rate:ob,RollingText:ib,Row:lb,Search:ub,ShareSheet:fb,Sidebar:Lu,SidebarItem:Mu,Signature:yb,Skeleton:Sb,SkeletonAvatar:Uu,SkeletonImage:Tb,SkeletonParagraph:Vu,SkeletonTitle:ju,Slider:xb,Space:Ob,Step:$b,Stepper:Bb,Steps:Nb,Sticky:Cu,SubmitBar:Mb,Swipe:ji,SwipeCell:Ub,SwipeItem:Ui,Switch:qi,Tab:zs,Tabbar:zb,TabbarItem:qb,Tabs:ra,Tag:oa,TextEllipsis:Gb,TimePicker:Jb,Toast:Nv,TreeSelect:Zb,Uploader:nw,Watermark:sw,actionBarButtonProps:Qm,actionBarIconProps:ev,actionBarProps:Hm,actionSheetProps:ov,addressEditProps:jv,addressListProps:Xv,areaProps:kv,backTopProps:Qv,badgeProps:Wm,barrageProps:ty,buttonProps:Zm,calendarProps:ly,cardProps:dy,cascaderProps:hy,cellGroupProps:my,cellProps:Av,checkboxGroupProps:Wv,checkboxProps:Jv,circleProps:yy,closeNotify:Dp,closeToast:nA,colProps:Sy,collapseItemProps:Ay,collapseProps:xy,configProviderProps:Ym,contactCardProps:Py,contactEditProps:$y,contactListProps:By,countDownProps:Ly,couponCellProps:jy,couponListProps:Fy,datePickerProps:zy,default:iw,dialogProps:qy,dividerProps:Jy,dropdownItemProps:tp,dropdownMenuProps:Qy,emptyProps:Vy,fieldProps:Pv,floatingBubbleProps:sp,floatingPanelProps:ap,formProps:Ov,gridItemProps:fp,gridProps:cp,highlightProps:gp,iconProps:Jm,imagePreviewProps:vp,imageProps:uy,indexAnchorProps:Ep,indexBarProps:_p,install:aw,listProps:xp,loadingProps:Xm,navBarProps:Ap,noticeBarProps:Rp,notifyProps:Ip,numberKeyboardProps:Lp,overlayProps:rv,paginationProps:jp,passwordInputProps:Vp,pickerGroupProps:Tv,pickerProps:Cv,popoverProps:Xp,popupProps:sv,progressProps:Qp,pullRefreshProps:nb,radioGroupProps:Fv,radioProps:Yv,rateProps:sb,rollingTextProps:ab,rowProps:_y,searchProps:cb,shareSheetProps:db,showConfirmDialog:HO,showDialog:Gy,showImagePreview:pp,showLoadingToast:eA,showNotify:Bp,showSuccessToast:tA,showToast:Jo,sidebarItemProps:vb,sidebarProps:mb,skeletonAvatarProps:bb,skeletonImageProps:Eb,skeletonParagraphProps:wb,skeletonProps:_b,skeletonTitleProps:pb,sliderProps:Cb,spaceProps:kb,stepperProps:Db,stepsProps:Pb,stickyProps:hv,submitBarProps:Lb,swipeCellProps:jb,swipeProps:mv,switchProps:Lv,tabProps:_v,tabbarItemProps:Wb,tabbarProps:Fb,tabsProps:pv,tagProps:Kv,textEllipsisProps:Kb,timePickerProps:Yb,toastProps:Iv,treeSelectProps:Xb,uploaderProps:tw,useAllTabStatus:xu,version:ow,watermarkProps:rw},Symbol.toStringTag,{value:"Module"})),g1=()=>A(void 0,null,function*(){return"Notification"in window?(yield Notification.requestPermission())==="granted":!1}),lw=(e,t={})=>{if("Notification"in window&&Notification.permission==="granted")return new Notification(e,Ne({icon:"/icon-192.png",badge:"/icon-192.png"},t))},cw=(e,t="warning")=>{Bp({type:t,message:e,duration:5e3})},m1=(e,t=5)=>{const n=e.filter(r=>r.stock>0&&r.stock<=t);if(n.length>0){const r=` ${n.length} `;return cw(r),Notification.permission==="granted"&&lw("",{body:r,tag:"low-stock-alert",requireInteraction:!0}),n}return[]},v1=e=>{const t=e.filter(n=>n.stock===0);if(t.length>0){const n=` ${t.length} `;return cw(n,"danger"),Notification.permission==="granted"&&lw("",{body:n,tag:"zero-stock-alert",requireInteraction:!0}),t}return[]},go=ki("product",()=>{const e=U([]),t=U(!1),n=()=>{const{useOperationLogStore:v}=require("./operationLog");return v()},r=v=>((v.code||"").split("_"),{id:v.id,name:v.name,code:v.code,size:v.size||"",costPrice:parseFloat(v.purchase_price)||0,salePrice:parseFloat(v.sale_price)||0,stock:parseInt(v.stock)||0,minStock:parseInt(v.min_stock)||5,image:v.image||"",createTime:new Date(v.created_at).getTime(),brand:v.brand||"",category:v.category||"",color:v.color||"",supplier:v.supplier||""}),s=v=>{if(v.code)return v.code;const S=Math.random().toString(36).substring(2,10).toUpperCase(),b=(v.brand||"UNKNOWN").substring(0,4).toUpperCase(),x=v.size||"NA";return`${b}_${v.name.substring(0,6)}_${x}_${S}`},o=v=>({name:v.name,code:s(v),size:v.size||"",purchase_price:parseFloat(v.costPrice)||0,sale_price:parseFloat(v.salePrice)||0,stock:parseInt(v.stock)||0,min_stock:parseInt(v.minStock)||5,image:v.image||null,brand:v.brand||null,category:v.category||"",color:v.color||null,supplier:v.supplier||null}),a=()=>A(void 0,null,function*(){const v=localStorage.getItem("products");if(v)try{const S=JSON.parse(v);if(S.length===0)return;const{data:b}=yield We.from(qe.PRODUCTS).select("*").limit(1);if(b&&b.length>0)return;const x=S.map(C=>({id:C.id,name:C.name,code:C.code||`${C.name}_${C.size||""}_${C.id}`,size:C.size||"",purchase_price:parseFloat(C.costPrice)||0,sale_price:parseFloat(C.salePrice)||0,stock:parseInt(C.stock)||0,image:C.image||null})),{error:O}=yield We.from(qe.PRODUCTS).insert(x);O||console.log("localStorage")}catch(S){console.error(":",S)}}),i=()=>A(void 0,null,function*(){t.value=!0;try{const v=localStorage.getItem("products");v&&(e.value=JSON.parse(v),console.log("  localStorage ",e.value.length,"")),yield a();const{data:S,error:b}=yield We.from(qe.PRODUCTS).select("*").order("created_at",{ascending:!1});if(b){console.error(" :",b),console.log("  localStorage ");return}const x=S.map(r);x.length>0?(e.value=x,console.log(" ",x.length,""),yield l()):console.log("  localStorage "),m1(e.value,5),v1(e.value)}catch(v){console.error(" :",v),console.log("  localStorage ")}finally{t.value=!1}}),l=()=>A(void 0,null,function*(){try{localStorage.setItem("products",JSON.stringify(e.value))}catch(v){console.error("localStorage:",v)}}),c=M(()=>e.value),u=M(()=>e.value.filter(v=>{const S=v.minStock||5;return v.stock<=S})),d=M(()=>e.value.length),f=M(()=>e.value.reduce((v,S)=>v+S.costPrice*S.stock,0)),g=v=>e.value.find(S=>S.id===v),p=v=>A(void 0,null,function*(){try{const S=o(v),{data:b,error:x}=yield We.from(qe.PRODUCTS).insert([S]).select().single();if(x){console.error(" :",x);const C=Mt(Ne({},v),{id:`local_${Date.now()}`,createTime:Date.now()});e.value.unshift(C),yield l(),console.log("  localStorage");try{const R=n();yield R.addLog({operationType:R.OPERATION_TYPES.PRODUCT_ADD,targetType:"product",targetId:C.id,targetName:`${C.name} (${C.size})`,details:` ${C.code}${C.name}${C.stock}`,newValue:JSON.stringify(C)})}catch(R){console.warn(" :",R)}return C}const O=r(b);e.value.unshift(O),yield l(),console.log("  localStorage");try{const C=n();yield C.addLog({operationType:C.OPERATION_TYPES.PRODUCT_ADD,targetType:"product",targetId:O.id,targetName:`${O.name} (${O.size})`,details:` ${O.code}${O.name}${O.stock}`,newValue:JSON.stringify(O)})}catch(C){console.warn(" :",C)}return O}catch(S){console.error(" :",S);const b=Mt(Ne({},v),{id:`local_${Date.now()}`,createTime:Date.now()});e.value.unshift(b),yield l(),console.log("  localStorage");try{const x=n();yield x.addLog({operationType:x.OPERATION_TYPES.PRODUCT_ADD,targetType:"product",targetId:b.id,targetName:`${b.name} (${b.size})`,details:` ${b.code}${b.name}${b.stock}`,newValue:JSON.stringify(b)})}catch(x){console.warn(" :",x)}return b}}),_=(v,S)=>A(void 0,null,function*(){try{const b=e.value.findIndex(R=>R.id===v),x=b!==-1?Ne({},e.value[b]):null,O={};S.name!==void 0&&(O.name=S.name),S.code!==void 0&&(O.code=S.code),S.size!==void 0&&(O.size=S.size),S.costPrice!==void 0&&(O.purchase_price=S.costPrice),S.salePrice!==void 0&&(O.sale_price=S.salePrice),S.stock!==void 0&&(O.stock=S.stock),S.minStock!==void 0&&(O.min_stock=S.minStock),S.image!==void 0&&(O.image=S.image),S.brand!==void 0&&(O.brand=S.brand),S.category!==void 0&&(O.category=S.category),S.color!==void 0&&(O.color=S.color),S.supplier!==void 0&&(O.supplier=S.supplier);const{error:C}=yield We.from(qe.PRODUCTS).update(O).eq("id",v);if(C)throw C;if(b!==-1){e.value[b]=Ne(Ne({},e.value[b]),S),yield l();try{const R=n(),D=e.value[b];yield R.addLog({operationType:R.OPERATION_TYPES.PRODUCT_UPDATE,targetType:"product",targetId:v,targetName:`${D.name} (${D.size})`,details:"",oldValue:JSON.stringify(x),newValue:JSON.stringify(D)})}catch(R){console.warn(" :",R)}return!0}return!1}catch(b){console.error(":",b);const x=e.value.findIndex(O=>O.id===v);if(x!==-1){const O=Ne({},e.value[x]);e.value[x]=Ne(Ne({},e.value[x]),S),l();try{const C=n(),R=e.value[x];yield C.addLog({operationType:C.OPERATION_TYPES.PRODUCT_UPDATE,targetType:"product",targetId:v,targetName:`${R.name} (${R.size})`,details:"",oldValue:JSON.stringify(O),newValue:JSON.stringify(R)})}catch(C){console.warn(" :",C)}return!0}return!1}});return{products:e,loading:t,getAllProducts:c,lowStockProducts:u,totalProducts:d,totalStockValue:f,loadProducts:i,getProductById:g,addProduct:p,updateProduct:_,deleteProduct:v=>A(void 0,null,function*(){const S=e.value.findIndex(x=>x.id===v);if(S===-1)return console.error(" :",v),!1;const b=e.value[S];try{if(e.value.splice(S,1),yield l(),String(v).startsWith("local_")){console.log(" :",v);try{const C=n();yield C.addLog({operationType:C.OPERATION_TYPES.PRODUCT_DELETE,targetType:"product",targetId:v,targetName:`${b.name} (${b.size})`,details:` ${b.code}${b.name}`,oldValue:JSON.stringify(b)})}catch(C){console.warn(" :",C)}return!0}const{error:O}=yield We.from(qe.PRODUCTS).delete().eq("id",v);if(O)throw console.error(" :",O),e.value.splice(S,0,b),yield l(),O;console.log(" :",v);try{const C=n();yield C.addLog({operationType:C.OPERATION_TYPES.PRODUCT_DELETE,targetType:"product",targetId:v,targetName:`${b.name} (${b.size})`,details:` ${b.code}${b.name}`,oldValue:JSON.stringify(b)})}catch(C){console.warn(" :",C)}return!0}catch(x){return console.error(" :",x),e.value.findIndex(C=>C.id===v)===-1&&b&&(e.value.splice(S,0,b),yield l()),!1}}),updateStock:(v,S,b="add")=>A(void 0,null,function*(){const x=e.value.find(C=>C.id===v);if(!x)return!1;const O=b==="add"?x.stock+S:x.stock-S;return yield _(v,{stock:O})}),searchProducts:v=>{if(!v)return e.value;const S=v.toLowerCase();return e.value.filter(b=>b.name.toLowerCase().includes(S)||b.code&&b.code.toLowerCase().includes(S)||b.size&&b.size.toLowerCase().includes(S))}}}),y1=ki("sales",()=>{const e=U([]),t=U([]),n=U(!1),r=()=>{const T=new Date,E=T.toISOString().slice(0,10).replace(/-/g,""),k=T.toTimeString().slice(0,8).replace(/:/g,""),$=Math.random().toString(36).substr(2,4).toUpperCase();return`SO${E}${k}${$}`},s=T=>({id:T.id,orderId:T.order_id,products:T.products||[],totalAmount:parseFloat(T.total_amount)||0,totalCost:parseFloat(T.total_cost)||0,profit:parseFloat(T.profit)||0,discount:parseFloat(T.discount)||0,actualAmount:parseFloat(T.actual_amount)||0,salesperson:T.salesperson||"",paymentMethod:T.payment_method||"",memberId:T.member_id,time:new Date(T.created_at).getTime(),date:new Date(T.created_at).getTime(),type:"sale",createTime:new Date(T.created_at).getTime()}),o=T=>({order_id:T.orderId||r(),products:T.products,total_amount:parseFloat(T.totalAmount)||0,total_cost:parseFloat(T.totalCost)||0,profit:parseFloat(T.profit)||0,discount:parseFloat(T.discount)||0,actual_amount:parseFloat(T.actualAmount)||0,salesperson:T.salesperson||null,payment_method:T.paymentMethod||"",member_id:T.memberId||null}),a=T=>({id:T.id,productId:T.product_id,productName:T.product_name,productCode:T.product_code,productSize:T.product_size,quantity:parseInt(T.quantity)||0,costPrice:parseFloat(T.purchase_price)||0,totalAmount:parseFloat(T.total_amount)||0,supplier:T.supplier||"",notes:T.notes||"",date:new Date(T.created_at).getTime(),time:new Date(T.created_at).getTime(),type:"purchase"}),i=(T,E)=>({product_id:T.productId,product_name:(E==null?void 0:E.name)||T.productName||"",product_code:(E==null?void 0:E.code)||T.productCode||"",product_size:(E==null?void 0:E.size)||T.productSize||"",quantity:parseInt(T.quantity)||0,purchase_price:parseFloat(T.costPrice)||0,total_amount:parseFloat(T.costPrice*T.quantity)||0,supplier:T.supplier||null,notes:T.notes||null}),l=()=>A(void 0,null,function*(){n.value=!0;try{const{data:T,error:E}=yield We.from(qe.SALES).select("*").order("created_at",{ascending:!1});if(E){console.error(":",E);const N=localStorage.getItem("sales");N&&(e.value=JSON.parse(N))}else e.value=T.map(s),localStorage.setItem("sales",JSON.stringify(e.value));const{data:k,error:$}=yield We.from(qe.PURCHASES).select("*").order("created_at",{ascending:!1});if($){console.error(":",$);const N=localStorage.getItem("purchases");N&&(t.value=JSON.parse(N))}else t.value=k.map(a),localStorage.setItem("purchases",JSON.stringify(t.value))}catch(T){console.error(":",T);const E=localStorage.getItem("sales"),k=localStorage.getItem("purchases");E&&(e.value=JSON.parse(E)),k&&(t.value=JSON.parse(k))}finally{n.value=!1}}),c=()=>{localStorage.setItem("sales",JSON.stringify(e.value))},u=()=>{localStorage.setItem("purchases",JSON.stringify(t.value))},d=T=>A(void 0,null,function*(){const E=go();if(T.products&&Array.isArray(T.products)){for(const W of T.products){const ie=E.getProductById(W.productId);if(!ie||ie.stock<W.quantity)return{success:!1,message:`${W.productName||""}`}}let X=0,me=0;const Se=T.products.map(W=>{const ie=E.getProductById(W.productId),P=W.salePrice*W.quantity,z=(W.costPrice||ie.costPrice)*W.quantity;return X+=P,me+=z,{productId:W.productId,productName:W.productName,size:W.size,salePrice:W.salePrice,costPrice:W.costPrice||ie.costPrice,quantity:W.quantity}}),ae=T.discount||1,F=X*ae,Q=F-me,ve={orderId:r(),products:Se,totalAmount:X,totalCost:me,profit:Q,discount:X-F,actualAmount:F,salesperson:T.salesperson||"",paymentMethod:T.paymentMethod||"",memberId:T.memberId||null,remark:T.remark||""};try{const W=o(ve),{data:ie,error:P}=yield We.from(qe.SALES).insert([W]).select().single();if(P)throw P;const z=s(ie);e.value.unshift(z);for(const V of Se)yield E.updateStock(V.productId,V.quantity,"subtract");return c(),{success:!0,data:z}}catch(W){console.error(":",W);const ie=Mt(Ne({},ve),{id:Date.now().toString()+Math.random().toString(36).substr(2,9),time:Date.now(),date:Date.now(),type:"sale"});e.value.unshift(ie);for(const P of Se)yield E.updateStock(P.productId,P.quantity,"subtract");return c(),{success:!0,data:ie}}}const k=E.getProductById(T.productId);if(!k||k.stock<T.quantity)return{success:!1,message:""};const $=T.salePrice*T.quantity,N=k.costPrice*T.quantity,L=$-N,H={orderId:r(),products:[{productId:T.productId,productName:k.name,size:k.size,salePrice:T.salePrice,costPrice:k.costPrice,quantity:T.quantity}],totalAmount:$,totalCost:N,profit:L,discount:0,actualAmount:$,salesperson:T.salesperson||"",paymentMethod:T.paymentMethod||"",memberId:T.memberId||null,remark:T.remark||""};try{const X=o(H),{data:me,error:Se}=yield We.from(qe.SALES).insert([X]).select().single();if(Se)throw Se;const ae=s(me);return e.value.unshift(ae),yield E.updateStock(T.productId,T.quantity,"subtract"),c(),{success:!0,data:ae}}catch(X){console.error(":",X);const me=Mt(Ne({},H),{id:Date.now().toString(),time:Date.now(),date:Date.now(),type:"sale"});return e.value.unshift(me),E.updateStock(T.productId,T.quantity,"subtract"),c(),{success:!0,data:me}}}),f=T=>A(void 0,null,function*(){const E=go(),k=e.value.findIndex(N=>N.id===T);if(k===-1)return console.error(" :",T),!1;const $=e.value[k];try{if($.products&&Array.isArray($.products))for(const X of $.products)yield E.updateStock(X.productId,X.quantity,"add"),console.log(`  ${X.productName}  +${X.quantity}`);else $.productId&&(yield E.updateStock($.productId,$.quantity,"add"),console.log(`  +${$.quantity}`));if(e.value.splice(k,1),c(),!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(T))return console.log(" :",T),!0;const{error:H}=yield We.from(qe.SALES).delete().eq("id",T);if(H){if(console.error(" :",H),e.value.splice(k,0,$),c(),$.products&&Array.isArray($.products))for(const X of $.products)yield E.updateStock(X.productId,X.quantity,"subtract");else $.productId&&(yield E.updateStock($.productId,$.quantity,"subtract"));throw H}return console.log(" :",T),!0}catch(N){return console.error(" :",N),!1}}),g=T=>A(void 0,null,function*(){const E=go(),k=E.getProductById(T.productId);if(!k)return{success:!1,message:""};try{const $=i(T,k),{data:N,error:L}=yield We.from(qe.PURCHASES).insert([$]).select().single();if(L)throw L;const H=a(N);t.value.unshift(H),yield E.updateStock(T.productId,T.quantity,"add");const X=E.getProductById(T.productId);if(X){const me=X.stock-T.quantity,Se=X.costPrice,ae=T.costPrice,F=T.quantity;let Q;me<=0?Q=ae:Q=(me*Se+F*ae)/(me+F),yield E.updateProduct(T.productId,{costPrice:Math.round(Q*100)/100}),console.log(` : ${Se}  ${Math.round(Q*100)/100} ()`)}return u(),{success:!0,data:H}}catch($){console.error(":",$);const N={id:Date.now().toString(),productId:T.productId,productName:k.name,productCode:k.code,productSize:k.size,quantity:T.quantity,costPrice:T.costPrice,totalAmount:T.costPrice*T.quantity,supplier:T.supplier||"",notes:T.notes||"",date:Date.now(),time:Date.now(),type:"purchase"};t.value.unshift(N),yield E.updateStock(T.productId,T.quantity,"add");const L=E.getProductById(T.productId);if(L){const H=L.stock-T.quantity,X=L.costPrice,me=T.costPrice,Se=T.quantity;let ae;H<=0?ae=me:ae=(H*X+Se*me)/(H+Se),yield E.updateProduct(T.productId,{costPrice:Math.round(ae*100)/100})}return u(),{success:!0,data:N}}}),p=T=>A(void 0,null,function*(){const E=go(),k=t.value.findIndex(N=>N.id===T);if(k===-1)return console.error(" :",T),!1;const $=t.value[k];try{if(yield E.updateStock($.productId,$.quantity,"subtract"),console.log(`  ${$.productName}  -${$.quantity}`),t.value.splice(k,1),u(),!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(T))return console.log(" :",T),!0;const{error:H}=yield We.from(qe.PURCHASES).delete().eq("id",T);if(H)throw console.error(" :",H),t.value.splice(k,0,$),u(),yield E.updateStock($.productId,$.quantity,"add"),H;return console.log(" :",T),!0}catch(N){return console.error(" :",N),!1}}),_=M(()=>e.value),m=M(()=>{const T=new Date;T.setHours(0,0,0,0);const E=T.getTime();return e.value.filter(k=>(k.time||k.date)>=E).reduce((k,$)=>k+($.actualAmount||$.totalAmount),0)}),w=M(()=>{const T=new Date;T.setHours(0,0,0,0);const E=T.getTime();return e.value.filter(k=>(k.time||k.date)>=E).reduce((k,$)=>k+$.profit,0)}),y=M(()=>{const T=new Date,k=new Date(T.getFullYear(),T.getMonth(),1).getTime();return e.value.filter($=>($.time||$.date)>=k).reduce(($,N)=>$+(N.actualAmount||N.totalAmount),0)}),v=M(()=>{const T=new Date,k=new Date(T.getFullYear(),T.getMonth(),1).getTime();return e.value.filter($=>($.time||$.date)>=k).reduce(($,N)=>$+N.profit,0)}),S=M(()=>e.value.reduce((T,E)=>T+(E.actualAmount||E.totalAmount),0)),b=M(()=>e.value.reduce((T,E)=>T+E.profit,0)),x=M(()=>{const T=[],E=[],k=[];for(let $=6;$>=0;$--){const N=new Date;N.setDate(N.getDate()-$),N.setHours(0,0,0,0);const L=N.getTime();N.setHours(23,59,59,999);const H=N.getTime(),X=`${N.getMonth()+1}/${N.getDate()}`;T.push(X);const me=e.value.filter(F=>{const Q=F.time||F.date;return Q>=L&&Q<=H}),Se=me.reduce((F,Q)=>F+(Q.actualAmount||Q.totalAmount),0),ae=me.reduce((F,Q)=>F+Q.profit,0);E.push(Se),k.push(ae)}return{days:T,amounts:E,profits:k}}),O=M(()=>{const T={};return e.value.forEach(E=>{E.products&&Array.isArray(E.products)?E.products.forEach(k=>{T[k.productId]||(T[k.productId]={productId:k.productId,productName:k.productName,quantity:0,amount:0}),T[k.productId].quantity+=k.quantity,T[k.productId].amount+=k.salePrice*k.quantity}):E.productId&&(T[E.productId]||(T[E.productId]={productId:E.productId,productName:E.productName,quantity:0,amount:0}),T[E.productId].quantity+=E.quantity||0,T[E.productId].amount+=E.totalAmount||0)}),Object.values(T).sort((E,k)=>k.quantity-E.quantity).slice(0,5)}),C=M(()=>{const T={};return e.value.forEach(E=>{const k=E.salesperson||"";T[k]||(T[k]={name:k,salesCount:0,totalAmount:0,totalProfit:0,quantity:0}),T[k].salesCount++,T[k].totalAmount+=E.actualAmount||E.totalAmount,T[k].totalProfit+=E.profit,E.products&&Array.isArray(E.products)?T[k].quantity+=E.products.reduce(($,N)=>$+N.quantity,0):T[k].quantity+=E.quantity||0}),Object.values(T).sort((E,k)=>k.totalAmount-E.totalAmount)}),R=M(()=>{const T=new Date;T.setHours(0,0,0,0);const E=T.getTime(),k={};return e.value.filter($=>($.time||$.date)>=E).forEach($=>{const N=$.salesperson||"";k[N]||(k[N]={name:N,salesCount:0,totalAmount:0,totalProfit:0,quantity:0}),k[N].salesCount++,k[N].totalAmount+=$.actualAmount||$.totalAmount,k[N].totalProfit+=$.profit,$.products&&Array.isArray($.products)?k[N].quantity+=$.products.reduce((L,H)=>L+H.quantity,0):k[N].quantity+=$.quantity||0}),Object.values(k).sort(($,N)=>N.totalAmount-$.totalAmount)}),D=M(()=>{const T=new Date,k=new Date(T.getFullYear(),T.getMonth(),1).getTime(),$={};return e.value.filter(N=>(N.time||N.date)>=k).forEach(N=>{const L=N.salesperson||"";$[L]||($[L]={name:L,salesCount:0,totalAmount:0,totalProfit:0,quantity:0}),$[L].salesCount++,$[L].totalAmount+=N.actualAmount||N.totalAmount,$[L].totalProfit+=N.profit,N.products&&Array.isArray(N.products)?$[L].quantity+=N.products.reduce((H,X)=>H+X.quantity,0):$[L].quantity+=N.quantity||0}),Object.values($).sort((N,L)=>L.totalAmount-N.totalAmount)});return{sales:e,purchases:t,loading:n,getAllSales:_,loadSales:l,addSale:d,deleteSale:f,addPurchase:g,deletePurchase:p,todaySales:m,todayProfit:w,monthSales:y,monthProfit:v,totalSales:S,totalProfit:b,salesTrend:x,topProducts:O,salespersonStats:C,todaySalespersonStats:R,monthSalespersonStats:D}});function Ro(e){return A(this,null,function*(){const n=new TextEncoder().encode(e),r=yield crypto.subtle.digest("SHA-256",n);return Array.from(new Uint8Array(r)).map(a=>a.toString(16).padStart(2,"0")).join("")})}function kh(e,t){return A(this,null,function*(){return(yield Ro(e))===t})}function p1(e){return/^[a-f0-9]{64}$/i.test(e)}function Ts(e){return A(this,null,function*(){return p1(e)?e:yield Ro(e)})}const vn={MANAGER:"manager",STAFF:"staff"},b1={[vn.MANAGER]:"",[vn.STAFF]:""},Le={PRODUCT_VIEW:"product:view",PRODUCT_ADD:"product:add",PRODUCT_EDIT:"product:edit",PRODUCT_DELETE:"product:delete",PURCHASE_VIEW:"purchase:view",PURCHASE_ADD:"purchase:add",SALES_VIEW:"sales:view",SALES_ADD:"sales:add",SALES_DELETE:"sales:delete",RETURNS_VIEW:"returns:view",RETURNS_ADD:"returns:add",MEMBER_VIEW:"member:view",MEMBER_ADD:"member:add",MEMBER_EDIT:"member:edit",MEMBER_DELETE:"member:delete",MEMBER_RECHARGE:"member:recharge",STATS_VIEW:"stats:view",STATS_PROFIT:"stats:profit",STATS_REPORT:"stats:report",INVENTORY_VIEW:"inventory:view",INVENTORY_CHECK:"inventory:check",STAFF_STATS_VIEW:"staff_stats:view",STAFF_STATS_ALL:"staff_stats:all",DATA_BACKUP:"data:backup",DATA_RESTORE:"data:restore",DATA_CLEAR:"data:clear",USER_VIEW:"user:view",USER_ADD:"user:add",USER_EDIT:"user:edit",USER_DELETE:"user:delete",SETTINGS_VIEW:"settings:view",SETTINGS_EDIT:"settings:edit"},w1={[vn.MANAGER]:Object.values(Le),[vn.STAFF]:[Le.PRODUCT_VIEW,Le.SALES_VIEW,Le.SALES_ADD,Le.RETURNS_VIEW,Le.RETURNS_ADD,Le.MEMBER_VIEW,Le.MEMBER_ADD,Le.MEMBER_RECHARGE,Le.STATS_VIEW,Le.STAFF_STATS_VIEW]},Kl=[{id:"1",username:"luhongpeng",password:"lu17303838326",name:"",role:vn.MANAGER,phone:"17303838326",avatar:"",createTime:Date.now(),lastLoginTime:null,status:"active"},{id:"2",username:"lhp",password:"123456",name:"",role:vn.STAFF,phone:"",avatar:"",createTime:Date.now(),lastLoginTime:null,status:"active"}],uw=ki("user",()=>{const e=U([]),t=U(null),n=M(()=>!!t.value),r=M(()=>{var E;return((E=t.value)==null?void 0:E.role)||null}),s=M(()=>{var E;return((E=t.value)==null?void 0:E.name)||""}),o=M(()=>t.value?w1[t.value.role]||[]:[]),a=E=>t.value?o.value.includes(E):!1,i=E=>E.some(k=>a(k)),l=E=>E.every(k=>a(k)),c=M(()=>r.value===vn.MANAGER),u=M(()=>r.value===vn.MANAGER),d=()=>A(void 0,null,function*(){if(localStorage.getItem("users_migrated_to_cloud"))return;const k=localStorage.getItem("users");if(!k){yield f(),localStorage.setItem("users_migrated_to_cloud","true");return}try{const $=JSON.parse(k);console.log("...",$.length,"");for(const N of $)yield We.from(qe.USERS).upsert({id:N.id,username:N.username,password:N.password,name:N.name,role:N.role,phone:N.phone||"",avatar:N.avatar||"",status:N.status||"active",create_time:N.createTime||Date.now(),last_login_time:N.lastLoginTime||null},{onConflict:"id"});console.log(""),localStorage.setItem("users_migrated_to_cloud","true")}catch($){console.error(":",$)}}),f=()=>A(void 0,null,function*(){try{const{data:E}=yield We.from(qe.USERS).select("id").limit(1);if(E&&E.length>0){console.log("");return}for(const k of Kl){const $=yield Ts(k.password);yield We.from(qe.USERS).insert({id:k.id,username:k.username,password:$,name:k.name,role:k.role,phone:k.phone||"",avatar:k.avatar||"",status:k.status||"active",create_time:k.createTime||Date.now(),last_login_time:k.lastLoginTime||null})}console.log("")}catch(E){console.error(":",E)}}),g=()=>A(void 0,null,function*(){try{yield d();const{data:k,error:$}=yield We.from(qe.USERS).select("*").order("create_time",{ascending:!0});if($){console.error(":",$);const N=localStorage.getItem("users");if(N){const L=JSON.parse(N);e.value=yield Promise.all(L.map(H=>A(void 0,null,function*(){return Mt(Ne({},H),{password:yield Ts(H.password)})})))}else e.value=yield Promise.all(Kl.map(L=>A(void 0,null,function*(){return Mt(Ne({},L),{password:yield Ts(L.password)})})));localStorage.setItem("users",JSON.stringify(e.value));return}e.value=yield Promise.all(k.map(N=>A(void 0,null,function*(){const L=yield Ts(N.password);return{id:N.id,username:N.username,password:L,name:N.name,role:N.role,phone:N.phone||"",avatar:N.avatar||"",createTime:N.create_time,lastLoginTime:N.last_login_time,status:N.status||"active"}}))),localStorage.setItem("users",JSON.stringify(e.value)),console.log(":",e.value.length,"")}catch(k){console.error(":",k);const $=localStorage.getItem("users");if($){const N=JSON.parse($);e.value=yield Promise.all(N.map(L=>A(void 0,null,function*(){return Mt(Ne({},L),{password:yield Ts(L.password)})})))}else e.value=yield Promise.all(Kl.map(N=>A(void 0,null,function*(){return Mt(Ne({},N),{password:yield Ts(N.password)})})));localStorage.setItem("users",JSON.stringify(e.value))}const E=localStorage.getItem("currentUser");if(E&&!t.value)try{const k=JSON.parse(E),$=e.value.find(N=>N.id===k.id&&N.status==="active");$?(t.value=$,console.log(" :",$.name,":",$.role)):(localStorage.removeItem("currentUser"),console.warn(" "))}catch(k){console.error(" :",k),localStorage.removeItem("currentUser")}}),p=()=>A(void 0,null,function*(){try{localStorage.setItem("users",JSON.stringify(e.value))}catch(E){console.error(" localStorage :",E)}}),_=E=>A(void 0,null,function*(){try{const{error:k}=yield We.from(qe.USERS).upsert({id:E.id,username:E.username,password:E.password,name:E.name,role:E.role,phone:E.phone||"",avatar:E.avatar||"",status:E.status||"active",create_time:E.createTime||Date.now(),last_login_time:E.lastLoginTime||null},{onConflict:"id"});return k?(console.error(":",k),!1):!0}catch(k){return console.error(":",k),!1}}),m=E=>A(void 0,null,function*(){try{const{error:k}=yield We.from(qe.USERS).delete().eq("id",E);return k?(console.error(":",k),!1):!0}catch(k){return console.error(":",k),!1}}),w=(E,k)=>A(void 0,null,function*(){const $=e.value.find(L=>L.username===E);return $?(yield kh(k,$.password))?$.status!=="active"?{success:!1,message:""}:($.lastLoginTime=Date.now(),_($).catch(L=>{console.warn(":",L)}),yield p(),t.value=$,localStorage.setItem("currentUser",JSON.stringify($)),{success:!0,message:"",user:$}):{success:!1,message:""}:{success:!1,message:""}}),y=()=>{t.value=null,localStorage.removeItem("currentUser")},v=E=>A(void 0,null,function*(){if(e.value.some(L=>L.username===E.username))return{success:!1,message:""};const k=yield Ro(E.password||"123456"),$={id:Date.now().toString(),username:E.username,password:k,name:E.name,role:E.role||vn.STAFF,phone:E.phone||"",avatar:E.avatar||"",createTime:Date.now(),lastLoginTime:null,status:"active"};return(yield _($))||console.warn(""),e.value.push($),yield p(),{success:!0,message:"",user:$}}),S=(E,k)=>A(void 0,null,function*(){const $=e.value.findIndex(L=>L.id===E);return $===-1?{success:!1,message:""}:k.username&&e.value.find(H=>H.username===k.username&&H.id!==E)?{success:!1,message:""}:e.value[$].id==="1"&&k.role&&k.role!==vn.MANAGER?{success:!1,message:""}:(e.value[$]=Ne(Ne({},e.value[$]),k),(yield _(e.value[$]))||console.warn(""),yield p(),t.value&&t.value.id===E&&(t.value=e.value[$],localStorage.setItem("currentUser",JSON.stringify(t.value))),{success:!0,message:""})}),b=E=>A(void 0,null,function*(){const k=e.value.find(L=>L.id===E);if(!k)return{success:!1,message:""};if(k.id==="1")return{success:!1,message:""};if(t.value&&t.value.id===E)return{success:!1,message:""};(yield m(E))||console.warn("");const N=e.value.findIndex(L=>L.id===E);return e.value.splice(N,1),yield p(),{success:!0,message:""}}),x=E=>A(void 0,null,function*(){const k=e.value.find(N=>N.id===E);return k?k.id==="1"?{success:!1,message:""}:t.value&&t.value.id===E?{success:!1,message:""}:(k.status=k.status==="active"?"disabled":"active",(yield _(k))||console.warn(""),yield p(),{success:!0,message:k.status==="active"?"":""}):{success:!1,message:""}}),O=(E,k)=>A(void 0,null,function*(){if(!t.value)return{success:!1,message:""};if(!(yield kh(E,t.value.password)))return{success:!1,message:""};const N=yield Ro(k),L=e.value.findIndex(H=>H.id===t.value.id);return L!==-1&&(e.value[L].password=N,t.value.password=N,(yield _(e.value[L]))||console.warn(""),yield p(),localStorage.setItem("currentUser",JSON.stringify(t.value))),{success:!0,message:""}}),C=(E,k="123456")=>A(void 0,null,function*(){const $=e.value.findIndex(H=>H.id===E);if($===-1)return{success:!1,message:""};const N=yield Ro(k);return e.value[$].password=N,(yield _(e.value[$]))||console.warn(""),yield p(),{success:!0,message:`: ${k}`}}),R=M(()=>e.value.map(E=>Mt(Ne({},E),{password:void 0}))),D=M(()=>e.value.filter(E=>E.status==="active"));return{users:e,currentUser:t,isLoggedIn:n,currentRole:r,currentUserName:s,currentPermissions:o,isManager:c,isManagerOrAbove:u,getAllUsers:R,activeUsers:D,loadUsers:g,login:w,logout:y,addUser:v,updateUser:S,deleteUser:b,toggleUserStatus:x,changePassword:O,resetPassword:C,hasPermission:a,hasAnyPermission:i,hasAllPermissions:l,getUserNameById:E=>{const k=e.value.find($=>$.id===E);return(k==null?void 0:k.name)||""}}}),_1=Object.freeze(Object.defineProperty({__proto__:null,PERMISSIONS:Le,ROLES:vn,ROLE_NAMES:b1,useUserStore:uw},Symbol.toStringTag,{value:"Module"})),S1=ki("member",()=>{const e=U([]),t=U(!1),n=m=>({id:m.id,phone:m.phone,name:m.name||"",balance:parseFloat(m.balance)||0,totalRecharge:parseFloat(m.total_recharge)||0,totalConsumption:parseFloat(m.total_consumption)||0,discount:parseFloat(m.discount)||1,level:m.level||"",notes:m.notes||"",createTime:new Date(m.created_at).getTime()}),r=m=>({phone:m.phone,name:m.name||null,balance:parseFloat(m.balance)||0,total_recharge:parseFloat(m.totalRecharge)||0,total_consumption:parseFloat(m.totalConsumption)||0,discount:parseFloat(m.discount)||1,level:m.level||"",notes:m.notes||null}),s=()=>A(void 0,null,function*(){t.value=!0;try{const m=localStorage.getItem("members");m&&(e.value=JSON.parse(m),console.log("  localStorage ",e.value.length,""));const{data:w,error:y}=yield We.from(qe.MEMBERS).select("*").order("created_at",{ascending:!1});if(y){console.error(" :",y),console.log("  localStorage "),o();return}if(w&&w.length>0){const v=w.map(n);if(e.value.length>0){console.log(" ...");const S=new Map;e.value.forEach(b=>{S.set(b.id,b)}),v.forEach(b=>{const x=S.get(b.id);if(!x)S.set(b.id,b);else{const O=x.totalConsumption!==void 0&&x.totalConsumption!==null,C=b.totalConsumption!==void 0&&b.totalConsumption!==null;O&&!C?console.log("  ",x.name||x.phone,"- "):b.balance!==x.balance||b.totalConsumption!==x.totalConsumption?console.log("  ",x.name||x.phone,"- "):S.set(b.id,b)}}),e.value=Array.from(S.values()),console.log(" ",e.value.length,"")}else e.value=v,console.log(" ",e.value.length,"");yield a()}else console.log("  localStorage ");o()}catch(m){console.error(" :",m),console.log("  localStorage "),o()}finally{t.value=!1}}),o=()=>{let m=!1;e.value=e.value.map(w=>w.totalConsumption===void 0||w.totalConsumption===null?(console.log(" :",w.name||w.phone,"-  totalConsumption "),m=!0,Mt(Ne({},w),{totalConsumption:0,totalRecharge:w.totalRecharge||0})):w),m&&(a(),console.log(" "))},a=()=>A(void 0,null,function*(){try{localStorage.setItem("members",JSON.stringify(e.value))}catch(m){console.error("localStorage:",m)}}),i=M(()=>e.value),l=m=>e.value.find(w=>w.phone===m),c=m=>e.value.find(w=>w.id===m);return{members:e,loading:t,getAllMembers:i,loadMembers:s,getMemberByPhone:l,getMemberById:c,addMember:m=>A(void 0,null,function*(){try{if(l(m.phone))return{success:!1,message:""};const y=r(m),{data:v,error:S}=yield We.from(qe.MEMBERS).insert([y]).select().single();if(S)throw S;const b=n(v);return e.value.unshift(b),yield a(),{success:!0,data:b}}catch(w){console.error(":",w);const y=Mt(Ne({},m),{id:Date.now().toString(),createTime:Date.now(),balance:m.balance||0,totalRecharge:m.totalRecharge||0,totalConsumption:0,discount:m.discount||1,level:m.level||""});return e.value.push(y),a(),{success:!0,data:y}}}),updateMember:(m,w)=>A(void 0,null,function*(){try{const y={};w.name!==void 0&&(y.name=w.name),w.balance!==void 0&&(y.balance=w.balance),w.totalRecharge!==void 0&&(y.total_recharge=w.totalRecharge),w.totalConsumption!==void 0&&(y.total_consumption=w.totalConsumption),w.discount!==void 0&&(y.discount=w.discount),w.level!==void 0&&(y.level=w.level),w.notes!==void 0&&(y.notes=w.notes);const{error:v}=yield We.from(qe.MEMBERS).update(y).eq("id",m);if(v)throw v;const S=e.value.findIndex(b=>b.id===m);return S!==-1?(e.value[S]=Ne(Ne({},e.value[S]),w),yield a(),!0):!1}catch(y){console.error(":",y);const v=e.value.findIndex(S=>S.id===m);return v!==-1?(e.value[v]=Ne(Ne({},e.value[v]),w),a(),!0):!1}}),deleteMember:m=>A(void 0,null,function*(){const w=e.value.findIndex(v=>v.id===m);if(w===-1)return console.error(" :",m),!1;const y=e.value[w];try{if(e.value.splice(w,1),yield a(),!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(m))return console.log(" :",m),!0;const{error:b}=yield We.from(qe.MEMBERS).delete().eq("id",m);if(b)throw console.error(" :",b),e.value.splice(w,0,y),yield a(),b;return console.log(" :",m),!0}catch(v){return console.error(" :",v),e.value.findIndex(b=>b.id===m)===-1&&y&&(e.value.splice(w,0,y),yield a()),!1}}),rechargeMember:(m,w,y="",v="")=>A(void 0,null,function*(){try{const S=c(m);if(!S)return{success:!1,message:""};const b=S.balance+w,x=S.totalRecharge+w,O=e.value.findIndex(T=>T.id===m);O!==-1&&(e.value[O]=Mt(Ne({},e.value[O]),{balance:b,totalRecharge:x}));const C={balance:b,total_recharge:x},{error:R}=yield We.from(qe.MEMBERS).update(C).eq("id",m);R&&console.error(":",R),yield a();const{error:D}=yield We.from(qe.MEMBER_RECHARGES).insert([{member_id:m,amount:w,payment_method:y,notes:v}]);return D&&console.error(":",D),{success:!0,balance:b}}catch(S){return console.error(":",S),{success:!1,message:""}}}),consumeMember:(m,w)=>A(void 0,null,function*(){try{const y=c(m);if(!y)return{success:!1,message:""};if(y.balance<w)return{success:!1,message:""};const v=y.balance-w,S=y.totalConsumption+w,b=e.value.findIndex(C=>C.id===m);b!==-1&&(e.value[b]=Mt(Ne({},e.value[b]),{balance:v,totalConsumption:S}));const x={balance:v,total_consumption:S};console.log(" :",{memberId:m,:w,:v,:S});const{error:O}=yield We.from(qe.MEMBERS).update(x).eq("id",m);return O?console.error(" :",O):console.log(" "),yield a(),console.log("  localStorage"),{success:!0,balance:v,totalConsumption:S}}catch(y){return console.error(":",y),{success:!1,message:""}}}),searchMembers:m=>{if(!m)return e.value;const w=m.toLowerCase();return e.value.filter(y=>y.phone.includes(m)||y.name&&y.name.toLowerCase().includes(w))}}}),dw="offline_operation_queue",dn={ADD_PRODUCT:"ADD_PRODUCT",UPDATE_PRODUCT:"UPDATE_PRODUCT",DELETE_PRODUCT:"DELETE_PRODUCT",ADD_SALE:"ADD_SALE",ADD_PURCHASE:"ADD_PURCHASE",ADD_MEMBER:"ADD_MEMBER",UPDATE_MEMBER:"UPDATE_MEMBER",RECHARGE_MEMBER:"RECHARGE_MEMBER",ADD_USER:"ADD_USER",UPDATE_USER:"UPDATE_USER",DELETE_USER:"DELETE_USER"};function Fu(){try{const e=localStorage.getItem(dw);return e?JSON.parse(e):[]}catch(e){return console.error(":",e),[]}}function fw(e){try{localStorage.setItem(dw,JSON.stringify(e))}catch(t){console.error(":",t)}}function E1(e){const n=Fu().filter(r=>r.id!==e);fw(n)}function T1(){return Fu().length}function C1(e){return A(this,null,function*(){const t=Fu();if(t.length===0)return console.log(" "),{success:!0,processed:0,failed:0};console.log(`  ${t.length} `);let n=0,r=0;const s=[];for(const o of t)try{yield x1(o,e),E1(o.id),n++,console.log(` : ${o.type}`)}catch(a){console.error(` : ${o.type}`,a),r++,s.push(o)}return s.length>0&&fw(s),console.log(` :  ${n},  ${r}`),{success:r===0,processed:n,failed:r,failedOperations:s}})}function x1(e,t){return A(this,null,function*(){const{type:n,data:r}=e,{productStore:s,salesStore:o,memberStore:a,userStore:i}=t;switch(n){case dn.ADD_PRODUCT:yield s.addProduct(r);break;case dn.UPDATE_PRODUCT:yield s.updateProduct(r.id,r.updates);break;case dn.DELETE_PRODUCT:yield s.deleteProduct(r.id);break;case dn.ADD_SALE:yield o.addSale(r);break;case dn.ADD_PURCHASE:yield o.addPurchase(r);break;case dn.ADD_MEMBER:yield a.addMember(r);break;case dn.UPDATE_MEMBER:yield a.updateMember(r.id,r.updates);break;case dn.RECHARGE_MEMBER:yield a.rechargeMember(r.id,r.amount,r.paymentMethod,r.notes);break;case dn.ADD_USER:yield i.addUser(r);break;case dn.UPDATE_USER:yield i.updateUser(r.id,r.updates);break;case dn.DELETE_USER:yield i.deleteUser(r.id);break;default:console.warn(":",n)}})}function k1(e){window.addEventListener("online",()=>A(this,null,function*(){console.log(" ..."),setTimeout(()=>A(this,null,function*(){const t=yield C1(e);t.processed>0&&window.showNotification&&window.showNotification({title:"",message:` ${t.processed} `,type:"success"})}),1e3)})),console.log(" ")}const A1=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},O1={key:0,class:"offline-indicator"},R1={__name:"OfflineIndicator",setup(e){const t=U(navigator.onLine),n=()=>{t.value=navigator.onLine,t.value?(console.log(" "),window.dispatchEvent(new CustomEvent("online-sync"))):console.log(" ")};return Ze(()=>{window.addEventListener("online",n),window.addEventListener("offline",n)}),ns(()=>{window.removeEventListener("online",n),window.removeEventListener("offline",n)}),(r,s)=>{const o=Eg("van-notice-bar");return No(),tu(Gs,{name:"slide-down"},{default:Do(()=>[t.value?i_("",!0):(No(),Vg("div",O1,[h(o,{"left-icon":"warning-o",color:"#ff976a",background:"#fff7cc",scrollable:!1},{default:Do(()=>[...s[0]||(s[0]=[nu("span",{class:"offline-text"},"   ",-1)])]),_:1})]))]),_:1})}}},P1=A1(R1,[["__scopeId","data-v-7391afc8"]]),I1={id:"app"},$1={__name:"App",setup(e){const t=lE(),n=go(),r=y1(),s=uw(),o=S1(),a=U("slide-left"),i=U([]);return oe(()=>t.currentRoute.value,(l,c)=>{var f;const u=l.path.split("/").length,d=((f=c==null?void 0:c.path)==null?void 0:f.split("/").length)||0;u>d?a.value="slide-left":u<d?a.value="slide-right":a.value="fade",i.value.push(l.path),i.value.length>10&&i.value.shift()},{immediate:!0}),Ze(()=>A(this,null,function*(){try{yield s.loadUsers(),n.loadProducts(),r.loadSales(),o.loadMembers(),yield g1(),k1({productStore:n,salesStore:r,memberStore:o,userStore:s});const l=T1();l>0&&console.log(`  ${l} `)}catch(l){console.error(":",l)}})),(l,c)=>{const u=Eg("router-view");return No(),Vg("div",I1,[h(P1),h(u,null,{default:Do(({Component:d,route:f})=>[h(Gs,{name:a.value,mode:"out-in"},{default:Do(()=>[(No(),tu(R0(d),{key:f.path}))]),_:2},1032,["name"])]),_:1})])}}},D1="modulepreload",B1=function(e){return"/"+e},Ah={},nt=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),i=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=B1(l),l in Ah)return;Ah[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":D1,c||(d.as="script"),d.crossOrigin="",d.href=l,i&&d.setAttribute("nonce",i),document.head.appendChild(d),c)return new Promise((f,g)=>{d.addEventListener("load",f),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(a){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=a,window.dispatchEvent(i),!i.defaultPrevented)throw a}return s.then(a=>{for(const i of a||[])i.status==="rejected"&&o(i.reason);return t().catch(o)})},N1=[{path:"/",redirect:"/login"},{path:"/login",name:"Login",component:()=>nt(()=>import("./Login.BQOv8i04.js"),__vite__mapDeps([0,1])),meta:{title:"",public:!0}},{path:"/home",name:"Home",component:()=>nt(()=>import("./Home.CUYMrcls.js"),__vite__mapDeps([2,3])),meta:{title:""}},{path:"/products",name:"Products",component:()=>nt(()=>import("./Products.D8F3WS5C.js"),__vite__mapDeps([4,5,6])),meta:{title:"",permission:Le.PRODUCT_VIEW}},{path:"/product/query",name:"ProductQuery",component:()=>nt(()=>import("./ProductQuery.CXn4Gy7V.js"),__vite__mapDeps([7,8])),meta:{title:""}},{path:"/product/add",name:"ProductAdd",component:()=>nt(()=>import("./ProductForm.D6G2w3AC.js"),__vite__mapDeps([9,10])),meta:{title:"",permission:Le.PRODUCT_ADD}},{path:"/product/edit/:id",name:"ProductEdit",component:()=>nt(()=>import("./ProductForm.D6G2w3AC.js"),__vite__mapDeps([9,10])),meta:{title:"",permission:Le.PRODUCT_EDIT}},{path:"/product/batch-add",name:"ProductBatchAdd",component:()=>nt(()=>import("./ProductBatchAdd.CFHnkSXR.js"),__vite__mapDeps([11,12])),meta:{title:"",permission:Le.PRODUCT_ADD}},{path:"/purchase",name:"Purchase",component:()=>nt(()=>import("./Purchase.45ykPM8T.js"),__vite__mapDeps([13,14])),meta:{title:"",permission:Le.PURCHASE_VIEW}},{path:"/sales",name:"Sales",component:()=>nt(()=>import("./Sales.Cc1uCDcH.js"),__vite__mapDeps([15,16])),meta:{title:"",permission:Le.SALES_VIEW}},{path:"/sales/add",name:"SalesAdd",component:()=>nt(()=>import("./CartSales.916aEmdC.js"),__vite__mapDeps([17,18])),meta:{title:"",permission:Le.SALES_ADD}},{path:"/statistics",name:"Statistics",component:()=>nt(()=>import("./Statistics.ClGqlnrz.js"),__vite__mapDeps([19,20])),meta:{title:"",permission:Le.STATS_PROFIT}},{path:"/data-management",name:"DataManagement",component:()=>nt(()=>import("./DataManagement.6kFEhIqb.js"),__vite__mapDeps([21,22])),meta:{title:"",permission:Le.DATA_BACKUP}},{path:"/staff-stats",name:"StaffStats",component:()=>nt(()=>import("./StaffStats.Bgv9a01X.js"),__vite__mapDeps([23,24])),meta:{title:"",permission:Le.STAFF_STATS_VIEW}},{path:"/daily-report",name:"DailyReport",component:()=>nt(()=>import("./DailyReport.TbLtFz1v.js"),__vite__mapDeps([25,26])),meta:{title:"",permission:Le.STATS_REPORT}},{path:"/inventory",name:"Inventory",component:()=>nt(()=>import("./Inventory.DUnrb1xx.js"),__vite__mapDeps([27,5,28])),meta:{title:"",permission:Le.INVENTORY_VIEW}},{path:"/returns",name:"Returns",component:()=>nt(()=>import("./Returns.DL7JTFne.js"),__vite__mapDeps([29,30])),meta:{title:"",permission:Le.RETURNS_VIEW}},{path:"/members",name:"Members",component:()=>nt(()=>import("./Members.D6pb-a_f.js"),__vite__mapDeps([31,32])),meta:{title:"",permission:Le.MEMBER_VIEW}},{path:"/member/recharge/:memberId",name:"MemberRecharge",component:()=>nt(()=>import("./MemberRecharge.DFudfAnN.js"),__vite__mapDeps([33,34])),meta:{title:"",permission:Le.MEMBER_RECHARGE}},{path:"/member/history",name:"MemberHistory",component:()=>nt(()=>import("./MemberHistory.BawcSlru.js"),__vite__mapDeps([35,36])),meta:{title:"",permission:Le.MEMBER_VIEW}},{path:"/user-management",name:"UserManagement",component:()=>nt(()=>import("./UserManagement.uOIVxCM8.js"),__vite__mapDeps([37,38])),meta:{title:"",permission:Le.USER_VIEW}},{path:"/operation-logs",name:"OperationLogs",component:()=>nt(()=>import("./OperationLogs.n5whXv8F.js"),__vite__mapDeps([39,40])),meta:{title:"",permission:Le.USER_VIEW}}],hw=iE({history:jS(),routes:N1});hw.beforeEach((e,t,n)=>A(void 0,null,function*(){if(document.title=e.meta.title||"",e.meta.public){n();return}const{useUserStore:r}=yield nt(()=>A(void 0,null,function*(){const{useUserStore:o}=yield Promise.resolve().then(()=>_1);return{useUserStore:o}}),void 0),s=r();if(s.users.length||(yield s.loadUsers()),!s.isLoggedIn){n({path:"/login",query:{redirect:e.fullPath}});return}if(e.meta.permission&&!s.hasPermission(e.meta.permission)){n({path:"/home"});return}n()}));const Ha="1.0.1",gw="app_version";function L1(){const e=localStorage.getItem(gw);return e&&e!==Ha?{hasUpdate:!0,oldVersion:e,newVersion:Ha}:{hasUpdate:!1,currentVersion:Ha}}function Lc(){localStorage.setItem(gw,Ha)}function M1(){return A(this,null,function*(){try{const e=localStorage.getItem("userInfo"),t=localStorage.getItem("token");if(localStorage.clear(),e&&localStorage.setItem("userInfo",e),t&&localStorage.setItem("token",t),"serviceWorker"in navigator){const n=yield navigator.serviceWorker.getRegistrations();for(const r of n)yield r.unregister()}if("caches"in window){const n=yield caches.keys();yield Promise.all(n.map(r=>caches.delete(r)))}Lc(),window.location.reload(!0)}catch(e){console.error(":",e),window.location.reload(!0)}})}function j1(){const e=L1();if(e.hasUpdate){const t=` ${e.newVersion} ${e.oldVersion}`;confirm(t)?M1():Lc()}else Lc()}const Qi=Gg($1),U1=J_();Qi.use(U1);Qi.use(hw);Qi.use(iw);Qi.mount("#app");j1();export{nA as A,S1 as B,We as C,H1 as D,Gy as E,lt as F,nt as G,ki as H,vn as I,q1 as J,Le as P,b1 as R,qe as T,A1 as _,lE as a,nu as b,Vg as c,h as d,Eg as e,ru as f,No as g,tA as h,go as i,y1 as j,M as k,Qt as l,tu as m,i_ as n,Ze as o,F1 as p,HO as q,U as r,Jo as s,Bw as t,uw as u,pi as v,Do as w,z1 as x,W1 as y,eA as z};
